(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function ME(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var wm={exports:{}},nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function fS(){if(A0)return nu;A0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:h,ref:o!==void 0?o:null,props:u}}return nu.Fragment=e,nu.jsx=t,nu.jsxs=t,nu}var R0;function dS(){return R0||(R0=1,wm.exports=fS()),wm.exports}var b=dS(),Sm={exports:{}},ru={},Am={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function mS(){return x0||(x0=1,function(r){function e(ce,Re){var Ee=ce.length;ce.push(Re);e:for(;0<Ee;){var ke=Ee-1>>>1,k=ce[ke];if(0<o(k,Re))ce[ke]=Re,ce[Ee]=k,Ee=ke;else break e}}function t(ce){return ce.length===0?null:ce[0]}function a(ce){if(ce.length===0)return null;var Re=ce[0],Ee=ce.pop();if(Ee!==Re){ce[0]=Ee;e:for(var ke=0,k=ce.length,ae=k>>>1;ke<ae;){var ge=2*(ke+1)-1,fe=ce[ge],de=ge+1,De=ce[de];if(0>o(fe,Ee))de<k&&0>o(De,fe)?(ce[ke]=De,ce[de]=Ee,ke=de):(ce[ke]=fe,ce[ge]=Ee,ke=ge);else if(de<k&&0>o(De,Ee))ce[ke]=De,ce[de]=Ee,ke=de;else break e}}return Re}function o(ce,Re){var Ee=ce.sortIndex-Re.sortIndex;return Ee!==0?Ee:ce.id-Re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],E=1,T=null,S=3,C=!1,P=!1,$=!1,j=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function Z(ce){for(var Re=t(g);Re!==null;){if(Re.callback===null)a(g);else if(Re.startTime<=ce)a(g),Re.sortIndex=Re.expirationTime,e(p,Re);else break;Re=t(g)}}function oe(ce){if($=!1,Z(ce),!P)if(t(p)!==null)P=!0,pt();else{var Re=t(g);Re!==null&&Ue(oe,Re.startTime-ce)}}var V=!1,ue=-1,M=5,x=-1;function R(){return!(r.unstable_now()-x<M)}function I(){if(V){var ce=r.unstable_now();x=ce;var Re=!0;try{e:{P=!1,$&&($=!1,X(ue),ue=-1),C=!0;var Ee=S;try{t:{for(Z(ce),T=t(p);T!==null&&!(T.expirationTime>ce&&R());){var ke=T.callback;if(typeof ke=="function"){T.callback=null,S=T.priorityLevel;var k=ke(T.expirationTime<=ce);if(ce=r.unstable_now(),typeof k=="function"){T.callback=k,Z(ce),Re=!0;break t}T===t(p)&&a(p),Z(ce)}else a(p);T=t(p)}if(T!==null)Re=!0;else{var ae=t(g);ae!==null&&Ue(oe,ae.startTime-ce),Re=!1}}break e}finally{T=null,S=Ee,C=!1}Re=void 0}}finally{Re?U():V=!1}}}var U;if(typeof ee=="function")U=function(){ee(I)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,N=H.port2;H.port1.onmessage=I,U=function(){N.postMessage(null)}}else U=function(){j(I,0)};function pt(){V||(V=!0,U())}function Ue(ce,Re){ue=j(function(){ce(r.unstable_now())},Re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ce){ce.callback=null},r.unstable_continueExecution=function(){P||C||(P=!0,pt())},r.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ce?Math.floor(1e3/ce):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(ce){switch(S){case 1:case 2:case 3:var Re=3;break;default:Re=S}var Ee=S;S=Re;try{return ce()}finally{S=Ee}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ce,Re){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var Ee=S;S=ce;try{return Re()}finally{S=Ee}},r.unstable_scheduleCallback=function(ce,Re,Ee){var ke=r.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?ke+Ee:ke):Ee=ke,ce){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Ee+k,ce={id:E++,callback:Re,priorityLevel:ce,startTime:Ee,expirationTime:k,sortIndex:-1},Ee>ke?(ce.sortIndex=Ee,e(g,ce),t(p)===null&&ce===t(g)&&($?(X(ue),ue=-1):$=!0,Ue(oe,Ee-ke))):(ce.sortIndex=k,e(p,ce),P||C||(P=!0,pt())),ce},r.unstable_shouldYield=R,r.unstable_wrapCallback=function(ce){var Re=S;return function(){var Ee=S;S=Re;try{return ce.apply(this,arguments)}finally{S=Ee}}}}(Rm)),Rm}var C0;function pS(){return C0||(C0=1,Am.exports=mS()),Am.exports}var xm={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function gS(){if(I0)return qe;I0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function S(k){return k===null||typeof k!="object"?null:(k=T&&k[T]||k["@@iterator"],typeof k=="function"?k:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,$={};function j(k,ae,ge){this.props=k,this.context=ae,this.refs=$,this.updater=ge||C}j.prototype.isReactComponent={},j.prototype.setState=function(k,ae){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ae,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function X(){}X.prototype=j.prototype;function ee(k,ae,ge){this.props=k,this.context=ae,this.refs=$,this.updater=ge||C}var Z=ee.prototype=new X;Z.constructor=ee,P(Z,j.prototype),Z.isPureReactComponent=!0;var oe=Array.isArray,V={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function M(k,ae,ge,fe,de,De){return ge=De.ref,{$$typeof:r,type:k,key:ae,ref:ge!==void 0?ge:null,props:De}}function x(k,ae){return M(k.type,ae,void 0,void 0,void 0,k.props)}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function I(k){var ae={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ge){return ae[ge]})}var U=/\/+/g;function H(k,ae){return typeof k=="object"&&k!==null&&k.key!=null?I(""+k.key):ae.toString(36)}function N(){}function pt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(N,N):(k.status="pending",k.then(function(ae){k.status==="pending"&&(k.status="fulfilled",k.value=ae)},function(ae){k.status==="pending"&&(k.status="rejected",k.reason=ae)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Ue(k,ae,ge,fe,de){var De=typeof k;(De==="undefined"||De==="boolean")&&(k=null);var Le=!1;if(k===null)Le=!0;else switch(De){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(k.$$typeof){case r:case e:Le=!0;break;case E:return Le=k._init,Ue(Le(k._payload),ae,ge,fe,de)}}if(Le)return de=de(k),Le=fe===""?"."+H(k,0):fe,oe(de)?(ge="",Le!=null&&(ge=Le.replace(U,"$&/")+"/"),Ue(de,ae,ge,"",function(Fe){return Fe})):de!=null&&(R(de)&&(de=x(de,ge+(de.key==null||k&&k.key===de.key?"":(""+de.key).replace(U,"$&/")+"/")+Le)),ae.push(de)),1;Le=0;var _t=fe===""?".":fe+":";if(oe(k))for(var We=0;We<k.length;We++)fe=k[We],De=_t+H(fe,We),Le+=Ue(fe,ae,ge,De,de);else if(We=S(k),typeof We=="function")for(k=We.call(k),We=0;!(fe=k.next()).done;)fe=fe.value,De=_t+H(fe,We++),Le+=Ue(fe,ae,ge,De,de);else if(De==="object"){if(typeof k.then=="function")return Ue(pt(k),ae,ge,fe,de);throw ae=String(k),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ce(k,ae,ge){if(k==null)return k;var fe=[],de=0;return Ue(k,fe,"","",function(De){return ae.call(ge,De,de++)}),fe}function Re(k){if(k._status===-1){var ae=k._result;ae=ae(),ae.then(function(ge){(k._status===0||k._status===-1)&&(k._status=1,k._result=ge)},function(ge){(k._status===0||k._status===-1)&&(k._status=2,k._result=ge)}),k._status===-1&&(k._status=0,k._result=ae)}if(k._status===1)return k._result.default;throw k._result}var Ee=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ke(){}return qe.Children={map:ce,forEach:function(k,ae,ge){ce(k,function(){ae.apply(this,arguments)},ge)},count:function(k){var ae=0;return ce(k,function(){ae++}),ae},toArray:function(k){return ce(k,function(ae){return ae})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},qe.Component=j,qe.Fragment=t,qe.Profiler=o,qe.PureComponent=ee,qe.StrictMode=a,qe.Suspense=p,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,qe.act=function(){throw Error("act(...) is not supported in production builds of React.")},qe.cache=function(k){return function(){return k.apply(null,arguments)}},qe.cloneElement=function(k,ae,ge){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var fe=P({},k.props),de=k.key,De=void 0;if(ae!=null)for(Le in ae.ref!==void 0&&(De=void 0),ae.key!==void 0&&(de=""+ae.key),ae)!ue.call(ae,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&ae.ref===void 0||(fe[Le]=ae[Le]);var Le=arguments.length-2;if(Le===1)fe.children=ge;else if(1<Le){for(var _t=Array(Le),We=0;We<Le;We++)_t[We]=arguments[We+2];fe.children=_t}return M(k.type,de,void 0,void 0,De,fe)},qe.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},qe.createElement=function(k,ae,ge){var fe,de={},De=null;if(ae!=null)for(fe in ae.key!==void 0&&(De=""+ae.key),ae)ue.call(ae,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(de[fe]=ae[fe]);var Le=arguments.length-2;if(Le===1)de.children=ge;else if(1<Le){for(var _t=Array(Le),We=0;We<Le;We++)_t[We]=arguments[We+2];de.children=_t}if(k&&k.defaultProps)for(fe in Le=k.defaultProps,Le)de[fe]===void 0&&(de[fe]=Le[fe]);return M(k,De,void 0,void 0,null,de)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(k){return{$$typeof:d,render:k}},qe.isValidElement=R,qe.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:Re}},qe.memo=function(k,ae){return{$$typeof:g,type:k,compare:ae===void 0?null:ae}},qe.startTransition=function(k){var ae=V.T,ge={};V.T=ge;try{var fe=k(),de=V.S;de!==null&&de(ge,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ke,Ee)}catch(De){Ee(De)}finally{V.T=ae}},qe.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},qe.use=function(k){return V.H.use(k)},qe.useActionState=function(k,ae,ge){return V.H.useActionState(k,ae,ge)},qe.useCallback=function(k,ae){return V.H.useCallback(k,ae)},qe.useContext=function(k){return V.H.useContext(k)},qe.useDebugValue=function(){},qe.useDeferredValue=function(k,ae){return V.H.useDeferredValue(k,ae)},qe.useEffect=function(k,ae){return V.H.useEffect(k,ae)},qe.useId=function(){return V.H.useId()},qe.useImperativeHandle=function(k,ae,ge){return V.H.useImperativeHandle(k,ae,ge)},qe.useInsertionEffect=function(k,ae){return V.H.useInsertionEffect(k,ae)},qe.useLayoutEffect=function(k,ae){return V.H.useLayoutEffect(k,ae)},qe.useMemo=function(k,ae){return V.H.useMemo(k,ae)},qe.useOptimistic=function(k,ae){return V.H.useOptimistic(k,ae)},qe.useReducer=function(k,ae,ge){return V.H.useReducer(k,ae,ge)},qe.useRef=function(k){return V.H.useRef(k)},qe.useState=function(k){return V.H.useState(k)},qe.useSyncExternalStore=function(k,ae,ge){return V.H.useSyncExternalStore(k,ae,ge)},qe.useTransition=function(){return V.H.useTransition()},qe.version="19.0.0",qe}var D0;function Ap(){return D0||(D0=1,xm.exports=gS()),xm.exports}var Cm={exports:{}},Rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function yS(){if(N0)return Rn;N0=1;var r=Ap();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Rn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Rn.flushSync=function(p){var g=h.T,E=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=g,a.p=E,a.d.f()}},Rn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Rn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Rn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:C}):E==="script"&&a.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Rn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Rn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin);a.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Rn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Rn.requestFormReset=function(p){a.d.r(p)},Rn.unstable_batchedUpdates=function(p,g){return p(g)},Rn.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Rn.useFormStatus=function(){return h.H.useHostTransitionStatus()},Rn.version="19.0.0",Rn}var O0;function PE(){if(O0)return Cm.exports;O0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cm.exports=yS(),Cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function vS(){if(M0)return ru;M0=1;var r=pS(),e=Ap(),t=PE();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),oe=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function ue(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function x(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case $:return"Suspense";case j:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case C:return(n.displayName||"Context")+".Provider";case S:return(n._context.displayName||"Context")+".Consumer";case P:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case X:return i=n.displayName||null,i!==null?i:x(n.type)||"Memo";case ee:i=n._payload,n=n._init;try{return x(n(i))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,U,H;function N(n){if(U===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);U=i&&i[1]||"",H=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+n+H}var pt=!1;function Ue(n,i){if(!n||pt)return"";pt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var Q=J}Reflect.construct(n,[],se)}else{try{se.call()}catch(J){Q=J}n.call(se.prototype)}}else{try{throw Error()}catch(J){Q=J}(se=n())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],w=m[1];if(_&&w){var D=_.split(`
`),B=w.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===B.length)for(l=D.length-1,f=B.length-1;1<=l&&0<=f&&D[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==B[f]){var te=`
`+D[l].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=l&&0<=f);break}}}finally{pt=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?N(s):""}function ce(n){switch(n.tag){case 26:case 27:case 5:return N(n.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return n=Ue(n.type,!1),n;case 11:return n=Ue(n.type.render,!1),n;case 1:return n=Ue(n.type,!0),n;default:return""}}function Re(n){try{var i="";do i+=ce(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Ee(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function ke(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function k(n){if(Ee(n)!==n)throw Error(a(188))}function ae(n){var i=n.alternate;if(!i){if(i=Ee(n),i===null)throw Error(a(188));return i!==n?null:n}for(var s=n,l=i;;){var f=s.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===s)return k(f),n;if(m===l)return k(f),i;m=m.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=m;else{for(var _=!1,w=f.child;w;){if(w===s){_=!0,s=f,l=m;break}if(w===l){_=!0,l=f,s=m;break}w=w.sibling}if(!_){for(w=m.child;w;){if(w===s){_=!0,s=m,l=f;break}if(w===l){_=!0,l=m,s=f;break}w=w.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:i}function ge(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=ge(n),i!==null)return i;n=n.sibling}return null}var fe=Array.isArray,de=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,De={pending:!1,data:null,method:null,action:null},Le=[],_t=-1;function We(n){return{current:n}}function Fe(n){0>_t||(n.current=Le[_t],Le[_t]=null,_t--)}function Qe(n,i){_t++,Le[_t]=n.current,n.current=i}var Ut=We(null),Un=We(null),Ct=We(null),qn=We(null);function je(n,i){switch(Qe(Ct,i),Qe(Un,n),Qe(Ut,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?e0(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=e0(n),i=t0(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Fe(Ut),Qe(Ut,i)}function qt(){Fe(Ut),Fe(Un),Fe(Ct)}function Lr(n){n.memoizedState!==null&&Qe(qn,n);var i=Ut.current,s=t0(i,n.type);i!==s&&(Qe(Un,n),Qe(Ut,s))}function wr(n){Un.current===n&&(Fe(Ut),Fe(Un)),qn.current===n&&(Fe(qn),Wl._currentValue=De)}var Sr=Object.prototype.hasOwnProperty,di=r.unstable_scheduleCallback,jn=r.unstable_cancelCallback,mi=r.unstable_shouldYield,ea=r.unstable_requestPaint,rn=r.unstable_now,Gn=r.unstable_getCurrentPriorityLevel,gt=r.unstable_ImmediatePriority,jt=r.unstable_UserBlockingPriority,Kn=r.unstable_NormalPriority,$s=r.unstable_LowPriority,zn=r.unstable_IdlePriority,Qs=r.log,Ur=r.unstable_setDisableYieldValue,Ar=null,an=null;function ta(n){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Ar,n,void 0,(n.current.flags&128)===128)}catch{}}function Nn(n){if(typeof Qs=="function"&&Ur(n),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(Ar,n)}catch{}}var sn=Math.clz32?Math.clz32:Za,pi=Math.log,Ys=Math.LN2;function Za(n){return n>>>=0,n===0?32:31-(pi(n)/Ys|0)|0}var tr=128,Rr=4194304;function Sn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function gn(n,i){var s=n.pendingLanes;if(s===0)return 0;var l=0,f=n.suspendedLanes,m=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var w=s&134217727;return w!==0?(s=w&~f,s!==0?l=Sn(s):(m&=w,m!==0?l=Sn(m):n||(_=w&~_,_!==0&&(l=Sn(_))))):(w=s&~f,w!==0?l=Sn(w):m!==0?l=Sn(m):n||(_=s&~_,_!==0&&(l=Sn(_)))),l===0?0:i!==0&&i!==l&&(i&f)===0&&(f=l&-l,_=i&-i,f>=_||f===32&&(_&4194176)!==0)?i:l}function jr(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function na(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L(){var n=tr;return tr<<=1,(tr&4194176)===0&&(tr=128),n}function F(){var n=Rr;return Rr<<=1,(Rr&62914560)===0&&(Rr=4194304),n}function Y(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function ne(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function me(n,i,s,l,f,m){var _=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var w=n.entanglements,D=n.expirationTimes,B=n.hiddenUpdates;for(s=_&~s;0<s;){var te=31-sn(s),se=1<<te;w[te]=0,D[te]=-1;var Q=B[te];if(Q!==null)for(B[te]=null,te=0;te<Q.length;te++){var J=Q[te];J!==null&&(J.lane&=-536870913)}s&=~se}l!==0&&xe(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(_&~i))}function xe(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-sn(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|s&4194218}function Ae(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var l=31-sn(s),f=1<<l;f&i|n[l]&i&&(n[l]|=i),s&=~f}}function Te(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function we(){var n=de.p;return n!==0?n:(n=window.event,n===void 0?32:_0(n.type))}function pe(n,i){var s=de.p;try{return de.p=n,i()}finally{de.p=s}}var ve=Math.random().toString(36).slice(2),_e="__reactFiber$"+ve,Ne="__reactProps$"+ve,ot="__reactContainer$"+ve,Rt="__reactEvents$"+ve,Et="__reactListeners$"+ve,st="__reactHandles$"+ve,At="__reactResources$"+ve,On="__reactMarker$"+ve;function $n(n){delete n[_e],delete n[Ne],delete n[Rt],delete n[Et],delete n[st]}function zt(n){var i=n[_e];if(i)return i;for(var s=n.parentNode;s;){if(i=s[ot]||s[_e]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=i0(n);n!==null;){if(s=n[_e])return s;n=i0(n)}return i}n=s,s=n.parentNode}return null}function Gt(n){if(n=n[_e]||n[ot]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function nr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Bn(n){var i=n[At];return i||(i=n[At]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(n){n[On]=!0}var zr=new Set,xr={};function Ge(n,i){ft(n,i),ft(n+"Capture",i)}function ft(n,i){for(xr[n]=i,n=0;n<i.length;n++)zr.add(i[n])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tt={},rr={};function Ja(n){return Sr.call(rr,n)?!0:Sr.call(Tt,n)?!1:gi.test(n)?rr[n]=!0:(Tt[n]=!0,!1)}function Br(n,i,s){if(Ja(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function ra(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function ir(n,i,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+l)}}function Mn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qu(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Cf(n){var i=Qu(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,m=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){l=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function es(n){n._valueTracker||(n._valueTracker=Cf(n))}function ol(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return n&&(l=Qu(n)?n.checked?"true":"false":n.value),n=l,n!==s?(i.setValue(n),!0):!1}function Xs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var yi=/[\n"\\]/g;function Ot(n){return n.replace(yi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ia(n,i,s,l,f,m,_,w){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Mn(i)):n.value!==""+Mn(i)&&(n.value=""+Mn(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?Ws(n,_,Mn(i)):s!=null?Ws(n,_,Mn(s)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+Mn(w):n.removeAttribute("name")}function ts(n,i,s,l,f,m,_,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;s=s!=null?""+Mn(s):"",i=i!=null?""+Mn(i):s,w||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function Ws(n,i,s){i==="number"&&Xs(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function lt(n,i,s,l){if(n=n.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<n.length;s++)f=i.hasOwnProperty("$"+n[s].value),n[s].selected!==f&&(n[s].selected=f),f&&l&&(n[s].defaultSelected=!0)}else{for(s=""+Mn(s),i=null,f=0;f<n.length;f++){if(n[f].value===s){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function ns(n,i,s){if(i!=null&&(i=""+Mn(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+Mn(s):""}function aa(n,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(fe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Mn(i),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l)}function ar(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var If=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ll(n,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,s):typeof s!="number"||s===0||If.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function Yu(n,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&ll(n,f,l)}else for(var m in i)i.hasOwnProperty(m)&&ll(n,m,i[m])}function ul(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hr(n){return Nf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var sr=null;function Zs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var vi=null,_i=null;function Ei(n){var i=Gt(n);if(i&&(n=i.stateNode)){var s=n[Ne]||null;e:switch(n=i.stateNode,i.type){case"input":if(ia(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ot(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==n&&l.form===n.form){var f=l[Ne]||null;if(!f)throw Error(a(90));ia(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===n.form&&ol(l)}break e;case"textarea":ns(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&lt(n,!!s.multiple,i,!1)}}}var cl=!1;function Xu(n,i,s){if(cl)return n(i,s);cl=!0;try{var l=n(i);return l}finally{if(cl=!1,(vi!==null||_i!==null)&&(Bc(),vi&&(i=vi,n=_i,_i=vi=null,Ei(i),n)))for(i=0;i<n.length;i++)Ei(n[i])}}function rs(n,i){var s=n.stateNode;if(s===null)return null;var l=s[Ne]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var or=!1;if(on)try{var is={};Object.defineProperty(is,"passive",{get:function(){or=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{or=!1}var Fr=null,sa=null,bi=null;function hl(){if(bi)return bi;var n,i=sa,s=i.length,l,f="value"in Fr?Fr.value:Fr.textContent,m=f.length;for(n=0;n<s&&i[n]===f[n];n++);var _=s-n;for(l=1;l<=_&&i[s-l]===f[m-l];l++);return bi=f.slice(n,1<l?1-l:void 0)}function qr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Gr(){return!0}function fl(){return!1}function ln(n){function i(s,l,f,m,_){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(s=n[w],this[w]=s?s(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Gr:fl,this.isPropagationStopped=fl,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),i}var dt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=ln(dt),as=I({},dt,{view:0,detail:0}),Wu=ln(as),eo,to,Kr,ss=I({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Kr&&(Kr&&n.type==="mousemove"?(eo=n.screenX-Kr.screenX,to=n.screenY-Kr.screenY):to=eo=0,Kr=n),eo)},movementY:function(n){return"movementY"in n?n.movementY:to}}),lr=ln(ss),Zu=I({},ss,{dataTransfer:0}),Of=ln(Zu),os=I({},as,{relatedTarget:0}),no=ln(os),dl=I({},dt,{animationName:0,elapsedTime:0,pseudoElement:0}),ro=ln(dl),Ju=I({},dt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),io=ln(Ju),Mf=I({},dt,{data:0}),ml=ln(Mf),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=tc[n])?!!i[n]:!1}function us(){return pl}var nc=I({},as,{key:function(n){if(n.key){var i=ls[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=qr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ec[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(n){return n.type==="keypress"?qr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ao=ln(nc),rc=I({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gl=ln(rc),Ti=I({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),ic=ln(Ti),ac=I({},dt,{propertyName:0,elapsedTime:0,pseudoElement:0}),sc=ln(ac),oc=I({},ss,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),so=ln(oc),Pn=I({},dt,{newState:0,oldState:0}),lc=ln(Pn),uc=[9,13,27,32],$r=on&&"CompositionEvent"in window,c=null;on&&"documentMode"in document&&(c=document.documentMode);var y=on&&"TextEvent"in window&&!c,v=on&&(!$r||c&&8<c&&11>=c),A=" ",G=!1;function W(n,i){switch(n){case"keyup":return uc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var nt=!1;function Xt(n,i){switch(n){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(G=!0,A);case"textInput":return n=i.data,n===A&&G?null:n;default:return null}}function rt(n,i){if(nt)return n==="compositionend"||!$r&&W(n,i)?(n=hl(),bi=sa=Fr=null,nt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!un[n.type]:i==="textarea"}function wi(n,i,s,l){vi?_i?_i.push(l):_i=[l]:vi=l,i=Kc(i,"onChange"),0<i.length&&(s=new Js("onChange","change",null,s,l),n.push({event:s,listeners:i}))}var yn=null,Qr=null;function yl(n){Yv(n,0)}function cc(n){var i=nr(n);if(ol(i))return n}function Sg(n,i){if(n==="change")return i}var Ag=!1;if(on){var Pf;if(on){var Vf="oninput"in document;if(!Vf){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Vf=typeof Rg.oninput=="function"}Pf=Vf}else Pf=!1;Ag=Pf&&(!document.documentMode||9<document.documentMode)}function xg(){yn&&(yn.detachEvent("onpropertychange",Cg),Qr=yn=null)}function Cg(n){if(n.propertyName==="value"&&cc(Qr)){var i=[];wi(i,Qr,n,Zs(n)),Xu(yl,i)}}function HT(n,i,s){n==="focusin"?(xg(),yn=i,Qr=s,yn.attachEvent("onpropertychange",Cg)):n==="focusout"&&xg()}function FT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cc(Qr)}function qT(n,i){if(n==="click")return cc(i)}function GT(n,i){if(n==="input"||n==="change")return cc(i)}function KT(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Qn=typeof Object.is=="function"?Object.is:KT;function vl(n,i){if(Qn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Sr.call(i,f)||!Qn(n[f],i[f]))return!1}return!0}function Ig(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Dg(n,i){var s=Ig(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=i&&l>=i)return{node:s,offset:i-n};n=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ig(s)}}function Ng(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Ng(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Og(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Xs(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=Xs(n.document)}return i}function kf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function $T(n,i){var s=Og(i);i=n.focusedElem;var l=n.selectionRange;if(s!==i&&i&&i.ownerDocument&&Ng(i.ownerDocument.documentElement,i)){if(l!==null&&kf(i)){if(n=l.start,s=l.end,s===void 0&&(s=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(s,i.value.length);else if(s=(n=i.ownerDocument||document)&&n.defaultView||window,s.getSelection){s=s.getSelection();var f=i.textContent.length,m=Math.min(l.start,f);l=l.end===void 0?m:Math.min(l.end,f),!s.extend&&m>l&&(f=l,l=m,m=f),f=Dg(i,m);var _=Dg(i,l);f&&_&&(s.rangeCount!==1||s.anchorNode!==f.node||s.anchorOffset!==f.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),s.removeAllRanges(),m>l?(s.addRange(n),s.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),s.addRange(n)))}}for(n=[],s=i;s=s.parentNode;)s.nodeType===1&&n.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)s=n[i],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var QT=on&&"documentMode"in document&&11>=document.documentMode,oo=null,Lf=null,_l=null,Uf=!1;function Mg(n,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Uf||oo==null||oo!==Xs(l)||(l=oo,"selectionStart"in l&&kf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&vl(_l,l)||(_l=l,l=Kc(Lf,"onSelect"),0<l.length&&(i=new Js("onSelect","select",null,i,s),n.push({event:i,listeners:l}),i.target=oo)))}function cs(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var lo={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},jf={},Pg={};on&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function hs(n){if(jf[n])return jf[n];if(!lo[n])return n;var i=lo[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in Pg)return jf[n]=i[s];return n}var Vg=hs("animationend"),kg=hs("animationiteration"),Lg=hs("animationstart"),YT=hs("transitionrun"),XT=hs("transitionstart"),WT=hs("transitioncancel"),Ug=hs("transitionend"),jg=new Map,zg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Cr(n,i){jg.set(n,i),Ge(i,[n])}var ur=[],uo=0,zf=0;function hc(){for(var n=uo,i=zf=uo=0;i<n;){var s=ur[i];ur[i++]=null;var l=ur[i];ur[i++]=null;var f=ur[i];ur[i++]=null;var m=ur[i];if(ur[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}m!==0&&Bg(s,f,m)}}function fc(n,i,s,l){ur[uo++]=n,ur[uo++]=i,ur[uo++]=s,ur[uo++]=l,zf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Bf(n,i,s,l){return fc(n,i,s,l),dc(n)}function oa(n,i){return fc(n,null,null,i),dc(n)}function Bg(n,i,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var f=!1,m=n.return;m!==null;)m.childLanes|=s,l=m.alternate,l!==null&&(l.childLanes|=s),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&i!==null&&n.tag===3&&(m=n.stateNode,f=31-sn(s),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[i]:n.push(i),i.lane=s|536870912)}function dc(n){if(50<ql)throw ql=0,$d=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var co={},Hg=new WeakMap;function cr(n,i){if(typeof n=="object"&&n!==null){var s=Hg.get(n);return s!==void 0?s:(i={value:n,source:i,stack:Re(i)},Hg.set(n,i),i)}return{value:n,source:i,stack:Re(i)}}var ho=[],fo=0,mc=null,pc=0,hr=[],fr=0,fs=null,Si=1,Ai="";function ds(n,i){ho[fo++]=pc,ho[fo++]=mc,mc=n,pc=i}function Fg(n,i,s){hr[fr++]=Si,hr[fr++]=Ai,hr[fr++]=fs,fs=n;var l=Si;n=Ai;var f=32-sn(l)-1;l&=~(1<<f),s+=1;var m=32-sn(i)+f;if(30<m){var _=f-f%5;m=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Si=1<<32-sn(i)+f|s<<f|l,Ai=m+n}else Si=1<<m|s<<f|l,Ai=n}function Hf(n){n.return!==null&&(ds(n,1),Fg(n,1,0))}function Ff(n){for(;n===mc;)mc=ho[--fo],ho[fo]=null,pc=ho[--fo],ho[fo]=null;for(;n===fs;)fs=hr[--fr],hr[fr]=null,Ai=hr[--fr],hr[fr]=null,Si=hr[--fr],hr[fr]=null}var Vn=null,vn=null,ut=!1,Ir=null,Yr=!1,qf=Error(a(519));function ms(n){var i=Error(a(418,""));throw Tl(cr(i,n)),qf}function qg(n){var i=n.stateNode,s=n.type,l=n.memoizedProps;switch(i[_e]=n,i[Ne]=l,s){case"dialog":tt("cancel",i),tt("close",i);break;case"iframe":case"object":case"embed":tt("load",i);break;case"video":case"audio":for(s=0;s<Kl.length;s++)tt(Kl[s],i);break;case"source":tt("error",i);break;case"img":case"image":case"link":tt("error",i),tt("load",i);break;case"details":tt("toggle",i);break;case"input":tt("invalid",i),ts(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),es(i);break;case"select":tt("invalid",i);break;case"textarea":tt("invalid",i),aa(i,l.value,l.defaultValue,l.children),es(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Jv(i.textContent,s)?(l.popover!=null&&(tt("beforetoggle",i),tt("toggle",i)),l.onScroll!=null&&tt("scroll",i),l.onScrollEnd!=null&&tt("scrollend",i),l.onClick!=null&&(i.onclick=$c),i=!0):i=!1,i||ms(n)}function Gg(n){for(Vn=n.return;Vn;)switch(Vn.tag){case 3:case 27:Yr=!0;return;case 5:case 13:Yr=!1;return;default:Vn=Vn.return}}function El(n){if(n!==Vn)return!1;if(!ut)return Gg(n),ut=!0,!1;var i=!1,s;if((s=n.tag!==3&&n.tag!==27)&&((s=n.tag===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||cm(n.type,n.memoizedProps)),s=!s),s&&(i=!0),i&&vn&&ms(n),Gg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){vn=Nr(n.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}vn=null}}else vn=Vn?Nr(n.stateNode.nextSibling):null;return!0}function bl(){vn=Vn=null,ut=!1}function Tl(n){Ir===null?Ir=[n]:Ir.push(n)}var wl=Error(a(460)),Kg=Error(a(474)),Gf={then:function(){}};function $g(n){return n=n.status,n==="fulfilled"||n==="rejected"}function gc(){}function Qg(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(gc,gc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===wl?Error(a(483)):n;default:if(typeof i.status=="string")i.then(gc,gc);else{if(n=wt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===wl?Error(a(483)):n}throw Sl=i,wl}}var Sl=null;function Yg(){if(Sl===null)throw Error(a(459));var n=Sl;return Sl=null,n}var mo=null,Al=0;function yc(n){var i=Al;return Al+=1,mo===null&&(mo=[]),Qg(mo,n,i)}function Rl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function vc(n,i){throw i.$$typeof===u?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Xg(n){var i=n._init;return i(n._payload)}function Wg(n){function i(q,z){if(n){var K=q.deletions;K===null?(q.deletions=[z],q.flags|=16):K.push(z)}}function s(q,z){if(!n)return null;for(;z!==null;)i(q,z),z=z.sibling;return null}function l(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function f(q,z){return q=_a(q,z),q.index=0,q.sibling=null,q}function m(q,z,K){return q.index=K,n?(K=q.alternate,K!==null?(K=K.index,K<z?(q.flags|=33554434,z):K):(q.flags|=33554434,z)):(q.flags|=1048576,z)}function _(q){return n&&q.alternate===null&&(q.flags|=33554434),q}function w(q,z,K,re){return z===null||z.tag!==6?(z=jd(K,q.mode,re),z.return=q,z):(z=f(z,K),z.return=q,z)}function D(q,z,K,re){var be=K.type;return be===p?te(q,z,K.props.children,re,K.key):z!==null&&(z.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ee&&Xg(be)===z.type)?(z=f(z,K.props),Rl(z,K),z.return=q,z):(z=kc(K.type,K.key,K.props,null,q.mode,re),Rl(z,K),z.return=q,z)}function B(q,z,K,re){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=zd(K,q.mode,re),z.return=q,z):(z=f(z,K.children||[]),z.return=q,z)}function te(q,z,K,re,be){return z===null||z.tag!==7?(z=Ss(K,q.mode,re,be),z.return=q,z):(z=f(z,K),z.return=q,z)}function se(q,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=jd(""+z,q.mode,K),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case h:return K=kc(z.type,z.key,z.props,null,q.mode,K),Rl(K,z),K.return=q,K;case d:return z=zd(z,q.mode,K),z.return=q,z;case ee:var re=z._init;return z=re(z._payload),se(q,z,K)}if(fe(z)||ue(z))return z=Ss(z,q.mode,K,null),z.return=q,z;if(typeof z.then=="function")return se(q,yc(z),K);if(z.$$typeof===C)return se(q,Mc(q,z),K);vc(q,z)}return null}function Q(q,z,K,re){var be=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return be!==null?null:w(q,z,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case h:return K.key===be?D(q,z,K,re):null;case d:return K.key===be?B(q,z,K,re):null;case ee:return be=K._init,K=be(K._payload),Q(q,z,K,re)}if(fe(K)||ue(K))return be!==null?null:te(q,z,K,re,null);if(typeof K.then=="function")return Q(q,z,yc(K),re);if(K.$$typeof===C)return Q(q,z,Mc(q,K),re);vc(q,K)}return null}function J(q,z,K,re,be){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return q=q.get(K)||null,w(z,q,""+re,be);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case h:return q=q.get(re.key===null?K:re.key)||null,D(z,q,re,be);case d:return q=q.get(re.key===null?K:re.key)||null,B(z,q,re,be);case ee:var Ye=re._init;return re=Ye(re._payload),J(q,z,K,re,be)}if(fe(re)||ue(re))return q=q.get(K)||null,te(z,q,re,be,null);if(typeof re.then=="function")return J(q,z,K,yc(re),be);if(re.$$typeof===C)return J(q,z,K,Mc(z,re),be);vc(z,re)}return null}function Se(q,z,K,re){for(var be=null,Ye=null,Ce=z,Me=z=0,fn=null;Ce!==null&&Me<K.length;Me++){Ce.index>Me?(fn=Ce,Ce=null):fn=Ce.sibling;var ct=Q(q,Ce,K[Me],re);if(ct===null){Ce===null&&(Ce=fn);break}n&&Ce&&ct.alternate===null&&i(q,Ce),z=m(ct,z,Me),Ye===null?be=ct:Ye.sibling=ct,Ye=ct,Ce=fn}if(Me===K.length)return s(q,Ce),ut&&ds(q,Me),be;if(Ce===null){for(;Me<K.length;Me++)Ce=se(q,K[Me],re),Ce!==null&&(z=m(Ce,z,Me),Ye===null?be=Ce:Ye.sibling=Ce,Ye=Ce);return ut&&ds(q,Me),be}for(Ce=l(Ce);Me<K.length;Me++)fn=J(Ce,q,Me,K[Me],re),fn!==null&&(n&&fn.alternate!==null&&Ce.delete(fn.key===null?Me:fn.key),z=m(fn,z,Me),Ye===null?be=fn:Ye.sibling=fn,Ye=fn);return n&&Ce.forEach(function(Ra){return i(q,Ra)}),ut&&ds(q,Me),be}function Be(q,z,K,re){if(K==null)throw Error(a(151));for(var be=null,Ye=null,Ce=z,Me=z=0,fn=null,ct=K.next();Ce!==null&&!ct.done;Me++,ct=K.next()){Ce.index>Me?(fn=Ce,Ce=null):fn=Ce.sibling;var Ra=Q(q,Ce,ct.value,re);if(Ra===null){Ce===null&&(Ce=fn);break}n&&Ce&&Ra.alternate===null&&i(q,Ce),z=m(Ra,z,Me),Ye===null?be=Ra:Ye.sibling=Ra,Ye=Ra,Ce=fn}if(ct.done)return s(q,Ce),ut&&ds(q,Me),be;if(Ce===null){for(;!ct.done;Me++,ct=K.next())ct=se(q,ct.value,re),ct!==null&&(z=m(ct,z,Me),Ye===null?be=ct:Ye.sibling=ct,Ye=ct);return ut&&ds(q,Me),be}for(Ce=l(Ce);!ct.done;Me++,ct=K.next())ct=J(Ce,q,Me,ct.value,re),ct!==null&&(n&&ct.alternate!==null&&Ce.delete(ct.key===null?Me:ct.key),z=m(ct,z,Me),Ye===null?be=ct:Ye.sibling=ct,Ye=ct);return n&&Ce.forEach(function(hS){return i(q,hS)}),ut&&ds(q,Me),be}function Vt(q,z,K,re){if(typeof K=="object"&&K!==null&&K.type===p&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case h:e:{for(var be=K.key;z!==null;){if(z.key===be){if(be=K.type,be===p){if(z.tag===7){s(q,z.sibling),re=f(z,K.props.children),re.return=q,q=re;break e}}else if(z.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ee&&Xg(be)===z.type){s(q,z.sibling),re=f(z,K.props),Rl(re,K),re.return=q,q=re;break e}s(q,z);break}else i(q,z);z=z.sibling}K.type===p?(re=Ss(K.props.children,q.mode,re,K.key),re.return=q,q=re):(re=kc(K.type,K.key,K.props,null,q.mode,re),Rl(re,K),re.return=q,q=re)}return _(q);case d:e:{for(be=K.key;z!==null;){if(z.key===be)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){s(q,z.sibling),re=f(z,K.children||[]),re.return=q,q=re;break e}else{s(q,z);break}else i(q,z);z=z.sibling}re=zd(K,q.mode,re),re.return=q,q=re}return _(q);case ee:return be=K._init,K=be(K._payload),Vt(q,z,K,re)}if(fe(K))return Se(q,z,K,re);if(ue(K)){if(be=ue(K),typeof be!="function")throw Error(a(150));return K=be.call(K),Be(q,z,K,re)}if(typeof K.then=="function")return Vt(q,z,yc(K),re);if(K.$$typeof===C)return Vt(q,z,Mc(q,K),re);vc(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(s(q,z.sibling),re=f(z,K),re.return=q,q=re):(s(q,z),re=jd(K,q.mode,re),re.return=q,q=re),_(q)):s(q,z)}return function(q,z,K,re){try{Al=0;var be=Vt(q,z,K,re);return mo=null,be}catch(Ce){if(Ce===wl)throw Ce;var Ye=gr(29,Ce,null,q.mode);return Ye.lanes=re,Ye.return=q,Ye}finally{}}}var ps=Wg(!0),Zg=Wg(!1),po=We(null),_c=We(0);function Jg(n,i){n=ki,Qe(_c,n),Qe(po,i),ki=n|i.baseLanes}function Kf(){Qe(_c,ki),Qe(po,po.current)}function $f(){ki=_c.current,Fe(po),Fe(_c)}var dr=We(null),Xr=null;function la(n){var i=n.alternate;Qe(Zt,Zt.current&1),Qe(dr,n),Xr===null&&(i===null||po.current!==null||i.memoizedState!==null)&&(Xr=n)}function ey(n){if(n.tag===22){if(Qe(Zt,Zt.current),Qe(dr,n),Xr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Xr=n)}}else ua()}function ua(){Qe(Zt,Zt.current),Qe(dr,dr.current)}function Ri(n){Fe(dr),Xr===n&&(Xr=null),Fe(Zt)}var Zt=We(0);function Ec(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ZT=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},JT=r.unstable_scheduleCallback,ew=r.unstable_NormalPriority,Jt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qf(){return{controller:new ZT,data:new Map,refCount:0}}function xl(n){n.refCount--,n.refCount===0&&JT(ew,function(){n.controller.abort()})}var Cl=null,Yf=0,go=0,yo=null;function tw(n,i){if(Cl===null){var s=Cl=[];Yf=0,go=tm(),yo={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Yf++,i.then(ty,ty),i}function ty(){if(--Yf===0&&Cl!==null){yo!==null&&(yo.status="fulfilled");var n=Cl;Cl=null,go=0,yo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function nw(n,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var ny=R.S;R.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&tw(n,i),ny!==null&&ny(n,i)};var gs=We(null);function Xf(){var n=gs.current;return n!==null?n:wt.pooledCache}function bc(n,i){i===null?Qe(gs,gs.current):Qe(gs,i.pool)}function ry(){var n=Xf();return n===null?null:{parent:Jt._currentValue,pool:n}}var ca=0,Ke=null,yt=null,Kt=null,Tc=!1,vo=!1,ys=!1,wc=0,Il=0,_o=null,rw=0;function Bt(){throw Error(a(321))}function Wf(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!Qn(n[s],i[s]))return!1;return!0}function Zf(n,i,s,l,f,m){return ca=m,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,R.H=n===null||n.memoizedState===null?vs:ha,ys=!1,m=s(l,f),ys=!1,vo&&(m=ay(i,s,l,f)),iy(n),m}function iy(n){R.H=Wr;var i=yt!==null&&yt.next!==null;if(ca=0,Kt=yt=Ke=null,Tc=!1,Il=0,_o=null,i)throw Error(a(300));n===null||cn||(n=n.dependencies,n!==null&&Oc(n)&&(cn=!0))}function ay(n,i,s,l){Ke=n;var f=0;do{if(vo&&(_o=null),Il=0,vo=!1,25<=f)throw Error(a(301));if(f+=1,Kt=yt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}R.H=_s,m=i(s,l)}while(vo);return m}function iw(){var n=R.H,i=n.useState()[0];return i=typeof i.then=="function"?Dl(i):i,n=n.useState()[0],(yt!==null?yt.memoizedState:null)!==n&&(Ke.flags|=1024),i}function Jf(){var n=wc!==0;return wc=0,n}function ed(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function td(n){if(Tc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Tc=!1}ca=0,Kt=yt=Ke=null,vo=!1,Il=wc=0,_o=null}function Hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Ke.memoizedState=Kt=n:Kt=Kt.next=n,Kt}function $t(){if(yt===null){var n=Ke.alternate;n=n!==null?n.memoizedState:null}else n=yt.next;var i=Kt===null?Ke.memoizedState:Kt.next;if(i!==null)Kt=i,yt=n;else{if(n===null)throw Ke.alternate===null?Error(a(467)):Error(a(310));yt=n,n={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Kt===null?Ke.memoizedState=Kt=n:Kt=Kt.next=n}return Kt}var Sc;Sc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Dl(n){var i=Il;return Il+=1,_o===null&&(_o=[]),n=Qg(_o,n,i),i=Ke,(Kt===null?i.memoizedState:Kt.next)===null&&(i=i.alternate,R.H=i===null||i.memoizedState===null?vs:ha),n}function Ac(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Dl(n);if(n.$$typeof===C)return An(n)}throw Error(a(438,String(n)))}function nd(n){var i=null,s=Ke.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Sc(),Ke.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),l=0;l<n;l++)s[l]=oe;return i.index++,s}function xi(n,i){return typeof i=="function"?i(n):i}function Rc(n){var i=$t();return rd(i,yt,n)}function rd(n,i,s){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}i.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var w=_=null,D=null,B=i,te=!1;do{var se=B.lane&-536870913;if(se!==B.lane?(it&se)===se:(ca&se)===se){var Q=B.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),se===go&&(te=!0);else if((ca&Q)===Q){B=B.next,Q===go&&(te=!0);continue}else se={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(w=D=se,_=m):D=D.next=se,Ke.lanes|=Q,Ea|=Q;se=B.action,ys&&s(m,se),m=B.hasEagerState?B.eagerState:s(m,se)}else Q={lane:se,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(w=D=Q,_=m):D=D.next=Q,Ke.lanes|=se,Ea|=se;B=B.next}while(B!==null&&B!==i);if(D===null?_=m:D.next=w,!Qn(m,n.memoizedState)&&(cn=!0,te&&(s=yo,s!==null)))throw s;n.memoizedState=m,n.baseState=_,n.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function id(n){var i=$t(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var l=s.dispatch,f=s.pending,m=i.memoizedState;if(f!==null){s.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);Qn(m,i.memoizedState)||(cn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),s.lastRenderedState=m}return[m,l]}function sy(n,i,s){var l=Ke,f=$t(),m=ut;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=i();var _=!Qn((yt||f).memoizedState,s);if(_&&(f.memoizedState=s,cn=!0),f=f.queue,od(uy.bind(null,l,f,n),[n]),f.getSnapshot!==i||_||Kt!==null&&Kt.memoizedState.tag&1){if(l.flags|=2048,Eo(9,ly.bind(null,l,f,s,i),{destroy:void 0},null),wt===null)throw Error(a(349));m||(ca&60)!==0||oy(l,i,s)}return s}function oy(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=Ke.updateQueue,i===null?(i=Sc(),Ke.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function ly(n,i,s,l){i.value=s,i.getSnapshot=l,cy(i)&&hy(n)}function uy(n,i,s){return s(function(){cy(i)&&hy(n)})}function cy(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!Qn(n,s)}catch{return!0}}function hy(n){var i=oa(n,2);i!==null&&kn(i,n,2)}function ad(n){var i=Hn();if(typeof n=="function"){var s=n;if(n=s(),ys){Nn(!0);try{s()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:n},i}function fy(n,i,s,l){return n.baseState=s,rd(n,yt,typeof l=="function"?l:xi)}function aw(n,i,s,l,f){if(Ic(n))throw Error(a(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};R.T!==null?s(!0):m.isTransition=!1,l(m),s=i.pending,s===null?(m.next=i.pending=m,dy(i,m)):(m.next=s.next,i.pending=s.next=m)}}function dy(n,i){var s=i.action,l=i.payload,f=n.state;if(i.isTransition){var m=R.T,_={};R.T=_;try{var w=s(f,l),D=R.S;D!==null&&D(_,w),my(n,i,w)}catch(B){sd(n,i,B)}finally{R.T=m}}else try{m=s(f,l),my(n,i,m)}catch(B){sd(n,i,B)}}function my(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){py(n,i,l)},function(l){return sd(n,i,l)}):py(n,i,s)}function py(n,i,s){i.status="fulfilled",i.value=s,gy(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,dy(n,s)))}function sd(n,i,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,gy(i),i=i.next;while(i!==l)}n.action=null}function gy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function yy(n,i){return i}function vy(n,i){if(ut){var s=wt.formState;if(s!==null){e:{var l=Ke;if(ut){if(vn){t:{for(var f=vn,m=Yr;f.nodeType!==8;){if(!m){f=null;break t}if(f=Nr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){vn=Nr(f.nextSibling),l=f.data==="F!";break e}}ms(l)}l=!1}l&&(i=s[0])}}return s=Hn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yy,lastRenderedState:i},s.queue=l,s=ky.bind(null,Ke,l),l.dispatch=s,l=ad(!1),m=fd.bind(null,Ke,!1,l.queue),l=Hn(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,s=aw.bind(null,Ke,f,m,s),f.dispatch=s,l.memoizedState=n,[i,s,!1]}function _y(n){var i=$t();return Ey(i,yt,n)}function Ey(n,i,s){i=rd(n,i,yy)[0],n=Rc(xi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Dl(i):i;var l=$t(),f=l.queue,m=f.dispatch;return s!==l.memoizedState&&(Ke.flags|=2048,Eo(9,sw.bind(null,f,s),{destroy:void 0},null)),[i,m,n]}function sw(n,i){n.action=i}function by(n){var i=$t(),s=yt;if(s!==null)return Ey(i,s,n);$t(),i=i.memoizedState,s=$t();var l=s.queue.dispatch;return s.memoizedState=n,[i,l,!1]}function Eo(n,i,s,l){return n={tag:n,create:i,inst:s,deps:l,next:null},i=Ke.updateQueue,i===null&&(i=Sc(),Ke.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,i.lastEffect=n),n}function Ty(){return $t().memoizedState}function xc(n,i,s,l){var f=Hn();Ke.flags|=n,f.memoizedState=Eo(1|i,s,{destroy:void 0},l===void 0?null:l)}function Cc(n,i,s,l){var f=$t();l=l===void 0?null:l;var m=f.memoizedState.inst;yt!==null&&l!==null&&Wf(l,yt.memoizedState.deps)?f.memoizedState=Eo(i,s,m,l):(Ke.flags|=n,f.memoizedState=Eo(1|i,s,m,l))}function wy(n,i){xc(8390656,8,n,i)}function od(n,i){Cc(2048,8,n,i)}function Sy(n,i){return Cc(4,2,n,i)}function Ay(n,i){return Cc(4,4,n,i)}function Ry(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function xy(n,i,s){s=s!=null?s.concat([n]):null,Cc(4,4,Ry.bind(null,i,n),s)}function ld(){}function Cy(n,i){var s=$t();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Wf(i,l[1])?l[0]:(s.memoizedState=[n,i],n)}function Iy(n,i){var s=$t();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Wf(i,l[1]))return l[0];if(l=n(),ys){Nn(!0);try{n()}finally{Nn(!1)}}return s.memoizedState=[l,i],l}function ud(n,i,s){return s===void 0||(ca&1073741824)!==0?n.memoizedState=i:(n.memoizedState=s,n=Nv(),Ke.lanes|=n,Ea|=n,s)}function Dy(n,i,s,l){return Qn(s,i)?s:po.current!==null?(n=ud(n,s,l),Qn(n,i)||(cn=!0),n):(ca&42)===0?(cn=!0,n.memoizedState=s):(n=Nv(),Ke.lanes|=n,Ea|=n,i)}function Ny(n,i,s,l,f){var m=de.p;de.p=m!==0&&8>m?m:8;var _=R.T,w={};R.T=w,fd(n,!1,i,s);try{var D=f(),B=R.S;if(B!==null&&B(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var te=nw(D,l);Nl(n,i,te,Zn(n))}else Nl(n,i,l,Zn(n))}catch(se){Nl(n,i,{then:function(){},status:"rejected",reason:se},Zn())}finally{de.p=m,R.T=_}}function ow(){}function cd(n,i,s,l){if(n.tag!==5)throw Error(a(476));var f=Oy(n).queue;Ny(n,f,i,De,s===null?ow:function(){return My(n),s(l)})}function Oy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:De,baseState:De,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:De},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function My(n){var i=Oy(n).next.queue;Nl(n,i,{},Zn())}function hd(){return An(Wl)}function Py(){return $t().memoizedState}function Vy(){return $t().memoizedState}function lw(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=Zn();n=ma(s);var l=pa(i,n,s);l!==null&&(kn(l,i,s),Pl(l,i,s)),i={cache:Qf()},n.payload=i;return}i=i.return}}function uw(n,i,s){var l=Zn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Ic(n)?Ly(i,s):(s=Bf(n,i,s,l),s!==null&&(kn(s,n,l),Uy(s,i,l)))}function ky(n,i,s){var l=Zn();Nl(n,i,s,l)}function Nl(n,i,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ic(n))Ly(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,w=m(_,s);if(f.hasEagerState=!0,f.eagerState=w,Qn(w,_))return fc(n,i,f,0),wt===null&&hc(),!1}catch{}finally{}if(s=Bf(n,i,f,l),s!==null)return kn(s,n,l),Uy(s,i,l),!0}return!1}function fd(n,i,s,l){if(l={lane:2,revertLane:tm(),action:l,hasEagerState:!1,eagerState:null,next:null},Ic(n)){if(i)throw Error(a(479))}else i=Bf(n,s,l,2),i!==null&&kn(i,n,2)}function Ic(n){var i=n.alternate;return n===Ke||i!==null&&i===Ke}function Ly(n,i){vo=Tc=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function Uy(n,i,s){if((s&4194176)!==0){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,Ae(n,s)}}var Wr={readContext:An,use:Ac,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt};Wr.useCacheRefresh=Bt,Wr.useMemoCache=Bt,Wr.useHostTransitionStatus=Bt,Wr.useFormState=Bt,Wr.useActionState=Bt,Wr.useOptimistic=Bt;var vs={readContext:An,use:Ac,useCallback:function(n,i){return Hn().memoizedState=[n,i===void 0?null:i],n},useContext:An,useEffect:wy,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,xc(4194308,4,Ry.bind(null,i,n),s)},useLayoutEffect:function(n,i){return xc(4194308,4,n,i)},useInsertionEffect:function(n,i){xc(4,2,n,i)},useMemo:function(n,i){var s=Hn();i=i===void 0?null:i;var l=n();if(ys){Nn(!0);try{n()}finally{Nn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(n,i,s){var l=Hn();if(s!==void 0){var f=s(i);if(ys){Nn(!0);try{s(i)}finally{Nn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=uw.bind(null,Ke,n),[l.memoizedState,n]},useRef:function(n){var i=Hn();return n={current:n},i.memoizedState=n},useState:function(n){n=ad(n);var i=n.queue,s=ky.bind(null,Ke,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:ld,useDeferredValue:function(n,i){var s=Hn();return ud(s,n,i)},useTransition:function(){var n=ad(!1);return n=Ny.bind(null,Ke,n.queue,!0,!1),Hn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var l=Ke,f=Hn();if(ut){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),wt===null)throw Error(a(349));(it&60)!==0||oy(l,i,s)}f.memoizedState=s;var m={value:s,getSnapshot:i};return f.queue=m,wy(uy.bind(null,l,m,n),[n]),l.flags|=2048,Eo(9,ly.bind(null,l,m,s,i),{destroy:void 0},null),s},useId:function(){var n=Hn(),i=wt.identifierPrefix;if(ut){var s=Ai,l=Si;s=(l&~(1<<32-sn(l)-1)).toString(32)+s,i=":"+i+"R"+s,s=wc++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=rw++,i=":"+i+"r"+s.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return Hn().memoizedState=lw.bind(null,Ke)}};vs.useMemoCache=nd,vs.useHostTransitionStatus=hd,vs.useFormState=vy,vs.useActionState=vy,vs.useOptimistic=function(n){var i=Hn();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=fd.bind(null,Ke,!0,s),s.dispatch=i,[n,i]};var ha={readContext:An,use:Ac,useCallback:Cy,useContext:An,useEffect:od,useImperativeHandle:xy,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:Iy,useReducer:Rc,useRef:Ty,useState:function(){return Rc(xi)},useDebugValue:ld,useDeferredValue:function(n,i){var s=$t();return Dy(s,yt.memoizedState,n,i)},useTransition:function(){var n=Rc(xi)[0],i=$t().memoizedState;return[typeof n=="boolean"?n:Dl(n),i]},useSyncExternalStore:sy,useId:Py};ha.useCacheRefresh=Vy,ha.useMemoCache=nd,ha.useHostTransitionStatus=hd,ha.useFormState=_y,ha.useActionState=_y,ha.useOptimistic=function(n,i){var s=$t();return fy(s,yt,n,i)};var _s={readContext:An,use:Ac,useCallback:Cy,useContext:An,useEffect:od,useImperativeHandle:xy,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:Iy,useReducer:id,useRef:Ty,useState:function(){return id(xi)},useDebugValue:ld,useDeferredValue:function(n,i){var s=$t();return yt===null?ud(s,n,i):Dy(s,yt.memoizedState,n,i)},useTransition:function(){var n=id(xi)[0],i=$t().memoizedState;return[typeof n=="boolean"?n:Dl(n),i]},useSyncExternalStore:sy,useId:Py};_s.useCacheRefresh=Vy,_s.useMemoCache=nd,_s.useHostTransitionStatus=hd,_s.useFormState=by,_s.useActionState=by,_s.useOptimistic=function(n,i){var s=$t();return yt!==null?fy(s,yt,n,i):(s.baseState=n,[n,s.queue.dispatch])};function dd(n,i,s,l){i=n.memoizedState,s=s(l,i),s=s==null?i:I({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var md={isMounted:function(n){return(n=n._reactInternals)?Ee(n)===n:!1},enqueueSetState:function(n,i,s){n=n._reactInternals;var l=Zn(),f=ma(l);f.payload=i,s!=null&&(f.callback=s),i=pa(n,f,l),i!==null&&(kn(i,n,l),Pl(i,n,l))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var l=Zn(),f=ma(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=pa(n,f,l),i!==null&&(kn(i,n,l),Pl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=Zn(),l=ma(s);l.tag=2,i!=null&&(l.callback=i),i=pa(n,l,s),i!==null&&(kn(i,n,s),Pl(i,n,s))}};function jy(n,i,s,l,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,_):i.prototype&&i.prototype.isPureReactComponent?!vl(s,l)||!vl(f,m):!0}function zy(n,i,s,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==n&&md.enqueueReplaceState(i,i.state,null)}function Es(n,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(n=n.defaultProps){s===i&&(s=I({},s));for(var f in n)s[f]===void 0&&(s[f]=n[f])}return s}var Dc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function By(n){Dc(n)}function Hy(n){console.error(n)}function Fy(n){Dc(n)}function Nc(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function qy(n,i,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function pd(n,i,s){return s=ma(s),s.tag=3,s.payload={element:null},s.callback=function(){Nc(n,i)},s}function Gy(n){return n=ma(n),n.tag=3,n}function Ky(n,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){qy(i,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){qy(i,s,l),typeof f!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function cw(n,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Ml(i,s,f,!0),s=dr.current,s!==null){switch(s.tag){case 13:return Xr===null?Xd():s.alternate===null&&Pt===0&&(Pt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Gf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Zd(n,l,f)),!1;case 22:return s.flags|=65536,l===Gf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Zd(n,l,f)),!1}throw Error(a(435,s.tag))}return Zd(n,l,f),Xd(),!1}if(ut)return i=dr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==qf&&(n=Error(a(422),{cause:l}),Tl(cr(n,s)))):(l!==qf&&(i=Error(a(423),{cause:l}),Tl(cr(i,s))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=cr(l,s),f=pd(n.stateNode,l,f),Dd(n,f),Pt!==4&&(Pt=2)),!1;var m=Error(a(520),{cause:l});if(m=cr(m,s),Hl===null?Hl=[m]:Hl.push(m),Pt!==4&&(Pt=2),i===null)return!0;l=cr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=f&-f,s.lanes|=n,n=pd(s.stateNode,l,n),Dd(s,n),!1;case 1:if(i=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ba===null||!ba.has(m))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Gy(f),Ky(f,n,s,l),Dd(s,f),!1}s=s.return}while(s!==null);return!1}var $y=Error(a(461)),cn=!1;function _n(n,i,s,l){i.child=n===null?Zg(i,null,s,l):ps(i,n.child,s,l)}function Qy(n,i,s,l,f){s=s.render;var m=i.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Ts(i),l=Zf(n,i,s,_,m,f),w=Jf(),n!==null&&!cn?(ed(n,i,f),Ci(n,i,f)):(ut&&w&&Hf(i),i.flags|=1,_n(n,i,l,f),i.child)}function Yy(n,i,s,l,f){if(n===null){var m=s.type;return typeof m=="function"&&!Ud(m)&&m.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=m,Xy(n,i,m,l,f)):(n=kc(s.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Sd(n,f)){var _=m.memoizedProps;if(s=s.compare,s=s!==null?s:vl,s(_,l)&&n.ref===i.ref)return Ci(n,i,f)}return i.flags|=1,n=_a(m,l),n.ref=i.ref,n.return=i,i.child=n}function Xy(n,i,s,l,f){if(n!==null){var m=n.memoizedProps;if(vl(m,l)&&n.ref===i.ref)if(cn=!1,i.pendingProps=l=m,Sd(n,f))(n.flags&131072)!==0&&(cn=!0);else return i.lanes=n.lanes,Ci(n,i,f)}return gd(n,i,s,l,f)}function Wy(n,i,s){var l=i.pendingProps,f=l.children,m=(i.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(Ol(n,i),l.mode==="hidden"||m){if((i.flags&128)!==0){if(l=_!==null?_.baseLanes|s:s,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return Zy(n,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&bc(i,_!==null?_.cachePool:null),_!==null?Jg(i,_):Kf(),ey(i);else return i.lanes=i.childLanes=536870912,Zy(n,i,_!==null?_.baseLanes|s:s,s)}else _!==null?(bc(i,_.cachePool),Jg(i,_),ua(),i.memoizedState=null):(n!==null&&bc(i,null),Kf(),ua());return _n(n,i,f,s),i.child}function Zy(n,i,s,l){var f=Xf();return f=f===null?null:{parent:Jt._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},n!==null&&bc(i,null),Kf(),ey(i),n!==null&&Ml(n,i,l,!0),null}function Ol(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(i.flags|=2097664)}}function gd(n,i,s,l,f){return Ts(i),s=Zf(n,i,s,l,void 0,f),l=Jf(),n!==null&&!cn?(ed(n,i,f),Ci(n,i,f)):(ut&&l&&Hf(i),i.flags|=1,_n(n,i,s,f),i.child)}function Jy(n,i,s,l,f,m){return Ts(i),i.updateQueue=null,s=ay(i,l,s,f),iy(n),l=Jf(),n!==null&&!cn?(ed(n,i,m),Ci(n,i,m)):(ut&&l&&Hf(i),i.flags|=1,_n(n,i,s,m),i.child)}function ev(n,i,s,l,f){if(Ts(i),i.stateNode===null){var m=co,_=s.contextType;typeof _=="object"&&_!==null&&(m=An(_)),m=new s(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=md,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Cd(i),_=s.contextType,m.context=typeof _=="object"&&_!==null?An(_):co,m.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(dd(i,s,_,l),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&md.enqueueReplaceState(m,m.state,null),kl(i,l,m,f),Vl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){m=i.stateNode;var w=i.memoizedProps,D=Es(s,w);m.props=D;var B=m.context,te=s.contextType;_=co,typeof te=="object"&&te!==null&&(_=An(te));var se=s.getDerivedStateFromProps;te=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,te||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||B!==_)&&zy(i,m,l,_),da=!1;var Q=i.memoizedState;m.state=Q,kl(i,l,m,f),Vl(),B=i.memoizedState,w||Q!==B||da?(typeof se=="function"&&(dd(i,s,se,l),B=i.memoizedState),(D=da||jy(i,s,D,l,Q,B,_))?(te||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),m.props=l,m.state=B,m.context=_,l=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Id(n,i),_=i.memoizedProps,te=Es(s,_),m.props=te,se=i.pendingProps,Q=m.context,B=s.contextType,D=co,typeof B=="object"&&B!==null&&(D=An(B)),w=s.getDerivedStateFromProps,(B=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==se||Q!==D)&&zy(i,m,l,D),da=!1,Q=i.memoizedState,m.state=Q,kl(i,l,m,f),Vl();var J=i.memoizedState;_!==se||Q!==J||da||n!==null&&n.dependencies!==null&&Oc(n.dependencies)?(typeof w=="function"&&(dd(i,s,w,l),J=i.memoizedState),(te=da||jy(i,s,te,l,Q,J,D)||n!==null&&n.dependencies!==null&&Oc(n.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,J,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,J,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=J),m.props=l,m.state=J,m.context=D,l=te):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),l=!1)}return m=l,Ol(n,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&l?(i.child=ps(i,n.child,null,f),i.child=ps(i,null,s,f)):_n(n,i,s,f),i.memoizedState=m.state,n=i.child):n=Ci(n,i,f),n}function tv(n,i,s,l){return bl(),i.flags|=256,_n(n,i,s,l),i.child}var yd={dehydrated:null,treeContext:null,retryLane:0};function vd(n){return{baseLanes:n,cachePool:ry()}}function _d(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=yr),n}function nv(n,i,s){var l=i.pendingProps,f=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(Zt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(ut){if(f?la(i):ua(),ut){var w=vn,D;if(D=w){e:{for(D=w,w=Yr;D.nodeType!==8;){if(!w){w=null;break e}if(D=Nr(D.nextSibling),D===null){w=null;break e}}w=D}w!==null?(i.memoizedState={dehydrated:w,treeContext:fs!==null?{id:Si,overflow:Ai}:null,retryLane:536870912},D=gr(18,null,null,0),D.stateNode=w,D.return=i,i.child=D,Vn=i,vn=null,D=!0):D=!1}D||ms(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ri(i)}return w=l.children,l=l.fallback,f?(ua(),f=i.mode,w=bd({mode:"hidden",children:w},f),l=Ss(l,f,s,null),w.return=i,l.return=i,w.sibling=l,i.child=w,f=i.child,f.memoizedState=vd(s),f.childLanes=_d(n,_,s),i.memoizedState=yd,l):(la(i),Ed(i,w))}if(D=n.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(m)i.flags&256?(la(i),i.flags&=-257,i=Td(n,i,s)):i.memoizedState!==null?(ua(),i.child=n.child,i.flags|=128,i=null):(ua(),f=l.fallback,w=i.mode,l=bd({mode:"visible",children:l.children},w),f=Ss(f,w,s,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,ps(i,n.child,null,s),l=i.child,l.memoizedState=vd(s),l.childLanes=_d(n,_,s),i.memoizedState=yd,i=f);else if(la(i),w.data==="$!"){if(_=w.nextSibling&&w.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(a(419)),l.stack="",l.digest=_,Tl({value:l,source:null,stack:null}),i=Td(n,i,s)}else if(cn||Ml(n,i,s,!1),_=(s&n.childLanes)!==0,cn||_){if(_=wt,_!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,oa(n,l),kn(_,n,l),$y}w.data==="$?"||Xd(),i=Td(n,i,s)}else w.data==="$?"?(i.flags|=128,i.child=n.child,i=Aw.bind(null,n),w._reactRetry=i,i=null):(n=D.treeContext,vn=Nr(w.nextSibling),Vn=i,ut=!0,Ir=null,Yr=!1,n!==null&&(hr[fr++]=Si,hr[fr++]=Ai,hr[fr++]=fs,Si=n.id,Ai=n.overflow,fs=i),i=Ed(i,l.children),i.flags|=4096);return i}return f?(ua(),f=l.fallback,w=i.mode,D=n.child,B=D.sibling,l=_a(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,B!==null?f=_a(B,f):(f=Ss(f,w,s,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,w=n.child.memoizedState,w===null?w=vd(s):(D=w.cachePool,D!==null?(B=Jt._currentValue,D=D.parent!==B?{parent:B,pool:B}:D):D=ry(),w={baseLanes:w.baseLanes|s,cachePool:D}),f.memoizedState=w,f.childLanes=_d(n,_,s),i.memoizedState=yd,l):(la(i),s=n.child,n=s.sibling,s=_a(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=s,i.memoizedState=null,s)}function Ed(n,i){return i=bd({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function bd(n,i){return Cv(n,i,0,null)}function Td(n,i,s){return ps(i,n.child,null,s),n=Ed(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function rv(n,i,s){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Rd(n.return,i,s)}function wd(n,i,s,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=s,m.tailMode=f)}function iv(n,i,s){var l=i.pendingProps,f=l.revealOrder,m=l.tail;if(_n(n,i,l.children,s),l=Zt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&rv(n,s,i);else if(n.tag===19)rv(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Qe(Zt,l),f){case"forwards":for(s=i.child,f=null;s!==null;)n=s.alternate,n!==null&&Ec(n)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),wd(i,!1,f,s,m);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Ec(n)===null){i.child=f;break}n=f.sibling,f.sibling=s,s=f,f=n}wd(i,!0,s,null,m);break;case"together":wd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ci(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),Ea|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(Ml(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,s=_a(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=_a(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function Sd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Oc(n)))}function hw(n,i,s){switch(i.tag){case 3:je(i,i.stateNode.containerInfo),fa(i,Jt,n.memoizedState.cache),bl();break;case 27:case 5:Lr(i);break;case 4:je(i,i.stateNode.containerInfo);break;case 10:fa(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(la(i),i.flags|=128,null):(s&i.child.childLanes)!==0?nv(n,i,s):(la(i),n=Ci(n,i,s),n!==null?n.sibling:null);la(i);break;case 19:var f=(n.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Ml(n,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return iv(n,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Qe(Zt,Zt.current),l)break;return null;case 22:case 23:return i.lanes=0,Wy(n,i,s);case 24:fa(i,Jt,n.memoizedState.cache)}return Ci(n,i,s)}function av(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)cn=!0;else{if(!Sd(n,s)&&(i.flags&128)===0)return cn=!1,hw(n,i,s);cn=(n.flags&131072)!==0}else cn=!1,ut&&(i.flags&1048576)!==0&&Fg(i,pc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Ud(l)?(n=Es(l,n),i.tag=1,i=ev(null,i,l,n,s)):(i.tag=0,i=gd(null,i,l,n,s));else{if(l!=null){if(f=l.$$typeof,f===P){i.tag=11,i=Qy(null,i,l,n,s);break e}else if(f===X){i.tag=14,i=Yy(null,i,l,n,s);break e}}throw i=x(l)||l,Error(a(306,i,""))}}return i;case 0:return gd(n,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=Es(l,i.pendingProps),ev(n,i,l,f,s);case 3:e:{if(je(i,i.stateNode.containerInfo),n===null)throw Error(a(387));var m=i.pendingProps;f=i.memoizedState,l=f.element,Id(n,i),kl(i,m,null,s);var _=i.memoizedState;if(m=_.cache,fa(i,Jt,m),m!==f.cache&&xd(i,[Jt],s,!0),Vl(),m=_.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=tv(n,i,m,s);break e}else if(m!==l){l=cr(Error(a(424)),i),Tl(l),i=tv(n,i,m,s);break e}else for(vn=Nr(i.stateNode.containerInfo.firstChild),Vn=i,ut=!0,Ir=null,Yr=!0,s=Zg(i,null,m,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(bl(),m===l){i=Ci(n,i,s);break e}_n(n,i,m,s)}i=i.child}return i;case 26:return Ol(n,i),n===null?(s=l0(i.type,null,i.pendingProps,null))?i.memoizedState=s:ut||(s=i.type,n=i.pendingProps,l=Qc(Ct.current).createElement(s),l[_e]=i,l[Ne]=n,En(l,s,n),ht(l),i.stateNode=l):i.memoizedState=l0(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Lr(i),n===null&&ut&&(l=i.stateNode=a0(i.type,i.pendingProps,Ct.current),Vn=i,Yr=!0,vn=Nr(l.firstChild)),l=i.pendingProps.children,n!==null||ut?_n(n,i,l,s):i.child=ps(i,null,l,s),Ol(n,i),i.child;case 5:return n===null&&ut&&((f=l=vn)&&(l=Bw(l,i.type,i.pendingProps,Yr),l!==null?(i.stateNode=l,Vn=i,vn=Nr(l.firstChild),Yr=!1,f=!0):f=!1),f||ms(i)),Lr(i),f=i.type,m=i.pendingProps,_=n!==null?n.memoizedProps:null,l=m.children,cm(f,m)?l=null:_!==null&&cm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Zf(n,i,iw,null,null,s),Wl._currentValue=f),Ol(n,i),_n(n,i,l,s),i.child;case 6:return n===null&&ut&&((n=s=vn)&&(s=Hw(s,i.pendingProps,Yr),s!==null?(i.stateNode=s,Vn=i,vn=null,n=!0):n=!1),n||ms(i)),null;case 13:return nv(n,i,s);case 4:return je(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=ps(i,null,l,s):_n(n,i,l,s),i.child;case 11:return Qy(n,i,i.type,i.pendingProps,s);case 7:return _n(n,i,i.pendingProps,s),i.child;case 8:return _n(n,i,i.pendingProps.children,s),i.child;case 12:return _n(n,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,fa(i,i.type,l.value),_n(n,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Ts(i),f=An(f),l=l(f),i.flags|=1,_n(n,i,l,s),i.child;case 14:return Yy(n,i,i.type,i.pendingProps,s);case 15:return Xy(n,i,i.type,i.pendingProps,s);case 19:return iv(n,i,s);case 22:return Wy(n,i,s);case 24:return Ts(i),l=An(Jt),n===null?(f=Xf(),f===null&&(f=wt,m=Qf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=s),f=m),i.memoizedState={parent:l,cache:f},Cd(i),fa(i,Jt,f)):((n.lanes&s)!==0&&(Id(n,i),kl(i,null,null,s),Vl()),f=n.memoizedState,m=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),fa(i,Jt,l)):(l=m.cache,fa(i,Jt,l),l!==f.cache&&xd(i,[Jt],s,!0))),_n(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var Ad=We(null),bs=null,Ii=null;function fa(n,i,s){Qe(Ad,i._currentValue),i._currentValue=s}function Di(n){n._currentValue=Ad.current,Fe(Ad)}function Rd(n,i,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===s)break;n=n.return}}function xd(n,i,s,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var D=0;D<i.length;D++)if(w.context===i[D]){m.lanes|=s,w=m.alternate,w!==null&&(w.lanes|=s),Rd(m.return,s,n),l||(_=null);break e}m=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(a(341));_.lanes|=s,m=_.alternate,m!==null&&(m.lanes|=s),Rd(_,s,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ml(n,i,s,l){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var w=f.type;Qn(f.pendingProps.value,_.value)||(n!==null?n.push(w):n=[w])}}else if(f===qn.current){if(_=f.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Wl):n=[Wl])}f=f.return}n!==null&&xd(i,n,s,l),i.flags|=262144}function Oc(n){for(n=n.firstContext;n!==null;){if(!Qn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ts(n){bs=n,Ii=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function An(n){return sv(bs,n)}function Mc(n,i){return bs===null&&Ts(n),sv(n,i)}function sv(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ii===null){if(n===null)throw Error(a(308));Ii=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ii=Ii.next=i;return s}var da=!1;function Cd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Id(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ma(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function pa(n,i,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Dt&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=dc(n),Bg(n,null,s),i}return fc(n,l,i,s),dc(n)}function Pl(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194176)!==0)){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,Ae(n,s)}}function Dd(n,i){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,s=s.next}while(s!==null);m===null?f=m=i:m=m.next=i}else f=m=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var Nd=!1;function Vl(){if(Nd){var n=yo;if(n!==null)throw n}}function kl(n,i,s,l){Nd=!1;var f=n.updateQueue;da=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var D=w,B=D.next;D.next=null,_===null?m=B:_.next=B,_=D;var te=n.alternate;te!==null&&(te=te.updateQueue,w=te.lastBaseUpdate,w!==_&&(w===null?te.firstBaseUpdate=B:w.next=B,te.lastBaseUpdate=D))}if(m!==null){var se=f.baseState;_=0,te=B=D=null,w=m;do{var Q=w.lane&-536870913,J=Q!==w.lane;if(J?(it&Q)===Q:(l&Q)===Q){Q!==0&&Q===go&&(Nd=!0),te!==null&&(te=te.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Se=n,Be=w;Q=i;var Vt=s;switch(Be.tag){case 1:if(Se=Be.payload,typeof Se=="function"){se=Se.call(Vt,se,Q);break e}se=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Be.payload,Q=typeof Se=="function"?Se.call(Vt,se,Q):Se,Q==null)break e;se=I({},se,Q);break e;case 2:da=!0}}Q=w.callback,Q!==null&&(n.flags|=64,J&&(n.flags|=8192),J=f.callbacks,J===null?f.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},te===null?(B=te=J,D=se):te=te.next=J,_|=Q;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;J=w,w=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);te===null&&(D=se),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=te,m===null&&(f.shared.lanes=0),Ea|=_,n.lanes=_,n.memoizedState=se}}function ov(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function lv(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)ov(s[n],i)}function Ll(n,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&n)===n){l=void 0;var m=s.create,_=s.inst;l=m(),_.destroy=l}s=s.next}while(s!==f)}}catch(w){bt(i,i.return,w)}}function ga(n,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=i;var D=s;try{w()}catch(B){bt(f,D,B)}}}l=l.next}while(l!==m)}}catch(B){bt(i,i.return,B)}}function uv(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{lv(i,s)}catch(l){bt(n,n.return,l)}}}function cv(n,i,s){s.props=Es(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){bt(n,i,l)}}function ws(n,i){try{var s=n.ref;if(s!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof s=="function"?n.refCleanup=s(f):s.current=f}}catch(m){bt(n,i,m)}}function Yn(n,i){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){bt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){bt(n,i,f)}else s.current=null}function hv(n){var i=n.type,s=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){bt(n,n.return,f)}}function fv(n,i,s){try{var l=n.stateNode;kw(l,n.type,s,i),l[Ne]=i}catch(f){bt(n,n.return,f)}}function dv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Od(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||dv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Md(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(n,i):s.insertBefore(n,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(n,s)):(i=s,i.appendChild(n)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=$c));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Md(n,i,s),n=n.sibling;n!==null;)Md(n,i,s),n=n.sibling}function Pc(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Pc(n,i,s),n=n.sibling;n!==null;)Pc(n,i,s),n=n.sibling}var Ni=!1,Mt=!1,Pd=!1,mv=typeof WeakSet=="function"?WeakSet:Set,hn=null,pv=!1;function fw(n,i){if(n=n.containerInfo,lm=eh,n=Og(n),kf(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var _=0,w=-1,D=-1,B=0,te=0,se=n,Q=null;t:for(;;){for(var J;se!==s||f!==0&&se.nodeType!==3||(w=_+f),se!==m||l!==0&&se.nodeType!==3||(D=_+l),se.nodeType===3&&(_+=se.nodeValue.length),(J=se.firstChild)!==null;)Q=se,se=J;for(;;){if(se===n)break t;if(Q===s&&++B===f&&(w=_),Q===m&&++te===l&&(D=_),(J=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=J}s=w===-1||D===-1?null:{start:w,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(um={focusedElem:n,selectionRange:s},eh=!1,hn=i;hn!==null;)if(i=hn,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,hn=n;else for(;hn!==null;){switch(i=hn,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,s=i,f=m.memoizedProps,m=m.memoizedState,l=s.stateNode;try{var Se=Es(s.type,f,s.elementType===s.type);n=l.getSnapshotBeforeUpdate(Se,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(Be){bt(s,s.return,Be)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)dm(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":dm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,hn=n;break}hn=i.return}return Se=pv,pv=!1,Se}function gv(n,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Mi(n,s),l&4&&Ll(5,s);break;case 1:if(Mi(n,s),l&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(w){bt(s,s.return,w)}else{var f=Es(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(w){bt(s,s.return,w)}}l&64&&uv(s),l&512&&ws(s,s.return);break;case 3:if(Mi(n,s),l&64&&(l=s.updateQueue,l!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{lv(l,n)}catch(w){bt(s,s.return,w)}}break;case 26:Mi(n,s),l&512&&ws(s,s.return);break;case 27:case 5:Mi(n,s),i===null&&l&4&&hv(s),l&512&&ws(s,s.return);break;case 12:Mi(n,s);break;case 13:Mi(n,s),l&4&&_v(n,s);break;case 22:if(f=s.memoizedState!==null||Ni,!f){i=i!==null&&i.memoizedState!==null||Mt;var m=Ni,_=Mt;Ni=f,(Mt=i)&&!_?ya(n,s,(s.subtreeFlags&8772)!==0):Mi(n,s),Ni=m,Mt=_}l&512&&(s.memoizedProps.mode==="manual"?ws(s,s.return):Yn(s,s.return));break;default:Mi(n,s)}}function yv(n){var i=n.alternate;i!==null&&(n.alternate=null,yv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&$n(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Qt=null,Xn=!1;function Oi(n,i,s){for(s=s.child;s!==null;)vv(n,i,s),s=s.sibling}function vv(n,i,s){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Ar,s)}catch{}switch(s.tag){case 26:Mt||Yn(s,i),Oi(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Mt||Yn(s,i);var l=Qt,f=Xn;for(Qt=s.stateNode,Oi(n,i,s),s=s.stateNode,i=s.attributes;i.length;)s.removeAttributeNode(i[0]);$n(s),Qt=l,Xn=f;break;case 5:Mt||Yn(s,i);case 6:f=Qt;var m=Xn;if(Qt=null,Oi(n,i,s),Qt=f,Xn=m,Qt!==null)if(Xn)try{n=Qt,l=s.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(_){bt(s,i,_)}else try{Qt.removeChild(s.stateNode)}catch(_){bt(s,i,_)}break;case 18:Qt!==null&&(Xn?(i=Qt,s=s.stateNode,i.nodeType===8?fm(i.parentNode,s):i.nodeType===1&&fm(i,s),tu(i)):fm(Qt,s.stateNode));break;case 4:l=Qt,f=Xn,Qt=s.stateNode.containerInfo,Xn=!0,Oi(n,i,s),Qt=l,Xn=f;break;case 0:case 11:case 14:case 15:Mt||ga(2,s,i),Mt||ga(4,s,i),Oi(n,i,s);break;case 1:Mt||(Yn(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&cv(s,i,l)),Oi(n,i,s);break;case 21:Oi(n,i,s);break;case 22:Mt||Yn(s,i),Mt=(l=Mt)||s.memoizedState!==null,Oi(n,i,s),Mt=l;break;default:Oi(n,i,s)}}function _v(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{tu(n)}catch(s){bt(i,i.return,s)}}function dw(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new mv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new mv),i;default:throw Error(a(435,n.tag))}}function Vd(n,i){var s=dw(n);i.forEach(function(l){var f=Rw.bind(null,n,l);s.has(l)||(s.add(l),l.then(f,f))})}function mr(n,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],m=n,_=i,w=_;e:for(;w!==null;){switch(w.tag){case 27:case 5:Qt=w.stateNode,Xn=!1;break e;case 3:Qt=w.stateNode.containerInfo,Xn=!0;break e;case 4:Qt=w.stateNode.containerInfo,Xn=!0;break e}w=w.return}if(Qt===null)throw Error(a(160));vv(m,_,f),Qt=null,Xn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ev(i,n),i=i.sibling}var Dr=null;function Ev(n,i){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:mr(i,n),pr(n),l&4&&(ga(3,n,n.return),Ll(3,n),ga(5,n,n.return));break;case 1:mr(i,n),pr(n),l&512&&(Mt||s===null||Yn(s,s.return)),l&64&&Ni&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Dr;if(mr(i,n),pr(n),l&512&&(Mt||s===null||Yn(s,s.return)),l&4){var m=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){e:{l=n.type,s=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[On]||m[_e]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),En(m,l,s),m[_e]=n,ht(m),l=m;break e;case"link":var _=h0("link","href",f).get(l+(s.href||""));if(_){for(var w=0;w<_.length;w++)if(m=_[w],m.getAttribute("href")===(s.href==null?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(w,1);break t}}m=f.createElement(l),En(m,l,s),f.head.appendChild(m);break;case"meta":if(_=h0("meta","content",f).get(l+(s.content||""))){for(w=0;w<_.length;w++)if(m=_[w],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(w,1);break t}}m=f.createElement(l),En(m,l,s),f.head.appendChild(m);break;default:throw Error(a(468,l))}m[_e]=n,ht(m),l=m}n.stateNode=l}else f0(f,n.type,n.stateNode);else n.stateNode=c0(f,l,n.memoizedProps);else m!==l?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,l===null?f0(f,n.type,n.stateNode):c0(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&fv(n,n.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var D=f.firstChild;D;){var B=D.nextSibling,te=D.nodeName;D[On]||te==="HEAD"||te==="BODY"||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=B}for(var se=n.type,Q=f.attributes;Q.length;)f.removeAttributeNode(Q[0]);En(f,se,m),f[_e]=n,f[Ne]=m}catch(Se){bt(n,n.return,Se)}}case 5:if(mr(i,n),pr(n),l&512&&(Mt||s===null||Yn(s,s.return)),n.flags&32){f=n.stateNode;try{ar(f,"")}catch(Se){bt(n,n.return,Se)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,fv(n,f,s!==null?s.memoizedProps:f)),l&1024&&(Pd=!0);break;case 6:if(mr(i,n),pr(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch(Se){bt(n,n.return,Se)}}break;case 3:if(Wc=null,f=Dr,Dr=Yc(i.containerInfo),mr(i,n),Dr=f,pr(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{tu(i.containerInfo)}catch(Se){bt(n,n.return,Se)}Pd&&(Pd=!1,bv(n));break;case 4:l=Dr,Dr=Yc(n.stateNode.containerInfo),mr(i,n),pr(n),Dr=l;break;case 12:mr(i,n),pr(n);break;case 13:mr(i,n),pr(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(qd=rn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Vd(n,l)));break;case 22:if(l&512&&(Mt||s===null||Yn(s,s.return)),D=n.memoizedState!==null,B=s!==null&&s.memoizedState!==null,te=Ni,se=Mt,Ni=te||D,Mt=se||B,mr(i,n),Mt=se,Ni=te,pr(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=Ni||Mt,s===null||B||i||bo(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(s=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(s===null){B=s=i;try{if(f=B.stateNode,D)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=B.stateNode,w=B.memoizedProps.style;var J=w!=null&&w.hasOwnProperty("display")?w.display:null;_.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Se){bt(B,B.return,Se)}}}else if(i.tag===6){if(s===null){B=i;try{B.stateNode.nodeValue=D?"":B.memoizedProps}catch(Se){bt(B,B.return,Se)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Vd(n,s))));break;case 19:mr(i,n),pr(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Vd(n,l)));break;case 21:break;default:mr(i,n),pr(n)}}function pr(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var s=n.return;s!==null;){if(dv(s)){var l=s;break e}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var f=l.stateNode,m=Od(n);Pc(n,m,f);break;case 5:var _=l.stateNode;l.flags&32&&(ar(_,""),l.flags&=-33);var w=Od(n);Pc(n,w,_);break;case 3:case 4:var D=l.stateNode.containerInfo,B=Od(n);Md(n,B,D);break;default:throw Error(a(161))}}}catch(te){bt(n,n.return,te)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function bv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;bv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Mi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)gv(n,i.alternate,i),i=i.sibling}function bo(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ga(4,i,i.return),bo(i);break;case 1:Yn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&cv(i,i.return,s),bo(i);break;case 26:case 27:case 5:Yn(i,i.return),bo(i);break;case 22:Yn(i,i.return),i.memoizedState===null&&bo(i);break;default:bo(i)}n=n.sibling}}function ya(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:ya(f,m,s),Ll(4,m);break;case 1:if(ya(f,m,s),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){bt(l,l.return,B)}if(l=m,f=l.updateQueue,f!==null){var w=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)ov(D[f],w)}catch(B){bt(l,l.return,B)}}s&&_&64&&uv(m),ws(m,m.return);break;case 26:case 27:case 5:ya(f,m,s),s&&l===null&&_&4&&hv(m),ws(m,m.return);break;case 12:ya(f,m,s);break;case 13:ya(f,m,s),s&&_&4&&_v(f,m);break;case 22:m.memoizedState===null&&ya(f,m,s),ws(m,m.return);break;default:ya(f,m,s)}i=i.sibling}}function kd(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&xl(s))}function Ld(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&xl(n))}function va(n,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tv(n,i,s,l),i=i.sibling}function Tv(n,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:va(n,i,s,l),f&2048&&Ll(9,i);break;case 3:va(n,i,s,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&xl(n)));break;case 12:if(f&2048){va(n,i,s,l),n=i.stateNode;try{var m=i.memoizedProps,_=m.id,w=m.onPostCommit;typeof w=="function"&&w(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){bt(i,i.return,D)}}else va(n,i,s,l);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?va(n,i,s,l):Ul(n,i):m._visibility&4?va(n,i,s,l):(m._visibility|=4,To(n,i,s,l,(i.subtreeFlags&10256)!==0)),f&2048&&kd(i.alternate,i);break;case 24:va(n,i,s,l),f&2048&&Ld(i.alternate,i);break;default:va(n,i,s,l)}}function To(n,i,s,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,_=i,w=s,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:To(m,_,w,D,f),Ll(8,_);break;case 23:break;case 22:var te=_.stateNode;_.memoizedState!==null?te._visibility&4?To(m,_,w,D,f):Ul(m,_):(te._visibility|=4,To(m,_,w,D,f)),f&&B&2048&&kd(_.alternate,_);break;case 24:To(m,_,w,D,f),f&&B&2048&&Ld(_.alternate,_);break;default:To(m,_,w,D,f)}i=i.sibling}}function Ul(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,l=i,f=l.flags;switch(l.tag){case 22:Ul(s,l),f&2048&&kd(l.alternate,l);break;case 24:Ul(s,l),f&2048&&Ld(l.alternate,l);break;default:Ul(s,l)}i=i.sibling}}var jl=8192;function wo(n){if(n.subtreeFlags&jl)for(n=n.child;n!==null;)wv(n),n=n.sibling}function wv(n){switch(n.tag){case 26:wo(n),n.flags&jl&&n.memoizedState!==null&&tS(Dr,n.memoizedState,n.memoizedProps);break;case 5:wo(n);break;case 3:case 4:var i=Dr;Dr=Yc(n.stateNode.containerInfo),wo(n),Dr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=jl,jl=16777216,wo(n),jl=i):wo(n));break;default:wo(n)}}function Sv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function zl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];hn=l,Rv(l,n)}Sv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Av(n),n=n.sibling}function Av(n){switch(n.tag){case 0:case 11:case 15:zl(n),n.flags&2048&&ga(9,n,n.return);break;case 3:zl(n);break;case 12:zl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,Vc(n)):zl(n);break;default:zl(n)}}function Vc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];hn=l,Rv(l,n)}Sv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ga(8,i,i.return),Vc(i);break;case 22:s=i.stateNode,s._visibility&4&&(s._visibility&=-5,Vc(i));break;default:Vc(i)}n=n.sibling}}function Rv(n,i){for(;hn!==null;){var s=hn;switch(s.tag){case 0:case 11:case 15:ga(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,hn=l;else e:for(s=n;hn!==null;){l=hn;var f=l.sibling,m=l.return;if(yv(l),l===s){hn=null;break e}if(f!==null){f.return=m,hn=f;break e}hn=m}}}function mw(n,i,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(n,i,s,l){return new mw(n,i,s,l)}function Ud(n){return n=n.prototype,!(!n||!n.isReactComponent)}function _a(n,i){var s=n.alternate;return s===null?(s=gr(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&31457280,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function xv(n,i){n.flags&=31457282;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function kc(n,i,s,l,f,m){var _=0;if(l=n,typeof n=="function")Ud(n)&&(_=1);else if(typeof n=="string")_=Jw(n,s,Ut.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return Ss(s.children,f,m,i);case g:_=8,f|=24;break;case E:return n=gr(12,s,i,f|2),n.elementType=E,n.lanes=m,n;case $:return n=gr(13,s,i,f),n.elementType=$,n.lanes=m,n;case j:return n=gr(19,s,i,f),n.elementType=j,n.lanes=m,n;case Z:return Cv(s,f,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case C:_=10;break e;case S:_=9;break e;case P:_=11;break e;case X:_=14;break e;case ee:_=16,l=null;break e}_=29,s=Error(a(130,n===null?"null":typeof n,"")),l=null}return i=gr(_,s,i,f),i.elementType=n,i.type=l,i.lanes=m,i}function Ss(n,i,s,l){return n=gr(7,n,l,i),n.lanes=s,n}function Cv(n,i,s,l){n=gr(22,n,l,i),n.elementType=Z,n.lanes=s;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(a(456));if((f._pendingVisibility&2)===0){var _=oa(m,2);_!==null&&(f._pendingVisibility|=2,kn(_,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(a(456));if((f._pendingVisibility&2)!==0){var _=oa(m,2);_!==null&&(f._pendingVisibility&=-3,kn(_,m,2))}}};return n.stateNode=f,n}function jd(n,i,s){return n=gr(6,n,null,i),n.lanes=s,n}function zd(n,i,s){return i=gr(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Pi(n){n.flags|=4}function Iv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!d0(i)){if(i=dr.current,i!==null&&((it&4194176)===it?Xr!==null:(it&62914560)!==it&&(it&536870912)===0||i!==Xr))throw Sl=Gf,Kg;n.flags|=8192}}function Lc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?F():536870912,n.lanes|=i,Ao|=i)}function Bl(n,i){if(!ut)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function It(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(i)for(var f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=s,i}function pw(n,i,s){var l=i.pendingProps;switch(Ff(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(i),null;case 1:return It(i),null;case 3:return s=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Di(Jt),qt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(El(i)?Pi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ir!==null&&(Qd(Ir),Ir=null))),It(i),null;case 26:return s=i.memoizedState,n===null?(Pi(i),s!==null?(It(i),Iv(i,s)):(It(i),i.flags&=-16777217)):s?s!==n.memoizedState?(Pi(i),It(i),Iv(i,s)):(It(i),i.flags&=-16777217):(n.memoizedProps!==l&&Pi(i),It(i),i.flags&=-16777217),null;case 27:wr(i),s=Ct.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Pi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return It(i),null}n=Ut.current,El(i)?qg(i):(n=a0(f,l,s),i.stateNode=n,Pi(i))}return It(i),null;case 5:if(wr(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Pi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return It(i),null}if(n=Ut.current,El(i))qg(i);else{switch(f=Qc(Ct.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}n[_e]=i,n[Ne]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(En(n,s,l),s){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Pi(i)}}return It(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Pi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(n=Ct.current,El(i)){if(n=i.stateNode,s=i.memoizedProps,l=null,f=Vn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[_e]=i,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Jv(n.nodeValue,s)),n||ms(i)}else n=Qc(n).createTextNode(l),n[_e]=i,i.stateNode=n}return It(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=El(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[_e]=i}else bl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;It(i),f=!1}else Ir!==null&&(Qd(Ir),Ir=null),f=!0;if(!f)return i.flags&256?(Ri(i),i):(Ri(i),null)}if(Ri(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,n=n!==null&&n.memoizedState!==null,s){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),Lc(i,i.updateQueue),It(i),null;case 4:return qt(),n===null&&am(i.stateNode.containerInfo),It(i),null;case 10:return Di(i.type),It(i),null;case 19:if(Fe(Zt),f=i.memoizedState,f===null)return It(i),null;if(l=(i.flags&128)!==0,m=f.rendering,m===null)if(l)Bl(f,!1);else{if(Pt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Ec(n),m!==null){for(i.flags|=128,Bl(f,!1),n=m.updateQueue,i.updateQueue=n,Lc(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)xv(s,n),s=s.sibling;return Qe(Zt,Zt.current&1|2),i.child}n=n.sibling}f.tail!==null&&rn()>Uc&&(i.flags|=128,l=!0,Bl(f,!1),i.lanes=4194304)}else{if(!l)if(n=Ec(m),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Lc(i,n),Bl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!ut)return It(i),null}else 2*rn()-f.renderingStartTime>Uc&&s!==536870912&&(i.flags|=128,l=!0,Bl(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=rn(),i.sibling=null,n=Zt.current,Qe(Zt,l?n&1|2:n&1),i):(It(i),null);case 22:case 23:return Ri(i),$f(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(It(i),i.subtreeFlags&6&&(i.flags|=8192)):It(i),s=i.updateQueue,s!==null&&Lc(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),n!==null&&Fe(gs),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Di(Jt),It(i),null;case 25:return null}throw Error(a(156,i.tag))}function gw(n,i){switch(Ff(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Di(Jt),qt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return wr(i),null;case 13:if(Ri(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));bl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Fe(Zt),null;case 4:return qt(),null;case 10:return Di(i.type),null;case 22:case 23:return Ri(i),$f(),n!==null&&Fe(gs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Di(Jt),null;case 25:return null;default:return null}}function Dv(n,i){switch(Ff(i),i.tag){case 3:Di(Jt),qt();break;case 26:case 27:case 5:wr(i);break;case 4:qt();break;case 13:Ri(i);break;case 19:Fe(Zt);break;case 10:Di(i.type);break;case 22:case 23:Ri(i),$f(),n!==null&&Fe(gs);break;case 24:Di(Jt)}}var yw={getCacheForType:function(n){var i=An(Jt),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},vw=typeof WeakMap=="function"?WeakMap:Map,Dt=0,wt=null,Xe=null,it=0,St=0,Wn=null,Vi=!1,So=!1,Bd=!1,ki=0,Pt=0,Ea=0,As=0,Hd=0,yr=0,Ao=0,Hl=null,Zr=null,Fd=!1,qd=0,Uc=1/0,jc=null,ba=null,zc=!1,Rs=null,Fl=0,Gd=0,Kd=null,ql=0,$d=null;function Zn(){if((Dt&2)!==0&&it!==0)return it&-it;if(R.T!==null){var n=go;return n!==0?n:tm()}return we()}function Nv(){yr===0&&(yr=(it&536870912)===0||ut?L():536870912);var n=dr.current;return n!==null&&(n.flags|=32),yr}function kn(n,i,s){(n===wt&&St===2||n.cancelPendingCommit!==null)&&(Ro(n,0),Li(n,it,yr,!1)),ne(n,s),((Dt&2)===0||n!==wt)&&(n===wt&&((Dt&2)===0&&(As|=s),Pt===4&&Li(n,it,yr,!1)),Jr(n))}function Ov(n,i,s){if((Dt&6)!==0)throw Error(a(327));var l=!s&&(i&60)===0&&(i&n.expiredLanes)===0||jr(n,i),f=l?bw(n,i):Wd(n,i,!0),m=l;do{if(f===0){So&&!l&&Li(n,i,0,!1);break}else if(f===6)Li(n,i,0,!Vi);else{if(s=n.current.alternate,m&&!_w(s)){f=Wd(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var w=n;f=Hl;var D=w.current.memoizedState.isDehydrated;if(D&&(Ro(w,_).flags|=256),_=Wd(w,_,!1),_!==2){if(Bd&&!D){w.errorRecoveryDisabledLanes|=m,As|=m,f=4;break e}m=Zr,Zr=f,m!==null&&Qd(m)}f=_}if(m=!1,f!==2)continue}}if(f===1){Ro(n,0),Li(n,i,0,!0);break}e:{switch(l=n,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){Li(l,i,yr,!Vi);break e}break;case 2:Zr=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=i,(i&62914560)===i&&(m=qd+300-rn(),10<m)){if(Li(l,i,yr,!Vi),gn(l,0)!==0)break e;l.timeoutHandle=n0(Mv.bind(null,l,s,Zr,jc,Fd,i,yr,As,Ao,Vi,2,-0,0),m);break e}Mv(l,s,Zr,jc,Fd,i,yr,As,Ao,Vi,0,-0,0)}}break}while(!0);Jr(n)}function Qd(n){Zr===null?Zr=n:Zr.push.apply(Zr,n)}function Mv(n,i,s,l,f,m,_,w,D,B,te,se,Q){var J=i.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(Xl={stylesheets:null,count:0,unsuspend:eS},wv(i),i=nS(),i!==null)){n.cancelPendingCommit=i(zv.bind(null,n,s,l,f,_,w,D,1,se,Q)),Li(n,m,_,!B);return}zv(n,s,l,f,_,w,D,te,se,Q)}function _w(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],m=f.getSnapshot;f=f.value;try{if(!Qn(m(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Li(n,i,s,l){i&=~Hd,i&=~As,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var m=31-sn(f),_=1<<m;l[m]=-1,f&=~_}s!==0&&xe(n,s,i)}function Bc(){return(Dt&6)===0?(Gl(0),!1):!0}function Yd(){if(Xe!==null){if(St===0)var n=Xe.return;else n=Xe,Ii=bs=null,td(n),mo=null,Al=0,n=Xe;for(;n!==null;)Dv(n.alternate,n),n=n.return;Xe=null}}function Ro(n,i){n.finishedWork=null,n.finishedLanes=0;var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,Uw(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Yd(),wt=n,Xe=s=_a(n.current,null),it=i,St=0,Wn=null,Vi=!1,So=jr(n,i),Bd=!1,Ao=yr=Hd=As=Ea=Pt=0,Zr=Hl=null,Fd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-sn(l),m=1<<f;i|=n[f],l&=~m}return ki=i,hc(),s}function Pv(n,i){Ke=null,R.H=Wr,i===wl?(i=Yg(),St=3):i===Kg?(i=Yg(),St=4):St=i===$y?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Wn=i,Xe===null&&(Pt=1,Nc(n,cr(i,n.current)))}function Vv(){var n=R.H;return R.H=Wr,n===null?Wr:n}function kv(){var n=R.A;return R.A=yw,n}function Xd(){Pt=4,Vi||(it&4194176)!==it&&dr.current!==null||(So=!0),(Ea&134217727)===0&&(As&134217727)===0||wt===null||Li(wt,it,yr,!1)}function Wd(n,i,s){var l=Dt;Dt|=2;var f=Vv(),m=kv();(wt!==n||it!==i)&&(jc=null,Ro(n,i)),i=!1;var _=Pt;e:do try{if(St!==0&&Xe!==null){var w=Xe,D=Wn;switch(St){case 8:Yd(),_=6;break e;case 3:case 2:case 6:dr.current===null&&(i=!0);var B=St;if(St=0,Wn=null,xo(n,w,D,B),s&&So){_=0;break e}break;default:B=St,St=0,Wn=null,xo(n,w,D,B)}}Ew(),_=Pt;break}catch(te){Pv(n,te)}while(!0);return i&&n.shellSuspendCounter++,Ii=bs=null,Dt=l,R.H=f,R.A=m,Xe===null&&(wt=null,it=0,hc()),_}function Ew(){for(;Xe!==null;)Lv(Xe)}function bw(n,i){var s=Dt;Dt|=2;var l=Vv(),f=kv();wt!==n||it!==i?(jc=null,Uc=rn()+500,Ro(n,i)):So=jr(n,i);e:do try{if(St!==0&&Xe!==null){i=Xe;var m=Wn;t:switch(St){case 1:St=0,Wn=null,xo(n,i,m,1);break;case 2:if($g(m)){St=0,Wn=null,Uv(i);break}i=function(){St===2&&wt===n&&(St=7),Jr(n)},m.then(i,i);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:$g(m)?(St=0,Wn=null,Uv(i)):(St=0,Wn=null,xo(n,i,m,7));break;case 5:var _=null;switch(Xe.tag){case 26:_=Xe.memoizedState;case 5:case 27:var w=Xe;if(!_||d0(_)){St=0,Wn=null;var D=w.sibling;if(D!==null)Xe=D;else{var B=w.return;B!==null?(Xe=B,Hc(B)):Xe=null}break t}}St=0,Wn=null,xo(n,i,m,5);break;case 6:St=0,Wn=null,xo(n,i,m,6);break;case 8:Yd(),Pt=6;break e;default:throw Error(a(462))}}Tw();break}catch(te){Pv(n,te)}while(!0);return Ii=bs=null,R.H=l,R.A=f,Dt=s,Xe!==null?0:(wt=null,it=0,hc(),Pt)}function Tw(){for(;Xe!==null&&!mi();)Lv(Xe)}function Lv(n){var i=av(n.alternate,n,ki);n.memoizedProps=n.pendingProps,i===null?Hc(n):Xe=i}function Uv(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=Jy(s,i,i.pendingProps,i.type,void 0,it);break;case 11:i=Jy(s,i,i.pendingProps,i.type.render,i.ref,it);break;case 5:td(i);default:Dv(s,i),i=Xe=xv(i,ki),i=av(s,i,ki)}n.memoizedProps=n.pendingProps,i===null?Hc(n):Xe=i}function xo(n,i,s,l){Ii=bs=null,td(i),mo=null,Al=0;var f=i.return;try{if(cw(n,f,i,s,it)){Pt=1,Nc(n,cr(s,n.current)),Xe=null;return}}catch(m){if(f!==null)throw Xe=f,m;Pt=1,Nc(n,cr(s,n.current)),Xe=null;return}i.flags&32768?(ut||l===1?n=!0:So||(it&536870912)!==0?n=!1:(Vi=n=!0,(l===2||l===3||l===6)&&(l=dr.current,l!==null&&l.tag===13&&(l.flags|=16384))),jv(i,n)):Hc(i)}function Hc(n){var i=n;do{if((i.flags&32768)!==0){jv(i,Vi);return}n=i.return;var s=pw(i.alternate,i,ki);if(s!==null){Xe=s;return}if(i=i.sibling,i!==null){Xe=i;return}Xe=i=n}while(i!==null);Pt===0&&(Pt=5)}function jv(n,i){do{var s=gw(n.alternate,n);if(s!==null){s.flags&=32767,Xe=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){Xe=n;return}Xe=n=s}while(n!==null);Pt=6,Xe=null}function zv(n,i,s,l,f,m,_,w,D,B){var te=R.T,se=de.p;try{de.p=2,R.T=null,ww(n,i,s,l,se,f,m,_,w,D,B)}finally{R.T=te,de.p=se}}function ww(n,i,s,l,f,m,_,w){do Co();while(Rs!==null);if((Dt&6)!==0)throw Error(a(327));var D=n.finishedWork;if(l=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(a(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var B=D.lanes|D.childLanes;if(B|=zf,me(n,l,B,m,_,w),n===wt&&(Xe=wt=null,it=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||zc||(zc=!0,Gd=B,Kd=s,xw(Kn,function(){return Co(),null})),s=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||s?(s=R.T,R.T=null,m=de.p,de.p=2,_=Dt,Dt|=4,fw(n,D),Ev(D,n),$T(um,n.containerInfo),eh=!!lm,um=lm=null,n.current=D,gv(n,D.alternate,D),ea(),Dt=_,de.p=m,R.T=s):n.current=D,zc?(zc=!1,Rs=n,Fl=l):Bv(n,B),B=n.pendingLanes,B===0&&(ba=null),ta(D.stateNode),Jr(n),i!==null)for(f=n.onRecoverableError,D=0;D<i.length;D++)B=i[D],f(B.value,{componentStack:B.stack});return(Fl&3)!==0&&Co(),B=n.pendingLanes,(l&4194218)!==0&&(B&42)!==0?n===$d?ql++:(ql=0,$d=n):ql=0,Gl(0),null}function Bv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,xl(i)))}function Co(){if(Rs!==null){var n=Rs,i=Gd;Gd=0;var s=Te(Fl),l=R.T,f=de.p;try{if(de.p=32>s?32:s,R.T=null,Rs===null)var m=!1;else{s=Kd,Kd=null;var _=Rs,w=Fl;if(Rs=null,Fl=0,(Dt&6)!==0)throw Error(a(331));var D=Dt;if(Dt|=4,Av(_.current),Tv(_,_.current,w,s),Dt=D,Gl(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Ar,_)}catch{}m=!0}return m}finally{de.p=f,R.T=l,Bv(n,i)}}return!1}function Hv(n,i,s){i=cr(s,i),i=pd(n.stateNode,i,2),n=pa(n,i,2),n!==null&&(ne(n,2),Jr(n))}function bt(n,i,s){if(n.tag===3)Hv(n,n,s);else for(;i!==null;){if(i.tag===3){Hv(i,n,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ba===null||!ba.has(l))){n=cr(s,n),s=Gy(2),l=pa(i,s,2),l!==null&&(Ky(s,l,i,n),ne(l,2),Jr(l));break}}i=i.return}}function Zd(n,i,s){var l=n.pingCache;if(l===null){l=n.pingCache=new vw;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(Bd=!0,f.add(s),n=Sw.bind(null,n,i,s),i.then(n,n))}function Sw(n,i,s){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,wt===n&&(it&s)===s&&(Pt===4||Pt===3&&(it&62914560)===it&&300>rn()-qd?(Dt&2)===0&&Ro(n,0):Hd|=s,Ao===it&&(Ao=0)),Jr(n)}function Fv(n,i){i===0&&(i=F()),n=oa(n,i),n!==null&&(ne(n,i),Jr(n))}function Aw(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),Fv(n,s)}function Rw(n,i){var s=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Fv(n,s)}function xw(n,i){return di(n,i)}var Fc=null,Io=null,Jd=!1,qc=!1,em=!1,xs=0;function Jr(n){n!==Io&&n.next===null&&(Io===null?Fc=Io=n:Io=Io.next=n),qc=!0,Jd||(Jd=!0,Iw(Cw))}function Gl(n,i){if(!em&&qc){em=!0;do for(var s=!1,l=Fc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var _=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-sn(42|n)+1)-1,m&=f&~(_&~w),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(s=!0,Kv(l,m))}else m=it,m=gn(l,l===wt?m:0),(m&3)===0||jr(l,m)||(s=!0,Kv(l,m));l=l.next}while(s);em=!1}}function Cw(){qc=Jd=!1;var n=0;xs!==0&&(Lw()&&(n=xs),xs=0);for(var i=rn(),s=null,l=Fc;l!==null;){var f=l.next,m=qv(l,i);m===0?(l.next=null,s===null?Fc=f:s.next=f,f===null&&(Io=s)):(s=l,(n!==0||(m&3)!==0)&&(qc=!0)),l=f}Gl(n)}function qv(n,i){for(var s=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var _=31-sn(m),w=1<<_,D=f[_];D===-1?((w&s)===0||(w&l)!==0)&&(f[_]=na(w,i)):D<=i&&(n.expiredLanes|=w),m&=~w}if(i=wt,s=it,s=gn(n,n===i?s:0),l=n.callbackNode,s===0||n===i&&St===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&jn(l),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||jr(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(l!==null&&jn(l),Te(s)){case 2:case 8:s=jt;break;case 32:s=Kn;break;case 268435456:s=zn;break;default:s=Kn}return l=Gv.bind(null,n),s=di(s,l),n.callbackPriority=i,n.callbackNode=s,i}return l!==null&&l!==null&&jn(l),n.callbackPriority=2,n.callbackNode=null,2}function Gv(n,i){var s=n.callbackNode;if(Co()&&n.callbackNode!==s)return null;var l=it;return l=gn(n,n===wt?l:0),l===0?null:(Ov(n,l,i),qv(n,rn()),n.callbackNode!=null&&n.callbackNode===s?Gv.bind(null,n):null)}function Kv(n,i){if(Co())return null;Ov(n,i,!0)}function Iw(n){jw(function(){(Dt&6)!==0?di(gt,n):n()})}function tm(){return xs===0&&(xs=L()),xs}function $v(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Hr(""+n)}function Qv(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function Dw(n,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var m=$v((f[Ne]||null).action),_=l.submitter;_&&(i=(i=_[Ne]||null)?$v(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var w=new Js("action","action",null,l,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xs!==0){var D=_?Qv(f,_):new FormData(f);cd(s,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(w.preventDefault(),D=_?Qv(f,_):new FormData(f),cd(s,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var nm=0;nm<zg.length;nm++){var rm=zg[nm],Nw=rm.toLowerCase(),Ow=rm[0].toUpperCase()+rm.slice(1);Cr(Nw,"on"+Ow)}Cr(Vg,"onAnimationEnd"),Cr(kg,"onAnimationIteration"),Cr(Lg,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(YT,"onTransitionRun"),Cr(XT,"onTransitionStart"),Cr(WT,"onTransitionCancel"),Cr(Ug,"onTransitionEnd"),ft("onMouseEnter",["mouseout","mouseover"]),ft("onMouseLeave",["mouseout","mouseover"]),ft("onPointerEnter",["pointerout","pointerover"]),ft("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function Yv(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],f=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var _=l.length-1;0<=_;_--){var w=l[_],D=w.instance,B=w.currentTarget;if(w=w.listener,D!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=B;try{m(f)}catch(te){Dc(te)}f.currentTarget=null,m=D}else for(_=0;_<l.length;_++){if(w=l[_],D=w.instance,B=w.currentTarget,w=w.listener,D!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=B;try{m(f)}catch(te){Dc(te)}f.currentTarget=null,m=D}}}}function tt(n,i){var s=i[Rt];s===void 0&&(s=i[Rt]=new Set);var l=n+"__bubble";s.has(l)||(Xv(i,n,2,!1),s.add(l))}function im(n,i,s){var l=0;i&&(l|=4),Xv(s,n,l,i)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function am(n){if(!n[Gc]){n[Gc]=!0,zr.forEach(function(s){s!=="selectionchange"&&(Mw.has(s)||im(s,!1,n),im(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Gc]||(i[Gc]=!0,im("selectionchange",!1,i))}}function Xv(n,i,s,l){switch(_0(i)){case 2:var f=aS;break;case 8:f=sS;break;default:f=vm}s=f.bind(null,i,s,n),f=void 0,!or||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,s,{capture:!0,passive:f}):n.addEventListener(i,s,!0):f!==void 0?n.addEventListener(i,s,{passive:f}):n.addEventListener(i,s,!1)}function sm(n,i,s,l,f){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===f||w.nodeType===8&&w.parentNode===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;_=_.return}for(;w!==null;){if(_=zt(w),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=m=_;continue e}w=w.parentNode}}l=l.return}Xu(function(){var B=m,te=Zs(s),se=[];e:{var Q=jg.get(n);if(Q!==void 0){var J=Js,Se=n;switch(n){case"keypress":if(qr(s)===0)break e;case"keydown":case"keyup":J=ao;break;case"focusin":Se="focus",J=no;break;case"focusout":Se="blur",J=no;break;case"beforeblur":case"afterblur":J=no;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=ic;break;case Vg:case kg:case Lg:J=ro;break;case Ug:J=sc;break;case"scroll":case"scrollend":J=Wu;break;case"wheel":J=so;break;case"copy":case"cut":case"paste":J=io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=gl;break;case"toggle":case"beforetoggle":J=lc}var Be=(i&4)!==0,Vt=!Be&&(n==="scroll"||n==="scrollend"),q=Be?Q!==null?Q+"Capture":null:Q;Be=[];for(var z=B,K;z!==null;){var re=z;if(K=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||K===null||q===null||(re=rs(z,q),re!=null&&Be.push($l(z,re,K))),Vt)break;z=z.return}0<Be.length&&(Q=new J(Q,Se,null,s,te),se.push({event:Q,listeners:Be}))}}if((i&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",Q&&s!==sr&&(Se=s.relatedTarget||s.fromElement)&&(zt(Se)||Se[ot]))break e;if((J||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(Se=s.relatedTarget||s.toElement,J=B,Se=Se?zt(Se):null,Se!==null&&(Vt=Ee(Se),Be=Se.tag,Se!==Vt||Be!==5&&Be!==27&&Be!==6)&&(Se=null)):(J=null,Se=B),J!==Se)){if(Be=lr,re="onMouseLeave",q="onMouseEnter",z="mouse",(n==="pointerout"||n==="pointerover")&&(Be=gl,re="onPointerLeave",q="onPointerEnter",z="pointer"),Vt=J==null?Q:nr(J),K=Se==null?Q:nr(Se),Q=new Be(re,z+"leave",J,s,te),Q.target=Vt,Q.relatedTarget=K,re=null,zt(te)===B&&(Be=new Be(q,z+"enter",Se,s,te),Be.target=K,Be.relatedTarget=Vt,re=Be),Vt=re,J&&Se)t:{for(Be=J,q=Se,z=0,K=Be;K;K=Do(K))z++;for(K=0,re=q;re;re=Do(re))K++;for(;0<z-K;)Be=Do(Be),z--;for(;0<K-z;)q=Do(q),K--;for(;z--;){if(Be===q||q!==null&&Be===q.alternate)break t;Be=Do(Be),q=Do(q)}Be=null}else Be=null;J!==null&&Wv(se,Q,J,Be,!1),Se!==null&&Vt!==null&&Wv(se,Vt,Se,Be,!0)}}e:{if(Q=B?nr(B):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var be=Sg;else if(Wt(Q))if(Ag)be=GT;else{be=FT;var Ye=HT}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?B&&ul(B.elementType)&&(be=Sg):be=qT;if(be&&(be=be(n,B))){wi(se,be,s,te);break e}Ye&&Ye(n,Q,B),n==="focusout"&&B&&Q.type==="number"&&B.memoizedProps.value!=null&&Ws(Q,"number",Q.value)}switch(Ye=B?nr(B):window,n){case"focusin":(Wt(Ye)||Ye.contentEditable==="true")&&(oo=Ye,Lf=B,_l=null);break;case"focusout":_l=Lf=oo=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,Mg(se,s,te);break;case"selectionchange":if(QT)break;case"keydown":case"keyup":Mg(se,s,te)}var Ce;if($r)e:{switch(n){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else nt?W(n,s)&&(Me="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Me="onCompositionStart");Me&&(v&&s.locale!=="ko"&&(nt||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&nt&&(Ce=hl()):(Fr=te,sa="value"in Fr?Fr.value:Fr.textContent,nt=!0)),Ye=Kc(B,Me),0<Ye.length&&(Me=new ml(Me,n,null,s,te),se.push({event:Me,listeners:Ye}),Ce?Me.data=Ce:(Ce=he(s),Ce!==null&&(Me.data=Ce)))),(Ce=y?Xt(n,s):rt(n,s))&&(Me=Kc(B,"onBeforeInput"),0<Me.length&&(Ye=new ml("onBeforeInput","beforeinput",null,s,te),se.push({event:Ye,listeners:Me}),Ye.data=Ce)),Dw(se,n,B,s,te)}Yv(se,i)})}function $l(n,i,s){return{instance:n,listener:i,currentTarget:s}}function Kc(n,i){for(var s=i+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=rs(n,s),f!=null&&l.unshift($l(n,f,m)),f=rs(n,i),f!=null&&l.push($l(n,f,m))),n=n.return}return l}function Do(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Wv(n,i,s,l,f){for(var m=i._reactName,_=[];s!==null&&s!==l;){var w=s,D=w.alternate,B=w.stateNode;if(w=w.tag,D!==null&&D===l)break;w!==5&&w!==26&&w!==27||B===null||(D=B,f?(B=rs(s,m),B!=null&&_.unshift($l(s,B,D))):f||(B=rs(s,m),B!=null&&_.push($l(s,B,D)))),s=s.return}_.length!==0&&n.push({event:i,listeners:_})}var Pw=/\r\n?/g,Vw=/\u0000|\uFFFD/g;function Zv(n){return(typeof n=="string"?n:""+n).replace(Pw,`
`).replace(Vw,"")}function Jv(n,i){return i=Zv(i),Zv(n)===i}function $c(){}function vt(n,i,s,l,f,m){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ar(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ar(n,""+l);break;case"className":ra(n,"class",l);break;case"tabIndex":ra(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ra(n,s,l);break;case"style":Yu(n,l,m);break;case"data":if(i!=="object"){ra(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=Hr(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(i!=="input"&&vt(n,i,"name",f.name,f,null),vt(n,i,"formEncType",f.formEncType,f,null),vt(n,i,"formMethod",f.formMethod,f,null),vt(n,i,"formTarget",f.formTarget,f,null)):(vt(n,i,"encType",f.encType,f,null),vt(n,i,"method",f.method,f,null),vt(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=Hr(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=$c);break;case"onScroll":l!=null&&tt("scroll",n);break;case"onScrollEnd":l!=null&&tt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=Hr(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":tt("beforetoggle",n),tt("toggle",n),Br(n,"popover",l);break;case"xlinkActuate":ir(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ir(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ir(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ir(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ir(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ir(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ir(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ir(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ir(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Br(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Df.get(s)||s,Br(n,s,l))}}function om(n,i,s,l,f,m){switch(s){case"style":Yu(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof l=="string"?ar(n,l):(typeof l=="number"||typeof l=="bigint")&&ar(n,""+l);break;case"onScroll":l!=null&&tt("scroll",n);break;case"onScrollEnd":l!=null&&tt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=$c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),m=n[Ne]||null,m=m!=null?m[s]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,l,f);break e}s in n?n[s]=l:l===!0?n.setAttribute(s,""):Br(n,s,l)}}}function En(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",n),tt("load",n);var l=!1,f=!1,m;for(m in s)if(s.hasOwnProperty(m)){var _=s[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:vt(n,i,m,_,s,null)}}f&&vt(n,i,"srcSet",s.srcSet,s,null),l&&vt(n,i,"src",s.src,s,null);return;case"input":tt("invalid",n);var w=m=_=f=null,D=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var te=s[l];if(te!=null)switch(l){case"name":f=te;break;case"type":_=te;break;case"checked":D=te;break;case"defaultChecked":B=te;break;case"value":m=te;break;case"defaultValue":w=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,i));break;default:vt(n,i,l,te,s,null)}}ts(n,m,w,D,B,_,f,!1),es(n);return;case"select":tt("invalid",n),l=_=m=null;for(f in s)if(s.hasOwnProperty(f)&&(w=s[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:vt(n,i,f,w,s,null)}i=m,s=_,n.multiple=!!l,i!=null?lt(n,!!l,i,!1):s!=null&&lt(n,!!l,s,!0);return;case"textarea":tt("invalid",n),m=f=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(w=s[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:vt(n,i,_,w,s,null)}aa(n,l,f,m),es(n);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:vt(n,i,D,l,s,null)}return;case"dialog":tt("cancel",n),tt("close",n);break;case"iframe":case"object":tt("load",n);break;case"video":case"audio":for(l=0;l<Kl.length;l++)tt(Kl[l],n);break;case"image":tt("error",n),tt("load",n);break;case"details":tt("toggle",n);break;case"embed":case"source":case"link":tt("error",n),tt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:vt(n,i,B,l,s,null)}return;default:if(ul(i)){for(te in s)s.hasOwnProperty(te)&&(l=s[te],l!==void 0&&om(n,i,te,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&vt(n,i,w,l,s,null))}function kw(n,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,w=null,D=null,B=null,te=null;for(J in s){var se=s[J];if(s.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":D=se;default:l.hasOwnProperty(J)||vt(n,i,J,null,l,se)}}for(var Q in l){var J=l[Q];if(se=s[Q],l.hasOwnProperty(Q)&&(J!=null||se!=null))switch(Q){case"type":m=J;break;case"name":f=J;break;case"checked":B=J;break;case"defaultChecked":te=J;break;case"value":_=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:J!==se&&vt(n,i,Q,J,l,se)}}ia(n,_,w,D,B,te,m,f);return;case"select":J=_=w=Q=null;for(m in s)if(D=s[m],s.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":J=D;default:l.hasOwnProperty(m)||vt(n,i,m,null,l,D)}for(f in l)if(m=l[f],D=s[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":Q=m;break;case"defaultValue":w=m;break;case"multiple":_=m;default:m!==D&&vt(n,i,f,m,l,D)}i=w,s=_,l=J,Q!=null?lt(n,!!s,Q,!1):!!l!=!!s&&(i!=null?lt(n,!!s,i,!0):lt(n,!!s,s?[]:"",!1));return;case"textarea":J=Q=null;for(w in s)if(f=s[w],s.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:vt(n,i,w,null,l,f)}for(_ in l)if(f=l[_],m=s[_],l.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":Q=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&vt(n,i,_,f,l,m)}ns(n,Q,J);return;case"option":for(var Se in s)if(Q=s[Se],s.hasOwnProperty(Se)&&Q!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:vt(n,i,Se,null,l,Q)}for(D in l)if(Q=l[D],J=s[D],l.hasOwnProperty(D)&&Q!==J&&(Q!=null||J!=null))switch(D){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:vt(n,i,D,Q,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in s)Q=s[Be],s.hasOwnProperty(Be)&&Q!=null&&!l.hasOwnProperty(Be)&&vt(n,i,Be,null,l,Q);for(B in l)if(Q=l[B],J=s[B],l.hasOwnProperty(B)&&Q!==J&&(Q!=null||J!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:vt(n,i,B,Q,l,J)}return;default:if(ul(i)){for(var Vt in s)Q=s[Vt],s.hasOwnProperty(Vt)&&Q!==void 0&&!l.hasOwnProperty(Vt)&&om(n,i,Vt,void 0,l,Q);for(te in l)Q=l[te],J=s[te],!l.hasOwnProperty(te)||Q===J||Q===void 0&&J===void 0||om(n,i,te,Q,l,J);return}}for(var q in s)Q=s[q],s.hasOwnProperty(q)&&Q!=null&&!l.hasOwnProperty(q)&&vt(n,i,q,null,l,Q);for(se in l)Q=l[se],J=s[se],!l.hasOwnProperty(se)||Q===J||Q==null&&J==null||vt(n,i,se,Q,l,J)}var lm=null,um=null;function Qc(n){return n.nodeType===9?n:n.ownerDocument}function e0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t0(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function cm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var hm=null;function Lw(){var n=window.event;return n&&n.type==="popstate"?n===hm?!1:(hm=n,!0):(hm=null,!1)}var n0=typeof setTimeout=="function"?setTimeout:void 0,Uw=typeof clearTimeout=="function"?clearTimeout:void 0,r0=typeof Promise=="function"?Promise:void 0,jw=typeof queueMicrotask=="function"?queueMicrotask:typeof r0<"u"?function(n){return r0.resolve(null).then(n).catch(zw)}:n0;function zw(n){setTimeout(function(){throw n})}function fm(n,i){var s=i,l=0;do{var f=s.nextSibling;if(n.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(l===0){n.removeChild(f),tu(i);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=f}while(s);tu(i)}function dm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":dm(s),$n(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function Bw(n,i,s,l){for(;n.nodeType===1;){var f=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[On])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Nr(n.nextSibling),n===null)break}return null}function Hw(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Nr(n.nextSibling),n===null))return null;return n}function Nr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function i0(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function a0(n,i,s){switch(i=Qc(s),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}var vr=new Map,s0=new Set;function Yc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Ui=de.d;de.d={f:Fw,r:qw,D:Gw,C:Kw,L:$w,m:Qw,X:Xw,S:Yw,M:Ww};function Fw(){var n=Ui.f(),i=Bc();return n||i}function qw(n){var i=Gt(n);i!==null&&i.tag===5&&i.type==="form"?My(i):Ui.r(n)}var No=typeof document>"u"?null:document;function o0(n,i,s){var l=No;if(l&&typeof i=="string"&&i){var f=Ot(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),s0.has(f)||(s0.add(f),n={rel:n,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),En(i,"link",n),ht(i),l.head.appendChild(i)))}}function Gw(n){Ui.D(n),o0("dns-prefetch",n,null)}function Kw(n,i){Ui.C(n,i),o0("preconnect",n,i)}function $w(n,i,s){Ui.L(n,i,s);var l=No;if(l&&n&&i){var f='link[rel="preload"][as="'+Ot(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Ot(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Ot(s.imageSizes)+'"]')):f+='[href="'+Ot(n)+'"]';var m=f;switch(i){case"style":m=Oo(n);break;case"script":m=Mo(n)}vr.has(m)||(n=I({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),vr.set(m,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ql(m))||i==="script"&&l.querySelector(Yl(m))||(i=l.createElement("link"),En(i,"link",n),ht(i),l.head.appendChild(i)))}}function Qw(n,i){Ui.m(n,i);var s=No;if(s&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Ot(l)+'"][href="'+Ot(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Mo(n)}if(!vr.has(m)&&(n=I({rel:"modulepreload",href:n},i),vr.set(m,n),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Yl(m)))return}l=s.createElement("link"),En(l,"link",n),ht(l),s.head.appendChild(l)}}}function Yw(n,i,s){Ui.S(n,i,s);var l=No;if(l&&n){var f=Bn(l).hoistableStyles,m=Oo(n);i=i||"default";var _=f.get(m);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(Ql(m)))w.loading=5;else{n=I({rel:"stylesheet",href:n,"data-precedence":i},s),(s=vr.get(m))&&mm(n,s);var D=_=l.createElement("link");ht(D),En(D,"link",n),D._p=new Promise(function(B,te){D.onload=B,D.onerror=te}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Xc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(m,_)}}}function Xw(n,i){Ui.X(n,i);var s=No;if(s&&n){var l=Bn(s).hoistableScripts,f=Mo(n),m=l.get(f);m||(m=s.querySelector(Yl(f)),m||(n=I({src:n,async:!0},i),(i=vr.get(f))&&pm(n,i),m=s.createElement("script"),ht(m),En(m,"link",n),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Ww(n,i){Ui.M(n,i);var s=No;if(s&&n){var l=Bn(s).hoistableScripts,f=Mo(n),m=l.get(f);m||(m=s.querySelector(Yl(f)),m||(n=I({src:n,async:!0,type:"module"},i),(i=vr.get(f))&&pm(n,i),m=s.createElement("script"),ht(m),En(m,"link",n),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function l0(n,i,s,l){var f=(f=Ct.current)?Yc(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Oo(s.href),s=Bn(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Oo(s.href);var m=Bn(f).hoistableStyles,_=m.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,_),(m=f.querySelector(Ql(n)))&&!m._p&&(_.instance=m,_.state.loading=5),vr.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},vr.set(n,s),m||Zw(f,n,s,_.state))),i&&l===null)throw Error(a(528,""));return _}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Mo(s),s=Bn(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Oo(n){return'href="'+Ot(n)+'"'}function Ql(n){return'link[rel="stylesheet"]['+n+"]"}function u0(n){return I({},n,{"data-precedence":n.precedence,precedence:null})}function Zw(n,i,s,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),En(i,"link",s),ht(i),n.head.appendChild(i))}function Mo(n){return'[src="'+Ot(n)+'"]'}function Yl(n){return"script[async]"+n}function c0(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Ot(s.href)+'"]');if(l)return i.instance=l,ht(l),l;var f=I({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ht(l),En(l,"style",f),Xc(l,s.precedence,n),i.instance=l;case"stylesheet":f=Oo(s.href);var m=n.querySelector(Ql(f));if(m)return i.state.loading|=4,i.instance=m,ht(m),m;l=u0(s),(f=vr.get(f))&&mm(l,f),m=(n.ownerDocument||n).createElement("link"),ht(m);var _=m;return _._p=new Promise(function(w,D){_.onload=w,_.onerror=D}),En(m,"link",l),i.state.loading|=4,Xc(m,s.precedence,n),i.instance=m;case"script":return m=Mo(s.src),(f=n.querySelector(Yl(m)))?(i.instance=f,ht(f),f):(l=s,(f=vr.get(m))&&(l=I({},s),pm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),ht(f),En(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Xc(l,s.precedence,n));return i.instance}function Xc(n,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===i)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function mm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function pm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Wc=null;function h0(n,i,s){if(Wc===null){var l=new Map,f=Wc=new Map;f.set(s,l)}else f=Wc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),f=0;f<s.length;f++){var m=s[f];if(!(m[On]||m[_e]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=n+_;var w=l.get(_);w?w.push(m):l.set(_,[m])}}return l}function f0(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function Jw(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function d0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Xl=null;function eS(){}function tS(n,i,s){if(Xl===null)throw Error(a(475));var l=Xl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Oo(s.href),m=n.querySelector(Ql(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Zc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=m,ht(m);return}m=n.ownerDocument||n,s=u0(s),(f=vr.get(f))&&mm(s,f),m=m.createElement("link"),ht(m);var _=m;_._p=new Promise(function(w,D){_.onload=w,_.onerror=D}),En(m,"link",s),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Zc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function nS(){if(Xl===null)throw Error(a(475));var n=Xl;return n.stylesheets&&n.count===0&&gm(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&gm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function Zc(){if(this.count--,this.count===0){if(this.stylesheets)gm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Jc=null;function gm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Jc=new Map,i.forEach(rS,n),Jc=null,Zc.call(n))}function rS(n,i){if(!(i.state.loading&4)){var s=Jc.get(n);if(s)var l=s.get(null);else{s=new Map,Jc.set(n,s);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),m=s.get(_)||l,m===l&&s.set(null,f),s.set(_,f),this.count++,l=Zc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Wl={$$typeof:C,Provider:null,Consumer:null,_currentValue:De,_currentValue2:De,_threadCount:0};function iS(n,i,s,l,f,m,_,w){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Y(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y(0),this.hiddenUpdates=Y(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function m0(n,i,s,l,f,m,_,w,D,B,te,se){return n=new iS(n,i,s,_,w,D,B,se),i=1,m===!0&&(i|=24),m=gr(3,null,null,i),n.current=m,m.stateNode=n,i=Qf(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:s,cache:i},Cd(m),n}function p0(n){return n?(n=co,n):co}function g0(n,i,s,l,f,m){f=p0(f),l.context===null?l.context=f:l.pendingContext=f,l=ma(i),l.payload={element:s},m=m===void 0?null:m,m!==null&&(l.callback=m),s=pa(n,l,i),s!==null&&(kn(s,n,i),Pl(s,n,i))}function y0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function ym(n,i){y0(n,i),(n=n.alternate)&&y0(n,i)}function v0(n){if(n.tag===13){var i=oa(n,67108864);i!==null&&kn(i,n,67108864),ym(n,67108864)}}var eh=!0;function aS(n,i,s,l){var f=R.T;R.T=null;var m=de.p;try{de.p=2,vm(n,i,s,l)}finally{de.p=m,R.T=f}}function sS(n,i,s,l){var f=R.T;R.T=null;var m=de.p;try{de.p=8,vm(n,i,s,l)}finally{de.p=m,R.T=f}}function vm(n,i,s,l){if(eh){var f=_m(l);if(f===null)sm(n,i,l,th,s),E0(n,l);else if(lS(f,n,i,s,l))l.stopPropagation();else if(E0(n,l),i&4&&-1<oS.indexOf(n)){for(;f!==null;){var m=Gt(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Sn(m.pendingLanes);if(_!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var D=1<<31-sn(_);w.entanglements[1]|=D,_&=~D}Jr(m),(Dt&6)===0&&(Uc=rn()+500,Gl(0))}}break;case 13:w=oa(m,2),w!==null&&kn(w,m,2),Bc(),ym(m,2)}if(m=_m(l),m===null&&sm(n,i,l,th,s),m===f)break;f=m}f!==null&&l.stopPropagation()}else sm(n,i,l,null,s)}}function _m(n){return n=Zs(n),Em(n)}var th=null;function Em(n){if(th=null,n=zt(n),n!==null){var i=Ee(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=ke(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return th=n,null}function _0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gn()){case gt:return 2;case jt:return 8;case Kn:case $s:return 32;case zn:return 268435456;default:return 32}default:return 32}}var bm=!1,Ta=null,wa=null,Sa=null,Zl=new Map,Jl=new Map,Aa=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E0(n,i){switch(n){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(i.pointerId)}}function eu(n,i,s,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Gt(i),i!==null&&v0(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function lS(n,i,s,l,f){switch(i){case"focusin":return Ta=eu(Ta,n,i,s,l,f),!0;case"dragenter":return wa=eu(wa,n,i,s,l,f),!0;case"mouseover":return Sa=eu(Sa,n,i,s,l,f),!0;case"pointerover":var m=f.pointerId;return Zl.set(m,eu(Zl.get(m)||null,n,i,s,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Jl.set(m,eu(Jl.get(m)||null,n,i,s,l,f)),!0}return!1}function b0(n){var i=zt(n.target);if(i!==null){var s=Ee(i);if(s!==null){if(i=s.tag,i===13){if(i=ke(s),i!==null){n.blockedOn=i,pe(n.priority,function(){if(s.tag===13){var l=Zn(),f=oa(s,l);f!==null&&kn(f,s,l),ym(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function nh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=_m(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);sr=l,s.target.dispatchEvent(l),sr=null}else return i=Gt(s),i!==null&&v0(i),n.blockedOn=s,!1;i.shift()}return!0}function T0(n,i,s){nh(n)&&s.delete(i)}function uS(){bm=!1,Ta!==null&&nh(Ta)&&(Ta=null),wa!==null&&nh(wa)&&(wa=null),Sa!==null&&nh(Sa)&&(Sa=null),Zl.forEach(T0),Jl.forEach(T0)}function rh(n,i){n.blockedOn===i&&(n.blockedOn=null,bm||(bm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uS)))}var ih=null;function w0(n){ih!==n&&(ih=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ih===n&&(ih=null);for(var i=0;i<n.length;i+=3){var s=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(Em(l||s)===null)continue;break}var m=Gt(s);m!==null&&(n.splice(i,3),i-=3,cd(m,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function tu(n){function i(D){return rh(D,n)}Ta!==null&&rh(Ta,n),wa!==null&&rh(wa,n),Sa!==null&&rh(Sa,n),Zl.forEach(i),Jl.forEach(i);for(var s=0;s<Aa.length;s++){var l=Aa[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Aa.length&&(s=Aa[0],s.blockedOn===null);)b0(s),s.blockedOn===null&&Aa.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],m=s[l+1],_=f[Ne]||null;if(typeof m=="function")_||w0(s);else if(_){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Ne]||null)w=_.formAction;else if(Em(f)!==null)continue}else w=_.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),w0(s)}}}function Tm(n){this._internalRoot=n}ah.prototype.render=Tm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Zn();g0(s,l,n,i,null,null)},ah.prototype.unmount=Tm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&Co(),g0(n.current,2,null,n,null,null),Bc(),i[ot]=null}};function ah(n){this._internalRoot=n}ah.prototype.unstable_scheduleHydration=function(n){if(n){var i=we();n={blockedOn:null,target:n,priority:i};for(var s=0;s<Aa.length&&i!==0&&i<Aa[s].priority;s++);Aa.splice(s,0,n),s===0&&b0(n)}};var S0=e.version;if(S0!=="19.0.0")throw Error(a(527,S0,"19.0.0"));de.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=ae(i),n=n!==null?ge(n):null,n=n===null?null:n.stateNode,n};var cS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:zt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{Ar=sh.inject(cS),an=sh}catch{}}return ru.createRoot=function(n,i){if(!o(n))throw Error(a(299));var s=!1,l="",f=By,m=Hy,_=Fy,w=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=m0(n,1,!1,null,null,s,l,f,m,_,w,null),n[ot]=i.current,am(n.nodeType===8?n.parentNode:n),new Tm(i)},ru.hydrateRoot=function(n,i,s){if(!o(n))throw Error(a(299));var l=!1,f="",m=By,_=Hy,w=Fy,D=null,B=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks),s.formState!==void 0&&(B=s.formState)),i=m0(n,1,!0,i,s??null,l,f,m,_,w,D,B),i.context=p0(null),s=i.current,l=Zn(),f=ma(l),f.callback=null,pa(s,f,l),i.current.lanes=l,ne(i,l),Jr(i),n[ot]=i.current,am(n),new ah(i)},ru.version="19.0.0",ru}var P0;function _S(){if(P0)return Sm.exports;P0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sm.exports=vS(),Sm.exports}var ES=_S();const bS=ME(ES);var O=Ap();const Ms=ME(O);var iu={},V0;function TS(){if(V0)return iu;V0=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.parse=h,iu.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,C){const P=new u,$=S.length;if($<2)return P;const j=(C==null?void 0:C.decode)||E;let X=0;do{const ee=S.indexOf("=",X);if(ee===-1)break;const Z=S.indexOf(";",X),oe=Z===-1?$:Z;if(ee>oe){X=S.lastIndexOf(";",ee-1)+1;continue}const V=d(S,X,ee),ue=p(S,ee,V),M=S.slice(V,ue);if(P[M]===void 0){let x=d(S,ee+1,oe),R=p(S,oe,x);const I=j(S.slice(x,R));P[M]=I}X=oe+1}while(X<$);return P}function d(S,C,P){do{const $=S.charCodeAt(C);if($!==32&&$!==9)return C}while(++C<P);return P}function p(S,C,P){for(;C>P;){const $=S.charCodeAt(--C);if($!==32&&$!==9)return C+1}return P}function g(S,C,P){const $=(P==null?void 0:P.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const j=$(C);if(!e.test(j))throw new TypeError(`argument val is invalid: ${C}`);let X=S+"="+j;if(!P)return X;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);X+="; Max-Age="+P.maxAge}if(P.domain){if(!t.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);X+="; Domain="+P.domain}if(P.path){if(!a.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);X+="; Path="+P.path}if(P.expires){if(!T(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);X+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(X+="; HttpOnly"),P.secure&&(X+="; Secure"),P.partitioned&&(X+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return X}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return o.call(S)==="[object Date]"}return iu}TS();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VE=r=>{throw TypeError(r)},wS=(r,e,t)=>e.has(r)||VE("Cannot "+t),Im=(r,e,t)=>(wS(r,e,"read from private field"),t?t.call(r):e.get(r)),SS=(r,e,t)=>e.has(r)?VE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),k0="popstate";function AS(r={}){function e(a,o){let{pathname:u,search:h,hash:d}=a.location;return Tu("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){return typeof o=="string"?o:Ha(o)}return xS(e,t,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function mn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RS(){return Math.random().toString(36).substring(2,10)}function L0(r,e){return{usr:r.state,key:r.key,idx:e}}function Tu(r,e,t=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ya(e):e,state:t,key:e&&e.key||a||RS()}}function Ha({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ya(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function xS(r,e,t,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,d="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){d="POP";let j=E(),X=j==null?null:j-g;g=j,p&&p({action:d,location:$.location,delta:X})}function S(j,X){d="PUSH";let ee=Tu($.location,j,X);g=E()+1;let Z=L0(ee,g),oe=$.createHref(ee);try{h.pushState(Z,"",oe)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;o.location.assign(oe)}u&&p&&p({action:d,location:$.location,delta:1})}function C(j,X){d="REPLACE";let ee=Tu($.location,j,X);g=E();let Z=L0(ee,g),oe=$.createHref(ee);h.replaceState(Z,"",oe),u&&p&&p({action:d,location:$.location,delta:0})}function P(j){let X=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof j=="string"?j:Ha(j);return ee=ee.replace(/ $/,"%20"),Je(X,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,X)}let $={get action(){return d},get location(){return r(o,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(k0,T),p=j,()=>{o.removeEventListener(k0,T),p=null}},createHref(j){return e(o,j)},createURL:P,encodeLocation(j){let X=P(j);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:S,replace:C,go(j){return h.go(j)}};return $}var lu,U0=class{constructor(r){if(SS(this,lu,new Map),r)for(let[e,t]of r)this.set(e,t)}get(r){if(Im(this,lu).has(r))return Im(this,lu).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){Im(this,lu).set(r,e)}};lu=new WeakMap;var CS=new Set(["lazy","caseSensitive","path","id","index","children"]);function IS(r){return r.index===!0}function Dh(r,e,t=[],a={}){return r.map((o,u)=>{let h=[...t,String(u)],d=typeof o.id=="string"?o.id:h.join("-");if(Je(o.index!==!0||!o.children,"Cannot specify children on an index route"),Je(!a[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),IS(o)){let p={...o,...e(o),id:d};return a[d]=p,p}else{let p={...o,...e(o),id:d,children:void 0};return a[d]=p,o.children&&(p.children=Dh(o.children,e,h,a)),p}})}function Ia(r,e,t="/"){return gh(r,e,t,!1)}function gh(r,e,t,a){let o=typeof e=="string"?Ya(e):e,u=Tr(o.pathname||"/",t);if(u==null)return null;let h=kE(r);NS(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=HS(u);d=zS(h[p],g,a)}return d}function DS(r,e){let{route:t,pathname:a,params:o}=r;return{id:t.id,pathname:a,params:o,data:e[t.id],handle:t.handle}}function kE(r,e=[],t=[],a=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=ti([a,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),kE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:US(g,u.index),routesMeta:E})};return r.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let p of LE(u.path))o(u,h,p)}),e}function LE(r){let e=r.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=LE(a.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function NS(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:jS(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var OS=/^:[\w-]+$/,MS=3,PS=2,VS=1,kS=10,LS=-2,j0=r=>r==="*";function US(r,e){let t=r.split("/"),a=t.length;return t.some(j0)&&(a+=LS),e&&(a+=PS),t.filter(o=>!j0(o)).reduce((o,u)=>o+(OS.test(u)?MS:u===""?VS:kS),a)}function jS(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function zS(r,e,t=!1){let{routesMeta:a}=r,o={},u="/",h=[];for(let d=0;d<a.length;++d){let p=a[d],g=d===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!T&&g&&t&&!a[a.length-1].route.index&&(T=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:ti([u,T.pathname]),pathnameBase:GS(ti([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=ti([u,T.pathnameBase]))}return h}function Nh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,a]=BS(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:E,isOptional:T},S)=>{if(E==="*"){let P=d[S]||"";h=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const C=d[S];return T&&!C?g[E]=void 0:g[E]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function BS(r,e=!1,t=!0){mn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function HS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Tr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=r.charAt(t);return a&&a!=="/"?null:r.slice(t)||"/"}function FS(r,e="/"){let{pathname:t,search:a="",hash:o=""}=typeof r=="string"?Ya(r):r;return{pathname:t?t.startsWith("/")?t:qS(t,e):e,search:KS(a),hash:$S(o)}}function qS(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Dm(r,e,t,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UE(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function nf(r){let e=UE(r);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function rf(r,e,t,a=!1){let o;typeof r=="string"?o=Ya(r):(o={...r},Je(!o.pathname||!o.pathname.includes("?"),Dm("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Dm("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Dm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!a&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}d=T>=0?e[T]:"/"}let p=FS(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var ti=r=>r.join("/").replace(/\/\/+/g,"/"),GS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),KS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,$S=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Oh=class{constructor(r,e,t,a=!1){this.status=r,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function wu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var jE=["POST","PUT","PATCH","DELETE"],QS=new Set(jE),YS=["GET",...jE],XS=new Set(YS),WS=new Set([301,302,303,307,308]),ZS=new Set([307,308]),Nm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},JS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},au={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Rp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e2=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),zE="remix-router-transitions",BE=Symbol("ResetLoaderData");function t2(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.mapRouteProperties||e2,o={},u=Dh(r.routes,a,void 0,o),h,d=r.basename||"/",p=r.dataStrategy||s2,g={unstable_middleware:!1,...r.future},E=null,T=new Set,S=null,C=null,P=null,$=r.hydrationData!=null,j=Ia(u,r.history.location,d),X=!1,ee=null;if(j==null&&!r.patchRoutesOnNavigation){let L=_r(404,{pathname:r.history.location.pathname}),{matches:F,route:Y}=W0(u);j=F,ee={[Y.id]:L}}j&&!r.hydrationData&&Sn(j,u,r.history.location.pathname).active&&(j=null);let Z;if(j)if(j.some(L=>L.route.lazy))Z=!1;else if(!j.some(L=>L.route.loader))Z=!0;else{let L=r.hydrationData?r.hydrationData.loaderData:null,F=r.hydrationData?r.hydrationData.errors:null;if(F){let Y=j.findIndex(ne=>F[ne.route.id]!==void 0);Z=j.slice(0,Y+1).every(ne=>!Qm(ne.route,L,F))}else Z=j.every(Y=>!Qm(Y.route,L,F))}else{Z=!1,j=[];let L=Sn(null,u,r.history.location.pathname);L.active&&L.matches&&(X=!0,j=L.matches)}let oe,V={historyAction:r.history.action,location:r.history.location,matches:j,initialized:Z,navigation:Nm,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},ue="POP",M=!1,x,R=!1,I=new Map,U=null,H=!1,N=!1,pt=new Set,Ue=new Map,ce=0,Re=-1,Ee=new Map,ke=new Set,k=new Map,ae=new Map,ge=new Set,fe=new Map,de,De=null;function Le(){if(E=r.history.listen(({action:L,location:F,delta:Y})=>{if(de){de(),de=void 0;return}mn(fe.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=sn({currentLocation:V.location,nextLocation:F,historyAction:L});if(ne&&Y!=null){let me=new Promise(xe=>{de=xe});r.history.go(Y*-1),Nn(ne,{state:"blocked",location:F,proceed(){Nn(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),me.then(()=>r.history.go(Y))},reset(){let xe=new Map(V.blockers);xe.set(ne,au),Fe({blockers:xe})}});return}return Ct(L,F)}),t){v2(e,I);let L=()=>_2(e,I);e.addEventListener("pagehide",L),U=()=>e.removeEventListener("pagehide",L)}return V.initialized||Ct("POP",V.location,{initialHydration:!0}),oe}function _t(){E&&E(),U&&U(),T.clear(),x&&x.abort(),V.fetchers.forEach((L,F)=>Kn(F)),V.blockers.forEach((L,F)=>ta(F))}function We(L){return T.add(L),()=>T.delete(L)}function Fe(L,F={}){V={...V,...L};let Y=[],ne=[];V.fetchers.forEach((me,xe)=>{me.state==="idle"&&(ge.has(xe)?Y.push(xe):ne.push(xe))}),ge.forEach(me=>{!V.fetchers.has(me)&&!Ue.has(me)&&Y.push(me)}),[...T].forEach(me=>me(V,{deletedFetchers:Y,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),Y.forEach(me=>Kn(me)),ne.forEach(me=>V.fetchers.delete(me))}function Qe(L,F,{flushSync:Y}={}){var pe,ve;let ne=V.actionData!=null&&V.navigation.formMethod!=null&&Or(V.navigation.formMethod)&&V.navigation.state==="loading"&&((pe=L.state)==null?void 0:pe._isRedirect)!==!0,me;F.actionData?Object.keys(F.actionData).length>0?me=F.actionData:me=null:ne?me=V.actionData:me=null;let xe=F.loaderData?Y0(V.loaderData,F.loaderData,F.matches||[],F.errors):V.loaderData,Ae=V.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((_e,Ne)=>Ae.set(Ne,au)));let Te=M===!0||V.navigation.formMethod!=null&&Or(V.navigation.formMethod)&&((ve=L.state)==null?void 0:ve._isRedirect)!==!0;h&&(u=h,h=void 0),H||ue==="POP"||(ue==="PUSH"?r.history.push(L,L.state):ue==="REPLACE"&&r.history.replace(L,L.state));let we;if(ue==="POP"){let _e=I.get(V.location.pathname);_e&&_e.has(L.pathname)?we={currentLocation:V.location,nextLocation:L}:I.has(L.pathname)&&(we={currentLocation:L,nextLocation:V.location})}else if(R){let _e=I.get(V.location.pathname);_e?_e.add(L.pathname):(_e=new Set([L.pathname]),I.set(V.location.pathname,_e)),we={currentLocation:V.location,nextLocation:L}}Fe({...F,actionData:me,loaderData:xe,historyAction:ue,location:L,initialized:!0,navigation:Nm,revalidation:"idle",restoreScrollPosition:Rr(L,F.matches||V.matches),preventScrollReset:Te,blockers:Ae},{viewTransitionOpts:we,flushSync:Y===!0}),ue="POP",M=!1,R=!1,H=!1,N=!1,De==null||De.resolve(),De=null}async function Ut(L,F){if(typeof L=="number"){r.history.go(L);return}let Y=$m(V.location,V.matches,d,L,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:ne,submission:me,error:xe}=z0(!1,Y,F),Ae=V.location,Te=Tu(V.location,ne,F&&F.state);Te={...Te,...r.history.encodeLocation(Te)};let we=F&&F.replace!=null?F.replace:void 0,pe="PUSH";we===!0?pe="REPLACE":we===!1||me!=null&&Or(me.formMethod)&&me.formAction===V.location.pathname+V.location.search&&(pe="REPLACE");let ve=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,_e=(F&&F.flushSync)===!0,Ne=sn({currentLocation:Ae,nextLocation:Te,historyAction:pe});if(Ne){Nn(Ne,{state:"blocked",location:Te,proceed(){Nn(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),Ut(L,F)},reset(){let ot=new Map(V.blockers);ot.set(Ne,au),Fe({blockers:ot})}});return}await Ct(pe,Te,{submission:me,pendingError:xe,preventScrollReset:ve,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:_e})}function Un(){De||(De=E2()),rn(),Fe({revalidation:"loading"});let L=De.promise;return V.navigation.state==="submitting"?L:V.navigation.state==="idle"?(Ct(V.historyAction,V.location,{startUninterruptedRevalidation:!0}),L):(Ct(ue||V.historyAction,V.navigation.location,{overrideNavigation:V.navigation,enableViewTransition:R===!0}),L)}async function Ct(L,F,Y){x&&x.abort(),x=null,ue=L,H=(Y&&Y.startUninterruptedRevalidation)===!0,tr(V.location,V.matches),M=(Y&&Y.preventScrollReset)===!0,R=(Y&&Y.enableViewTransition)===!0;let ne=h||u,me=Y&&Y.overrideNavigation,xe=Y!=null&&Y.initialHydration&&V.matches&&V.matches.length>0&&!X?V.matches:Ia(ne,F,d),Ae=(Y&&Y.flushSync)===!0;if(xe&&V.initialized&&!N&&d2(V.location,F)&&!(Y&&Y.submission&&Or(Y.submission.formMethod))){Qe(F,{matches:xe},{flushSync:Ae});return}let Te=Sn(xe,ne,F.pathname);if(Te.active&&Te.matches&&(xe=Te.matches),!xe){let{error:Et,notFoundMatches:st,route:At}=pi(F.pathname);Qe(F,{matches:st,loaderData:{},errors:{[At.id]:Et}},{flushSync:Ae});return}x=new AbortController;let we=Po(r.history,F,x.signal,Y&&Y.submission),pe=new U0(r.unstable_getContext?await r.unstable_getContext():void 0),ve;if(Y&&Y.pendingError)ve=[Is(xe).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&Or(Y.submission.formMethod)){let Et=await qn(we,F,Y.submission,xe,pe,Te.active,{replace:Y.replace,flushSync:Ae});if(Et.shortCircuited)return;if(Et.pendingActionResult){let[st,At]=Et.pendingActionResult;if(Jn(At)&&wu(At.error)&&At.error.status===404){x=null,Qe(F,{matches:Et.matches,loaderData:{},errors:{[st]:At.error}});return}}xe=Et.matches||xe,ve=Et.pendingActionResult,me=Om(F,Y.submission),Ae=!1,Te.active=!1,we=Po(r.history,we.url,we.signal)}let{shortCircuited:_e,matches:Ne,loaderData:ot,errors:Rt}=await je(we,F,xe,pe,Te.active,me,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,Ae,ve);_e||(x=null,Qe(F,{matches:Ne||xe,...X0(ve),loaderData:ot,errors:Rt}))}async function qn(L,F,Y,ne,me,xe,Ae={}){rn();let Te=g2(F,Y);if(Fe({navigation:Te},{flushSync:Ae.flushSync===!0}),xe){let ve=await gn(ne,F.pathname,L.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){let _e=Is(ve.partialMatches).route.id;return{matches:ve.partialMatches,pendingActionResult:[_e,{type:"error",error:ve.error}]}}else if(ve.matches)ne=ve.matches;else{let{notFoundMatches:_e,error:Ne,route:ot}=pi(F.pathname);return{matches:_e,pendingActionResult:[ot.id,{type:"error",error:Ne}]}}}let we,pe=uu(ne,F);if(!pe.route.action&&!pe.route.lazy)we={type:"error",error:_r(405,{method:L.method,pathname:F.pathname,routeId:pe.route.id})};else{let ve=await mi("action",L,[pe],ne,me,null);if(we=ve[pe.route.id],!we){for(let _e of ne)if(ve[_e.route.id]){we=ve[_e.route.id];break}}if(L.signal.aborted)return{shortCircuited:!0}}if(Ds(we)){let ve;return Ae&&Ae.replace!=null?ve=Ae.replace:ve=K0(we.response.headers.get("Location"),new URL(L.url),d)===V.location.pathname+V.location.search,await jn(L,we,!0,{submission:Y,replace:ve}),{shortCircuited:!0}}if(Jn(we)){let ve=Is(ne,pe.route.id);return(Ae&&Ae.replace)!==!0&&(ue="PUSH"),{matches:ne,pendingActionResult:[ve.route.id,we]}}return{matches:ne,pendingActionResult:[pe.route.id,we]}}async function je(L,F,Y,ne,me,xe,Ae,Te,we,pe,ve,_e){let Ne=xe||Om(F,Ae),ot=Ae||Te||J0(Ne),Rt=!H&&!pe;if(me){if(Rt){let ft=qt(_e);Fe({navigation:Ne,...ft!==void 0?{actionData:ft}:{}},{flushSync:ve})}let Ge=await gn(Y,F.pathname,L.signal);if(Ge.type==="aborted")return{shortCircuited:!0};if(Ge.type==="error"){let ft=Is(Ge.partialMatches).route.id;return{matches:Ge.partialMatches,loaderData:{},errors:{[ft]:Ge.error}}}else if(Ge.matches)Y=Ge.matches;else{let{error:ft,notFoundMatches:on,route:gi}=pi(F.pathname);return{matches:on,loaderData:{},errors:{[gi.id]:ft}}}}let Et=h||u,[st,At]=H0(r.history,V,Y,ot,F,pe===!0,N,pt,ge,k,ke,Et,d,_e);if(Re=++ce,st.length===0&&At.length===0){let Ge=Ur();return Qe(F,{matches:Y,loaderData:{},errors:_e&&Jn(_e[1])?{[_e[0]]:_e[1].error}:null,...X0(_e),...Ge?{fetchers:new Map(V.fetchers)}:{}},{flushSync:ve}),{shortCircuited:!0}}if(Rt){let Ge={};if(!me){Ge.navigation=Ne;let ft=qt(_e);ft!==void 0&&(Ge.actionData=ft)}At.length>0&&(Ge.fetchers=Lr(At)),Fe(Ge,{flushSync:ve})}At.forEach(Ge=>{zn(Ge.key),Ge.controller&&Ue.set(Ge.key,Ge.controller)});let On=()=>At.forEach(Ge=>zn(Ge.key));x&&x.signal.addEventListener("abort",On);let{loaderResults:$n,fetcherResults:zt}=await ea(Y,st,At,L,ne);if(L.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",On),At.forEach(Ge=>Ue.delete(Ge.key));let Gt=oh($n);if(Gt)return await jn(L,Gt.result,!0,{replace:we}),{shortCircuited:!0};if(Gt=oh(zt),Gt)return ke.add(Gt.key),await jn(L,Gt.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:nr,errors:Bn}=Q0(V,Y,$n,_e,At,zt);pe&&V.errors&&(Bn={...V.errors,...Bn});let ht=Ur(),zr=Ar(Re),xr=ht||zr||At.length>0;return{matches:Y,loaderData:nr,errors:Bn,...xr?{fetchers:new Map(V.fetchers)}:{}}}function qt(L){if(L&&!Jn(L[1]))return{[L[0]]:L[1].data};if(V.actionData)return Object.keys(V.actionData).length===0?null:V.actionData}function Lr(L){return L.forEach(F=>{let Y=V.fetchers.get(F.key),ne=su(void 0,Y?Y.data:void 0);V.fetchers.set(F.key,ne)}),new Map(V.fetchers)}async function wr(L,F,Y,ne){zn(L);let me=(ne&&ne.flushSync)===!0,xe=h||u,Ae=$m(V.location,V.matches,d,Y,F,ne==null?void 0:ne.relative),Te=Ia(xe,Ae,d),we=Sn(Te,xe,Ae);if(we.active&&we.matches&&(Te=we.matches),!Te){gt(L,F,_r(404,{pathname:Ae}),{flushSync:me});return}let{path:pe,submission:ve,error:_e}=z0(!0,Ae,ne);if(_e){gt(L,F,_e,{flushSync:me});return}let Ne=uu(Te,pe),ot=new U0(r.unstable_getContext?await r.unstable_getContext():void 0),Rt=(ne&&ne.preventScrollReset)===!0;if(ve&&Or(ve.formMethod)){await Sr(L,F,pe,Ne,Te,ot,we.active,me,Rt,ve);return}k.set(L,{routeId:F,path:pe}),await di(L,F,pe,Ne,Te,ot,we.active,me,Rt,ve)}async function Sr(L,F,Y,ne,me,xe,Ae,Te,we,pe){rn(),k.delete(L);function ve(Tt){if(!Tt.route.action&&!Tt.route.lazy){let rr=_r(405,{method:pe.formMethod,pathname:Y,routeId:F});return gt(L,F,rr,{flushSync:Te}),!0}return!1}if(!Ae&&ve(ne))return;let _e=V.fetchers.get(L);Gn(L,y2(pe,_e),{flushSync:Te});let Ne=new AbortController,ot=Po(r.history,Y,Ne.signal,pe);if(Ae){let Tt=await gn(me,Y,ot.signal,L);if(Tt.type==="aborted")return;if(Tt.type==="error"){gt(L,F,Tt.error,{flushSync:Te});return}else if(Tt.matches){if(me=Tt.matches,ne=uu(me,Y),ve(ne))return}else{gt(L,F,_r(404,{pathname:Y}),{flushSync:Te});return}}Ue.set(L,Ne);let Rt=ce,st=(await mi("action",ot,[ne],me,xe,L))[ne.route.id];if(ot.signal.aborted){Ue.get(L)===Ne&&Ue.delete(L);return}if(ge.has(L)){if(Ds(st)||Jn(st)){Gn(L,Ca(void 0));return}}else{if(Ds(st))if(Ue.delete(L),Re>Rt){Gn(L,Ca(void 0));return}else return ke.add(L),Gn(L,su(pe)),jn(ot,st,!1,{fetcherSubmission:pe,preventScrollReset:we});if(Jn(st)){gt(L,F,st.error);return}}let At=V.navigation.location||V.location,On=Po(r.history,At,Ne.signal),$n=h||u,zt=V.navigation.state!=="idle"?Ia($n,V.navigation.location,d):V.matches;Je(zt,"Didn't find any matches after fetcher action");let Gt=++ce;Ee.set(L,Gt);let nr=su(pe,st.data);V.fetchers.set(L,nr);let[Bn,ht]=H0(r.history,V,zt,pe,At,!1,N,pt,ge,k,ke,$n,d,[ne.route.id,st]);ht.filter(Tt=>Tt.key!==L).forEach(Tt=>{let rr=Tt.key,Ja=V.fetchers.get(rr),Br=su(void 0,Ja?Ja.data:void 0);V.fetchers.set(rr,Br),zn(rr),Tt.controller&&Ue.set(rr,Tt.controller)}),Fe({fetchers:new Map(V.fetchers)});let zr=()=>ht.forEach(Tt=>zn(Tt.key));Ne.signal.addEventListener("abort",zr);let{loaderResults:xr,fetcherResults:Ge}=await ea(zt,Bn,ht,On,xe);if(Ne.signal.aborted)return;Ne.signal.removeEventListener("abort",zr),Ee.delete(L),Ue.delete(L),ht.forEach(Tt=>Ue.delete(Tt.key));let ft=oh(xr);if(ft)return jn(On,ft.result,!1,{preventScrollReset:we});if(ft=oh(Ge),ft)return ke.add(ft.key),jn(On,ft.result,!1,{preventScrollReset:we});let{loaderData:on,errors:gi}=Q0(V,zt,xr,void 0,ht,Ge);if(V.fetchers.has(L)){let Tt=Ca(st.data);V.fetchers.set(L,Tt)}Ar(Gt),V.navigation.state==="loading"&&Gt>Re?(Je(ue,"Expected pending action"),x&&x.abort(),Qe(V.navigation.location,{matches:zt,loaderData:on,errors:gi,fetchers:new Map(V.fetchers)})):(Fe({errors:gi,loaderData:Y0(V.loaderData,on,zt,gi),fetchers:new Map(V.fetchers)}),N=!1)}async function di(L,F,Y,ne,me,xe,Ae,Te,we,pe){let ve=V.fetchers.get(L);Gn(L,su(pe,ve?ve.data:void 0),{flushSync:Te});let _e=new AbortController,Ne=Po(r.history,Y,_e.signal);if(Ae){let st=await gn(me,Y,Ne.signal,L);if(st.type==="aborted")return;if(st.type==="error"){gt(L,F,st.error,{flushSync:Te});return}else if(st.matches)me=st.matches,ne=uu(me,Y);else{gt(L,F,_r(404,{pathname:Y}),{flushSync:Te});return}}Ue.set(L,_e);let ot=ce,Et=(await mi("loader",Ne,[ne],me,xe,L))[ne.route.id];if(Ue.get(L)===_e&&Ue.delete(L),!Ne.signal.aborted){if(ge.has(L)){Gn(L,Ca(void 0));return}if(Ds(Et))if(Re>ot){Gn(L,Ca(void 0));return}else{ke.add(L),await jn(Ne,Et,!1,{preventScrollReset:we});return}if(Jn(Et)){gt(L,F,Et.error);return}Gn(L,Ca(Et.data))}}async function jn(L,F,Y,{submission:ne,fetcherSubmission:me,preventScrollReset:xe,replace:Ae}={}){F.response.headers.has("X-Remix-Revalidate")&&(N=!0);let Te=F.response.headers.get("Location");Je(Te,"Expected a Location header on the redirect Response"),Te=K0(Te,new URL(L.url),d);let we=Tu(V.location,Te,{_isRedirect:!0});if(t){let Rt=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Rt=!0;else if(Rp.test(Te)){const Et=r.history.createURL(Te);Rt=Et.origin!==e.location.origin||Tr(Et.pathname,d)==null}if(Rt){Ae?e.location.replace(Te):e.location.assign(Te);return}}x=null;let pe=Ae===!0||F.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ve,formAction:_e,formEncType:Ne}=V.navigation;!ne&&!me&&ve&&_e&&Ne&&(ne=J0(V.navigation));let ot=ne||me;if(ZS.has(F.response.status)&&ot&&Or(ot.formMethod))await Ct(pe,we,{submission:{...ot,formAction:Te},preventScrollReset:xe||M,enableViewTransition:Y?R:void 0});else{let Rt=Om(we,ne);await Ct(pe,we,{overrideNavigation:Rt,fetcherSubmission:me,preventScrollReset:xe||M,enableViewTransition:Y?R:void 0})}}async function mi(L,F,Y,ne,me,xe){let Ae,Te={};try{Ae=await l2(p,L,F,Y,ne,xe,o,a,me,g.unstable_middleware)}catch(we){return Y.forEach(pe=>{Te[pe.route.id]={type:"error",error:we}}),Te}for(let[we,pe]of Object.entries(Ae))if(m2(pe)){let ve=pe.result;Te[we]={type:"redirect",response:h2(ve,F,we,ne,d)}}else Te[we]=await c2(pe);return Te}async function ea(L,F,Y,ne,me){let xe=mi("loader",ne,F,L,me,null),Ae=Promise.all(Y.map(async pe=>{if(pe.matches&&pe.match&&pe.controller){let _e=(await mi("loader",Po(r.history,pe.path,pe.controller.signal),[pe.match],pe.matches,me,pe.key))[pe.match.route.id];return{[pe.key]:_e}}else return Promise.resolve({[pe.key]:{type:"error",error:_r(404,{pathname:pe.path})}})})),Te=await xe,we=(await Ae).reduce((pe,ve)=>Object.assign(pe,ve),{});return{loaderResults:Te,fetcherResults:we}}function rn(){N=!0,k.forEach((L,F)=>{Ue.has(F)&&pt.add(F),zn(F)})}function Gn(L,F,Y={}){V.fetchers.set(L,F),Fe({fetchers:new Map(V.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function gt(L,F,Y,ne={}){let me=Is(V.matches,F);Kn(L),Fe({errors:{[me.route.id]:Y},fetchers:new Map(V.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function jt(L){return ae.set(L,(ae.get(L)||0)+1),ge.has(L)&&ge.delete(L),V.fetchers.get(L)||JS}function Kn(L){let F=V.fetchers.get(L);Ue.has(L)&&!(F&&F.state==="loading"&&Ee.has(L))&&zn(L),k.delete(L),Ee.delete(L),ke.delete(L),ge.delete(L),pt.delete(L),V.fetchers.delete(L)}function $s(L){let F=(ae.get(L)||0)-1;F<=0?(ae.delete(L),ge.add(L)):ae.set(L,F),Fe({fetchers:new Map(V.fetchers)})}function zn(L){let F=Ue.get(L);F&&(F.abort(),Ue.delete(L))}function Qs(L){for(let F of L){let Y=jt(F),ne=Ca(Y.data);V.fetchers.set(F,ne)}}function Ur(){let L=[],F=!1;for(let Y of ke){let ne=V.fetchers.get(Y);Je(ne,`Expected fetcher: ${Y}`),ne.state==="loading"&&(ke.delete(Y),L.push(Y),F=!0)}return Qs(L),F}function Ar(L){let F=[];for(let[Y,ne]of Ee)if(ne<L){let me=V.fetchers.get(Y);Je(me,`Expected fetcher: ${Y}`),me.state==="loading"&&(zn(Y),Ee.delete(Y),F.push(Y))}return Qs(F),F.length>0}function an(L,F){let Y=V.blockers.get(L)||au;return fe.get(L)!==F&&fe.set(L,F),Y}function ta(L){V.blockers.delete(L),fe.delete(L)}function Nn(L,F){let Y=V.blockers.get(L)||au;Je(Y.state==="unblocked"&&F.state==="blocked"||Y.state==="blocked"&&F.state==="blocked"||Y.state==="blocked"&&F.state==="proceeding"||Y.state==="blocked"&&F.state==="unblocked"||Y.state==="proceeding"&&F.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${F.state}`);let ne=new Map(V.blockers);ne.set(L,F),Fe({blockers:ne})}function sn({currentLocation:L,nextLocation:F,historyAction:Y}){if(fe.size===0)return;fe.size>1&&mn(!1,"A router only supports one blocker at a time");let ne=Array.from(fe.entries()),[me,xe]=ne[ne.length-1],Ae=V.blockers.get(me);if(!(Ae&&Ae.state==="proceeding")&&xe({currentLocation:L,nextLocation:F,historyAction:Y}))return me}function pi(L){let F=_r(404,{pathname:L}),Y=h||u,{matches:ne,route:me}=W0(Y);return{notFoundMatches:ne,route:me,error:F}}function Ys(L,F,Y){if(S=L,P=F,C=Y||null,!$&&V.navigation===Nm){$=!0;let ne=Rr(V.location,V.matches);ne!=null&&Fe({restoreScrollPosition:ne})}return()=>{S=null,P=null,C=null}}function Za(L,F){return C&&C(L,F.map(ne=>DS(ne,V.loaderData)))||L.key}function tr(L,F){if(S&&P){let Y=Za(L,F);S[Y]=P()}}function Rr(L,F){if(S){let Y=Za(L,F),ne=S[Y];if(typeof ne=="number")return ne}return null}function Sn(L,F,Y){if(r.patchRoutesOnNavigation)if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:gh(F,Y,d,!0)}}else return{active:!0,matches:gh(F,Y,d,!0)||[]};return{active:!1,matches:null}}async function gn(L,F,Y,ne){if(!r.patchRoutesOnNavigation)return{type:"success",matches:L};let me=L;for(;;){let xe=h==null,Ae=h||u,Te=o;try{await r.patchRoutesOnNavigation({signal:Y,path:F,matches:me,fetcherKey:ne,patch:(ve,_e)=>{Y.aborted||q0(ve,_e,Ae,Te,a)}})}catch(ve){return{type:"error",error:ve,partialMatches:me}}finally{xe&&!Y.aborted&&(u=[...u])}if(Y.aborted)return{type:"aborted"};let we=Ia(Ae,F,d);if(we)return{type:"success",matches:we};let pe=gh(Ae,F,d,!0);if(!pe||me.length===pe.length&&me.every((ve,_e)=>ve.route.id===pe[_e].route.id))return{type:"success",matches:null};me=pe}}function jr(L){o={},h=Dh(L,a,void 0,o)}function na(L,F){let Y=h==null;q0(L,F,h||u,o,a),Y&&(u=[...u],Fe({}))}return oe={get basename(){return d},get future(){return g},get state(){return V},get routes(){return u},get window(){return e},initialize:Le,subscribe:We,enableScrollRestoration:Ys,navigate:Ut,fetch:wr,revalidate:Un,createHref:L=>r.history.createHref(L),encodeLocation:L=>r.history.encodeLocation(L),getFetcher:jt,deleteFetcher:$s,dispose:_t,getBlocker:an,deleteBlocker:ta,patchRoutes:na,_internalFetchControllers:Ue,_internalSetRoutes:jr},oe}function n2(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function $m(r,e,t,a,o,u){let h,d;if(o){h=[];for(let g of e)if(h.push(g),g.route.id===o){d=g;break}}else h=e,d=e[e.length-1];let p=rf(a||".",nf(h),Tr(r.pathname,t)||r.pathname,u==="path");if(a==null&&(p.search=r.search,p.hash=r.hash),(a==null||a===""||a===".")&&d){let g=xp(p.search);if(d.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let E=new URLSearchParams(p.search),T=E.getAll("index");E.delete("index"),T.filter(C=>C).forEach(C=>E.append("index",C));let S=E.toString();p.search=S?`?${S}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:ti([t,p.pathname])),Ha(p)}function z0(r,e,t){if(!t||!n2(t))return{path:e};if(t.formMethod&&!p2(t.formMethod))return{path:e,error:_r(405,{method:t.formMethod})};let a=()=>({path:e,error:_r(400,{type:"invalid-body"})}),u=(t.formMethod||"get").toUpperCase(),h=qE(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Or(u))return a();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((S,[C,P])=>`${S}${C}=${P}
`,""):String(t.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!Or(u))return a();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return a()}}}Je(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=Ym(t.formData),p=t.formData;else if(t.body instanceof FormData)d=Ym(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=$0(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=$0(d)}catch{return a()}let g={formMethod:u,formAction:h,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Or(g.formMethod))return{path:e,submission:g};let E=Ya(e);return r&&E.search&&xp(E.search)&&d.append("index",""),E.search=`?${d}`,{path:Ha(E),submission:g}}function B0(r,e,t=!1){let a=r.findIndex(o=>o.route.id===e);return a>=0?r.slice(0,t?a+1:a):r}function H0(r,e,t,a,o,u,h,d,p,g,E,T,S,C){let P=C?Jn(C[1])?C[1].error:C[1].data:void 0,$=r.createURL(e.location),j=r.createURL(o),X=t;u&&e.errors?X=B0(t,Object.keys(e.errors)[0],!0):C&&Jn(C[1])&&(X=B0(t,C[0]));let ee=C?C[1].statusCode:void 0,Z=ee&&ee>=400,oe=X.filter((ue,M)=>{let{route:x}=ue;if(x.lazy)return!0;if(x.loader==null)return!1;if(u)return Qm(x,e.loaderData,e.errors);if(r2(e.loaderData,e.matches[M],ue))return!0;let R=e.matches[M],I=ue;return F0(ue,{currentUrl:$,currentParams:R.params,nextUrl:j,nextParams:I.params,...a,actionResult:P,actionStatus:ee,defaultShouldRevalidate:Z?!1:h||$.pathname+$.search===j.pathname+j.search||$.search!==j.search||i2(R,I)})}),V=[];return g.forEach((ue,M)=>{if(u||!t.some(H=>H.route.id===ue.routeId)||p.has(M))return;let x=Ia(T,ue.path,S);if(!x){V.push({key:M,routeId:ue.routeId,path:ue.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(M),I=uu(x,ue.path),U=!1;E.has(M)?U=!1:d.has(M)?(d.delete(M),U=!0):R&&R.state!=="idle"&&R.data===void 0?U=h:U=F0(I,{currentUrl:$,currentParams:e.matches[e.matches.length-1].params,nextUrl:j,nextParams:t[t.length-1].params,...a,actionResult:P,actionStatus:ee,defaultShouldRevalidate:Z?!1:h}),U&&V.push({key:M,routeId:ue.routeId,path:ue.path,matches:x,match:I,controller:new AbortController})}),[oe,V]}function Qm(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let a=e!=null&&e[r.id]!==void 0,o=t!=null&&t[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function r2(r,e,t){let a=!e||t.route.id!==e.route.id,o=!r.hasOwnProperty(t.route.id);return a||o}function i2(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function F0(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function q0(r,e,t,a,o){let u;if(r){let p=a[r];Je(p,`No route found to patch children into: routeId = ${r}`),p.children||(p.children=[]),u=p.children}else u=t;let h=e.filter(p=>!u.some(g=>HE(p,g))),d=Dh(h,o,[r||"_","patch",String((u==null?void 0:u.length)||"0")],a);u.push(...d)}function HE(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,a)=>{var o;return(o=e.children)==null?void 0:o.some(u=>HE(t,u))}):!1}async function a2(r,e,t){if(!r.lazy)return;let a=await r.lazy();if(!r.lazy)return;let o=t[r.id];Je(o,"No route found in manifest");let u={};for(let h in a){let p=o[h]!==void 0&&h!=="hasErrorBoundary";mn(!p,`Route "${o.id}" has a static property "${h}" defined but its lazy function is also returning a value for this property. The lazy route property "${h}" will be ignored.`),!p&&!CS.has(h)&&(u[h]=a[h])}Object.assign(o,u),Object.assign(o,{...e(o),lazy:void 0})}async function G0(r){let e=r.matches.filter(o=>o.shouldLoad),t={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{t[e[u].route.id]=o}),t}async function s2(r){return r.matches.some(e=>e.route.unstable_middleware)?o2(r,!1,()=>G0(r),(e,t)=>({[t]:{type:"error",result:e}})):G0(r)}async function o2(r,e,t,a){let{matches:o,request:u,params:h,context:d}=r,p={handlerResult:void 0};try{let g=o.flatMap(T=>T.route.unstable_middleware?T.route.unstable_middleware.map(S=>[T.route.id,S]):[]),E=await FE({request:u,params:h,context:d},g,e,p,t);return e?E:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let E=await a(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,E):E}}async function FE(r,e,t,a,o,u=0){let{request:h}=r;if(h.signal.aborted)throw h.signal.reason?h.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${h.method} ${h.url}`);let d=e[u];if(!d)return a.handlerResult=await o(),a.handlerResult;let[p,g]=d,E=!1,T,S=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await FE(r,e,t,a,o,u+1)};try{let C=await g({request:r.request,params:r.params,context:r.context},S);return E?C===void 0?T:C:S()}catch(C){throw a.middlewareError?a.middlewareError.error!==C&&(a.middlewareError={routeId:p,error:C}):a.middlewareError={routeId:p,error:C},C}}async function l2(r,e,t,a,o,u,h,d,p,g){let E=o.map(C=>C.route.lazy?a2(C.route,d,h):void 0);g&&await Promise.all(E);let T=o.map((C,P)=>{let $=E[P],j=a.some(ee=>ee.route.id===C.route.id);return{...C,shouldLoad:j,resolve:async ee=>(ee&&t.method==="GET"&&(C.route.lazy||C.route.loader)&&(j=!0),j?u2(e,t,C,$,ee,p):Promise.resolve({type:"data",result:void 0}))}}),S=await r({matches:T,request:t,params:o[0].params,fetcherKey:u,context:p});try{await Promise.all(E)}catch{}return S}async function u2(r,e,t,a,o,u){let h,d,p=g=>{let E,T=new Promise((P,$)=>E=$);d=()=>E(),e.signal.addEventListener("abort",d);let S=P=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${r}" [routeId: ${t.route.id}]`)):g({request:e,params:t.params,context:u},...P!==void 0?[P]:[]),C=(async()=>{try{return{type:"data",result:await(o?o($=>S($)):S())}}catch(P){return{type:"error",result:P}}})();return Promise.race([C,T])};try{let g=t.route[r];if(a)if(g){let E,[T]=await Promise.all([p(g).catch(S=>{E=S}),a]);if(E!==void 0)throw E;h=T}else if(await a,g=t.route[r],g)h=await p(g);else if(r==="action"){let E=new URL(e.url),T=E.pathname+E.search;throw _r(405,{method:e.method,pathname:T,routeId:t.route.id})}else return{type:"data",result:void 0};else if(g)h=await p(g);else{let E=new URL(e.url),T=E.pathname+E.search;throw _r(404,{pathname:T})}}catch(g){return{type:"error",result:g}}finally{d&&e.signal.removeEventListener("abort",d)}return h}async function c2(r){var a,o,u,h,d,p;let{result:e,type:t}=r;if(GE(e)){let g;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(E){return{type:"error",error:E}}return t==="error"?{type:"error",error:new Oh(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return t==="error"?Z0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Oh(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:wu(e)?e.status:void 0,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:wu(e)?e.status:void 0}:Z0(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function h2(r,e,t,a,o){let u=r.headers.get("Location");if(Je(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Rp.test(u)){let h=a.slice(0,a.findIndex(d=>d.route.id===t)+1);u=$m(new URL(e.url),h,o,u),r.headers.set("Location",u)}return r}function K0(r,e,t){if(Rp.test(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=Tr(o.pathname,t)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function Po(r,e,t,a){let o=r.createURL(qE(e)).toString(),u={signal:t};if(a&&Or(a.formMethod)){let{formMethod:h,formEncType:d}=a;u.method=h.toUpperCase(),d==="application/json"?(u.headers=new Headers({"Content-Type":d}),u.body=JSON.stringify(a.json)):d==="text/plain"?u.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?u.body=Ym(a.formData):u.body=a.formData}return new Request(o,u)}function Ym(r){let e=new URLSearchParams;for(let[t,a]of r.entries())e.append(t,typeof a=="string"?a:a.name);return e}function $0(r){let e=new FormData;for(let[t,a]of r.entries())e.append(t,a);return e}function f2(r,e,t,a=!1,o=!1){let u={},h=null,d,p=!1,g={},E=t&&Jn(t[1])?t[1].error:void 0;return r.forEach(T=>{if(!(T.route.id in e))return;let S=T.route.id,C=e[S];if(Je(!Ds(C),"Cannot handle redirect results in processLoaderData"),Jn(C)){let P=C.error;if(E!==void 0&&(P=E,E=void 0),h=h||{},o)h[S]=P;else{let $=Is(r,S);h[$.route.id]==null&&(h[$.route.id]=P)}a||(u[S]=BE),p||(p=!0,d=wu(C.error)?C.error.status:500),C.headers&&(g[S]=C.headers)}else u[S]=C.data,C.statusCode&&C.statusCode!==200&&!p&&(d=C.statusCode),C.headers&&(g[S]=C.headers)}),E!==void 0&&t&&(h={[t[0]]:E},u[t[0]]=void 0),{loaderData:u,errors:h,statusCode:d||200,loaderHeaders:g}}function Q0(r,e,t,a,o,u){let{loaderData:h,errors:d}=f2(e,t,a);return o.forEach(p=>{let{key:g,match:E,controller:T}=p,S=u[g];if(Je(S,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Jn(S)){let C=Is(r.matches,E==null?void 0:E.route.id);d&&d[C.route.id]||(d={...d,[C.route.id]:S.error}),r.fetchers.delete(g)}else if(Ds(S))Je(!1,"Unhandled fetcher revalidation redirect");else{let C=Ca(S.data);r.fetchers.set(g,C)}}),{loaderData:h,errors:d}}function Y0(r,e,t,a){let o=Object.entries(e).filter(([,u])=>u!==BE).reduce((u,[h,d])=>(u[h]=d,u),{});for(let u of t){let h=u.route.id;if(!e.hasOwnProperty(h)&&r.hasOwnProperty(h)&&u.route.loader&&(o[h]=r[h]),a&&a.hasOwnProperty(h))break}return o}function X0(r){return r?Jn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Is(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function W0(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function _r(r,{pathname:e,routeId:t,method:a,type:o,message:u}={}){let h="Unknown Server Error",d="Unknown @remix-run/router error";return r===400?(h="Bad Request",a&&e&&t?d=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):r===403?(h="Forbidden",d=`Route "${t}" does not match URL "${e}"`):r===404?(h="Not Found",d=`No route matches URL "${e}"`):r===405&&(h="Method Not Allowed",a&&e&&t?d=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new Oh(r||500,h,new Error(d),!0)}function oh(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[a,o]=e[t];if(Ds(o))return{key:a,result:o}}}function qE(r){let e=typeof r=="string"?Ya(r):r;return Ha({...e,hash:""})}function d2(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function m2(r){return GE(r.result)&&WS.has(r.result.status)}function Jn(r){return r.type==="error"}function Ds(r){return(r&&r.type)==="redirect"}function Z0(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function GE(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function p2(r){return XS.has(r.toUpperCase())}function Or(r){return QS.has(r.toUpperCase())}function xp(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function uu(r,e){let t=typeof e=="string"?Ya(e).search:e.search;if(r[r.length-1].route.index&&xp(t||""))return r[r.length-1];let a=UE(r);return a[a.length-1]}function J0(r){let{formMethod:e,formAction:t,formEncType:a,text:o,formData:u,json:h}=r;if(!(!e||!t||!a)){if(o!=null)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:t,formEncType:a,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:h,text:void 0}}}function Om(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function g2(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function su(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function y2(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Ca(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function v2(r,e){try{let t=r.sessionStorage.getItem(zE);if(t){let a=JSON.parse(t);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function _2(r,e){if(e.size>0){let t={};for(let[a,o]of e)t[a]=[...o];try{r.sessionStorage.setItem(zE,JSON.stringify(t))}catch(a){mn(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function E2(){let r,e,t=new Promise((a,o)=>{r=async u=>{a(u);try{await t}catch{}},e=async u=>{o(u);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var Bs=O.createContext(null);Bs.displayName="DataRouter";var Ou=O.createContext(null);Ou.displayName="DataRouterState";var Cp=O.createContext({isTransitioning:!1});Cp.displayName="ViewTransition";var KE=O.createContext(new Map);KE.displayName="Fetchers";var b2=O.createContext(null);b2.displayName="Await";var Vr=O.createContext(null);Vr.displayName="Navigation";var af=O.createContext(null);af.displayName="Location";var kr=O.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var Ip=O.createContext(null);Ip.displayName="RouteError";function T2(r,{relative:e}={}){Je(el(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=O.useContext(Vr),{hash:o,pathname:u,search:h}=Mu(r,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:ti([t,u])),a.createHref({pathname:d,search:h,hash:o})}function el(){return O.useContext(af)!=null}function Wi(){return Je(el(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(af).location}var $E="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QE(r){O.useContext(Vr).static||O.useLayoutEffect(r)}function ui(){let{isDataRoute:r}=O.useContext(kr);return r?L2():w2()}function w2(){Je(el(),"useNavigate() may be used only in the context of a <Router> component.");let r=O.useContext(Bs),{basename:e,navigator:t}=O.useContext(Vr),{matches:a}=O.useContext(kr),{pathname:o}=Wi(),u=JSON.stringify(nf(a)),h=O.useRef(!1);return QE(()=>{h.current=!0}),O.useCallback((p,g={})=>{if(mn(h.current,$E),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=rf(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ti([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,r])}var S2=O.createContext(null);function A2(r){let e=O.useContext(kr).outlet;return e&&O.createElement(S2.Provider,{value:r},e)}function Mu(r,{relative:e}={}){let{matches:t}=O.useContext(kr),{pathname:a}=Wi(),o=JSON.stringify(nf(t));return O.useMemo(()=>rf(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function R2(r,e,t,a){Je(el(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=O.useContext(Vr),{matches:h}=O.useContext(kr),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",T=d&&d.route;{let ee=T&&T.path||"";YE(g,!T||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let S=Wi(),C;C=S;let P=C.pathname||"/",$=P;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");$="/"+P.replace(/^\//,"").split("/").slice(ee.length).join("/")}let j=!u&&t&&t.matches&&t.matches.length>0?t.matches:Ia(r,{pathname:$});return mn(T||j!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),mn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),N2(j&&j.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:ti([E,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:ti([E,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),h,t,a)}function x2(){let r=k2(),e=wu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:o},t):null,h)}var C2=O.createElement(x2,null),I2=class extends O.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?O.createElement(kr.Provider,{value:this.props.routeContext},O.createElement(Ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function D2({routeContext:r,match:e,children:t}){let a=O.useContext(Bs);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(kr.Provider,{value:r},t)}function N2(r,e=[],t=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:E,errors:T}=t,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||S){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let T,S=!1,C=null,P=null;t&&(T=u&&g.route.id?u[g.route.id]:void 0,C=g.route.errorElement||C2,h&&(d<0&&E===0?(YE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,P=null):d===E&&(S=!0,P=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),j=()=>{let X;return T?X=C:S?X=P:g.route.Component?X=O.createElement(g.route.Component,null):g.route.element?X=g.route.element:X=p,O.createElement(D2,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:t!=null},children:X})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?O.createElement(I2,{location:t.location,revalidation:t.revalidation,component:C,error:T,children:j(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):j()},null)}function Dp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O2(r){let e=O.useContext(Bs);return Je(e,Dp(r)),e}function M2(r){let e=O.useContext(Ou);return Je(e,Dp(r)),e}function P2(r){let e=O.useContext(kr);return Je(e,Dp(r)),e}function Np(r){let e=P2(r),t=e.matches[e.matches.length-1];return Je(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function V2(){return Np("useRouteId")}function k2(){var a;let r=O.useContext(Ip),e=M2("useRouteError"),t=Np("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[t]}function L2(){let{router:r}=O2("useNavigate"),e=Np("useNavigate"),t=O.useRef(!1);return QE(()=>{t.current=!0}),O.useCallback(async(o,u={})=>{mn(t.current,$E),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var e_={};function YE(r,e,t){!e&&!e_[r]&&(e_[r]=!0,mn(!1,t))}var t_={};function n_(r,e){!r&&!t_[e]&&(t_[e]=!0,console.warn(e))}function U2(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&mn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:O.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&mn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:O.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&mn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:O.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var j2=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}};function z2({router:r,flushSync:e}){let[t,a]=O.useState(r.state),[o,u]=O.useState(),[h,d]=O.useState({isTransitioning:!1}),[p,g]=O.useState(),[E,T]=O.useState(),[S,C]=O.useState(),P=O.useRef(new Map),$=O.useCallback((Z,{deletedFetchers:oe,flushSync:V,viewTransitionOpts:ue})=>{Z.fetchers.forEach((x,R)=>{x.data!==void 0&&P.current.set(R,x.data)}),oe.forEach(x=>P.current.delete(x)),n_(V===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(n_(ue==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ue||!M){e&&V?e(()=>a(Z)):O.startTransition(()=>a(Z));return}if(e&&V){e(()=>{E&&(p&&p.resolve(),E.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:ue.currentLocation,nextLocation:ue.nextLocation})});let x=r.window.document.startViewTransition(()=>{e(()=>a(Z))});x.finished.finally(()=>{e(()=>{g(void 0),T(void 0),u(void 0),d({isTransitioning:!1})})}),e(()=>T(x));return}E?(p&&p.resolve(),E.skipTransition(),C({state:Z,currentLocation:ue.currentLocation,nextLocation:ue.nextLocation})):(u(Z),d({isTransitioning:!0,flushSync:!1,currentLocation:ue.currentLocation,nextLocation:ue.nextLocation}))},[r.window,e,E,p]);O.useLayoutEffect(()=>r.subscribe($),[r,$]),O.useEffect(()=>{h.isTransitioning&&!h.flushSync&&g(new j2)},[h]),O.useEffect(()=>{if(p&&o&&r.window){let Z=o,oe=p.promise,V=r.window.document.startViewTransition(async()=>{O.startTransition(()=>a(Z)),await oe});V.finished.finally(()=>{g(void 0),T(void 0),u(void 0),d({isTransitioning:!1})}),T(V)}},[o,p,r.window]),O.useEffect(()=>{p&&o&&t.location.key===o.location.key&&p.resolve()},[p,E,t.location,o]),O.useEffect(()=>{!h.isTransitioning&&S&&(u(S.state),d({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),C(void 0))},[h.isTransitioning,S]);let j=O.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:Z=>r.navigate(Z),push:(Z,oe,V)=>r.navigate(Z,{state:oe,preventScrollReset:V==null?void 0:V.preventScrollReset}),replace:(Z,oe,V)=>r.navigate(Z,{replace:!0,state:oe,preventScrollReset:V==null?void 0:V.preventScrollReset})}),[r]),X=r.basename||"/",ee=O.useMemo(()=>({router:r,navigator:j,static:!1,basename:X}),[r,j,X]);return O.createElement(O.Fragment,null,O.createElement(Bs.Provider,{value:ee},O.createElement(Ou.Provider,{value:t},O.createElement(KE.Provider,{value:P.current},O.createElement(Cp.Provider,{value:h},O.createElement(F2,{basename:X,location:t.location,navigationType:t.historyAction,navigator:j},O.createElement(B2,{routes:r.routes,future:r.future,state:t})))))),null)}var B2=O.memo(H2);function H2({routes:r,future:e,state:t}){return R2(r,void 0,t,e)}function XE({to:r,replace:e,state:t,relative:a}){Je(el(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(Vr);mn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=O.useContext(kr),{pathname:h}=Wi(),d=ui(),p=rf(r,nf(u),h,a==="path"),g=JSON.stringify(p);return O.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:a})},[d,g,a,e,t]),null}function sf(r){return A2(r.context)}function F2({basename:r="/",children:e=null,location:t,navigationType:a="POP",navigator:o,static:u=!1}){Je(!el(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Ya(t));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:S="default"}=t,C=O.useMemo(()=>{let P=Tr(p,h);return P==null?null:{location:{pathname:P,search:g,hash:E,state:T,key:S},navigationType:a}},[h,p,g,E,T,S,a]);return mn(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:O.createElement(Vr.Provider,{value:d},O.createElement(af.Provider,{children:e,value:C}))}var yh="get",vh="application/x-www-form-urlencoded";function of(r){return r!=null&&typeof r.tagName=="string"}function q2(r){return of(r)&&r.tagName.toLowerCase()==="button"}function G2(r){return of(r)&&r.tagName.toLowerCase()==="form"}function K2(r){return of(r)&&r.tagName.toLowerCase()==="input"}function $2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Q2(r,e){return r.button===0&&(!e||e==="_self")&&!$2(r)}var lh=null;function Y2(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var X2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(r){return r!=null&&!X2.has(r)?(mn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vh}"`),null):r}function W2(r,e){let t,a,o,u,h;if(G2(r)){let d=r.getAttribute("action");a=d?Tr(d,e):null,t=r.getAttribute("method")||yh,o=Mm(r.getAttribute("enctype"))||vh,u=new FormData(r)}else if(q2(r)||K2(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(a=p?Tr(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||yh,o=Mm(r.getAttribute("formenctype"))||Mm(d.getAttribute("enctype"))||vh,u=new FormData(d,r),!Y2()){let{name:g,type:E,value:T}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(of(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=yh,a=null,o=vh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Op(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Z2(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function J2(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function eA(r,e,t){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Z2(u,t);return h.links?h.links():[]}return[]}));return iA(a.flat(1).filter(J2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function r_(r,e,t,a,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{var T;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function tA(r,e,{includeHydrateFallback:t}={}){return nA(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function nA(r){return[...new Set(r)]}function rA(r){let e={},t=Object.keys(r).sort();for(let a of t)e[a]=r[a];return e}function iA(r,e){let t=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(rA(o));return t.has(u)||(t.add(u),a.push({key:u,link:o})),a},[])}function aA(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Tr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function WE(){let r=O.useContext(Bs);return Op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function sA(){let r=O.useContext(Ou);return Op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Mp=O.createContext(void 0);Mp.displayName="FrameworkContext";function ZE(){let r=O.useContext(Mp);return Op(r,"You must render this element inside a <HydratedRouter> element"),r}function oA(r,e){let t=O.useContext(Mp),[a,o]=O.useState(!1),[u,h]=O.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,S=O.useRef(null);O.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let $=X=>{X.forEach(ee=>{h(ee.isIntersecting)})},j=new IntersectionObserver($,{threshold:.5});return S.current&&j.observe(S.current),()=>{j.disconnect()}}},[r]),O.useEffect(()=>{if(a){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[a]);let C=()=>{o(!0)},P=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,S,{}]:[u,S,{onFocus:ou(d,C),onBlur:ou(p,P),onMouseEnter:ou(g,C),onMouseLeave:ou(E,P),onTouchStart:ou(T,C)}]:[!1,S,{}]}function ou(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function lA({page:r,...e}){let{router:t}=WE(),a=O.useMemo(()=>Ia(t.routes,r,t.basename),[t.routes,r,t.basename]);return a?O.createElement(cA,{page:r,matches:a,...e}):null}function uA(r){let{manifest:e,routeModules:t}=ZE(),[a,o]=O.useState([]);return O.useEffect(()=>{let u=!1;return eA(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),a}function cA({page:r,matches:e,...t}){let a=Wi(),{manifest:o,routeModules:u}=ZE(),{basename:h}=WE(),{loaderData:d,matches:p}=sA(),g=O.useMemo(()=>r_(r,e,p,o,a,"data"),[r,e,p,o,a]),E=O.useMemo(()=>r_(r,e,p,o,a,"assets"),[r,e,p,o,a]),T=O.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let P=new Set,$=!1;if(e.forEach(X=>{var Z;let ee=o.routes[X.route.id];!ee||!ee.hasLoader||(!g.some(oe=>oe.route.id===X.route.id)&&X.route.id in d&&((Z=u[X.route.id])!=null&&Z.shouldRevalidate)||ee.hasClientLoader?$=!0:P.add(X.route.id))}),P.size===0)return[];let j=aA(r,h);return $&&P.size>0&&j.searchParams.set("_routes",e.filter(X=>P.has(X.route.id)).map(X=>X.route.id).join(",")),[j.pathname+j.search]},[h,d,a,o,g,e,r,u]),S=O.useMemo(()=>tA(E,o),[E,o]),C=uA(E);return O.createElement(O.Fragment,null,T.map(P=>O.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),S.map(P=>O.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),C.map(({key:P,link:$})=>O.createElement("link",{key:P,...$})))}function hA(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var JE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JE&&(window.__reactRouterVersion="7.4.0")}catch{}function fA(r,e){return t2({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:AS({window:e==null?void 0:e.window}),hydrationData:dA(),routes:r,mapRouteProperties:U2,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function dA(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:mA(r.errors)}),r}function mA(r){if(!r)return null;let e=Object.entries(r),t={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")t[a]=new Oh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let h=new u(o.message);h.stack="",t[a]=h}catch{}}if(t[a]==null){let u=new Error(o.message);u.stack="",t[a]=u}}else t[a]=o;return t}var e1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t1=O.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:E,viewTransition:T,...S},C){let{basename:P}=O.useContext(Vr),$=typeof g=="string"&&e1.test(g),j,X=!1;if(typeof g=="string"&&$&&(j=g,JE))try{let R=new URL(window.location.href),I=g.startsWith("//")?new URL(R.protocol+g):new URL(g),U=Tr(I.pathname,P);I.origin===R.origin&&U!=null?g=U+I.search+I.hash:X=!0}catch{mn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=T2(g,{relative:o}),[Z,oe,V]=oA(a,S),ue=yA(g,{replace:h,state:d,target:p,preventScrollReset:E,relative:o,viewTransition:T});function M(R){e&&e(R),R.defaultPrevented||ue(R)}let x=O.createElement("a",{...S,...V,href:j||ee,onClick:X||u?e:M,ref:hA(C,oe),target:p,"data-discover":!$&&t==="render"?"true":void 0});return Z&&!$?O.createElement(O.Fragment,null,x,O.createElement(lA,{page:ee})):x});t1.displayName="Link";var kt=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},E){let T=Mu(h,{relative:g.relative}),S=Wi(),C=O.useContext(Ou),{navigator:P,basename:$}=O.useContext(Vr),j=C!=null&&TA(T)&&d===!0,X=P.encodeLocation?P.encodeLocation(T).pathname:T.pathname,ee=S.pathname,Z=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),Z=Z?Z.toLowerCase():null,X=X.toLowerCase()),Z&&$&&(Z=Tr(Z,$)||Z);const oe=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let V=ee===X||!o&&ee.startsWith(X)&&ee.charAt(oe)==="/",ue=Z!=null&&(Z===X||!o&&Z.startsWith(X)&&Z.charAt(X.length)==="/"),M={isActive:V,isPending:ue,isTransitioning:j},x=V?e:void 0,R;typeof a=="function"?R=a(M):R=[a,V?"active":null,ue?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(M):u;return O.createElement(t1,{...g,"aria-current":x,className:R,ref:E,style:I,to:h,viewTransition:d},typeof p=="function"?p(M):p)});kt.displayName="NavLink";var pA=O.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:o,state:u,method:h=yh,action:d,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...S},C)=>{let P=EA(),$=bA(d,{relative:g}),j=h.toLowerCase()==="get"?"get":"post",X=typeof d=="string"&&e1.test(d),ee=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let oe=Z.nativeEvent.submitter,V=(oe==null?void 0:oe.getAttribute("formmethod"))||h;P(oe||Z.currentTarget,{fetcherKey:e,method:V,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return O.createElement("form",{ref:C,method:j,action:$,onSubmit:a?p:ee,...S,"data-discover":!X&&r==="render"?"true":void 0})});pA.displayName="Form";function gA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n1(r){let e=O.useContext(Bs);return Je(e,gA(r)),e}function yA(r,{target:e,replace:t,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=ui(),p=Wi(),g=Mu(r,{relative:u});return O.useCallback(E=>{if(Q2(E,e)){E.preventDefault();let T=t!==void 0?t:Ha(p)===Ha(g);d(r,{replace:T,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,t,a,e,r,o,u,h])}var vA=0,_A=()=>`__${String(++vA)}__`;function EA(){let{router:r}=n1("useSubmit"),{basename:e}=O.useContext(Vr),t=V2();return O.useCallback(async(a,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=W2(a,e);if(o.navigate===!1){let E=o.fetcherKey||_A();await r.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function bA(r,{relative:e}={}){let{basename:t}=O.useContext(Vr),a=O.useContext(kr);Je(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Mu(r||".",{relative:e})},h=Wi();if(r==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(E=>E==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let E=d.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ti([t,u.pathname])),Ha(u)}function TA(r,e={}){let t=O.useContext(Cp);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=n1("useViewTransitionState"),o=Mu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=Tr(t.currentLocation.pathname,a)||t.currentLocation.pathname,h=Tr(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Nh(o.pathname,h)!=null||Nh(o.pathname,u)!=null}new TextEncoder;var wA=PE();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function SA(r){return O.createElement(z2,{flushSync:wA.flushSync,...r})}const AA="/assets/Logo-Bq-FLXFz.png",RA=()=>b.jsx("aside",{children:b.jsx("img",{src:AA,alt:"",className:"h-[50px]"})}),xA=()=>{};var i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=function(r){const e=[];let t=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},CA=function(r){const e=[];let t=0,a=0;for(;t<r.length;){const o=r[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],d=r[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],h=r[t++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},i1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,d=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,C=g&63;p||(C=64,h||(S=64)),a.push(t[E],t[T],t[S],t[C])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(r1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):CA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new IA;const S=u<<2|d>>4;if(a.push(S),g!==64){const C=d<<4&240|g>>2;if(a.push(C),T!==64){const P=g<<6&192|T;a.push(P)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class IA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DA=function(r){const e=r1(r);return i1.encodeByteArray(e,!0)},Mh=function(r){return DA(r).replace(/\./g,"")},a1=function(r){try{return i1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=()=>NA().__FIREBASE_DEFAULTS__,MA=()=>{if(typeof process>"u"||typeof i_>"u")return;const r=i_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},PA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&a1(r[1]);return e&&JSON.parse(e)},lf=()=>{try{return xA()||OA()||MA()||PA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},s1=r=>{var e,t;return(t=(e=lf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},VA=r=>{const e=s1(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},o1=()=>{var r;return(r=lf())===null||r===void 0?void 0:r.config},l1=r=>{var e;return(e=lf())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Mh(JSON.stringify(t)),Mh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function jA(){var r;const e=(r=lf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function HA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FA(){const r=Dn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qA(){return!jA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GA(){try{return typeof indexedDB=="object"}catch{return!1}}function KA(){return new Promise((r,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="FirebaseError";class Zi extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=$A,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pu.prototype.create)}}class Pu{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?QA(u,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Zi(o,d,a)}}function QA(r,e){return r.replace(YA,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const YA=/\{\$([^}]+)}/g;function XA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ps(r,e){if(r===e)return!0;const t=Object.keys(r),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const u=r[o],h=e[o];if(a_(u)&&a_(h)){if(!Ps(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function a_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(r){const e=[];for(const[t,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function cu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function hu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function WA(r,e){const t=new ZA(r,e);return t.subscribe.bind(t)}class ZA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");JA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=Pm),o.error===void 0&&(o.error=Pm),o.complete===void 0&&(o.complete=Pm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JA(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(r){return r&&r._delegate?r._delegate:r}class Vs{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new kA;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nR(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&h.resolve(o)}return o}onInit(e,t){var a;const o=this.normalizeInstanceIdentifier(t),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:tR(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tR(r){return r===Cs?void 0:r}function nR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new eR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ze||(Ze={}));const iR={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},aR=Ze.INFO,sR={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},oR=(r,e,...t)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=sR[e];if(o)console[o](`[${a}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pp{constructor(e){this.name=e,this._logLevel=aR,this._logHandler=oR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const lR=(r,e)=>e.some(t=>r instanceof t);let s_,o_;function uR(){return s_||(s_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cR(){return o_||(o_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u1=new WeakMap,Xm=new WeakMap,c1=new WeakMap,Vm=new WeakMap,Vp=new WeakMap;function hR(r){const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(ka(r.result)),o()},h=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&u1.set(t,r)}).catch(()=>{}),Vp.set(e,r),e}function fR(r){if(Xm.has(r))return;const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Xm.set(r,e)}let Wm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Xm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||c1.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ka(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function dR(r){Wm=r(Wm)}function mR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=r.call(km(this),e,...t);return c1.set(a,e.sort?e.sort():[e]),ka(a)}:cR().includes(r)?function(...e){return r.apply(km(this),e),ka(u1.get(this))}:function(...e){return ka(r.apply(km(this),e))}}function pR(r){return typeof r=="function"?mR(r):(r instanceof IDBTransaction&&fR(r),lR(r,uR())?new Proxy(r,Wm):r)}function ka(r){if(r instanceof IDBRequest)return hR(r);if(Vm.has(r))return Vm.get(r);const e=pR(r);return e!==r&&(Vm.set(r,e),Vp.set(e,r)),e}const km=r=>Vp.get(r);function gR(r,e,{blocked:t,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),d=ka(h);return a&&h.addEventListener("upgradeneeded",p=>{a(ka(h.result),p.oldVersion,p.newVersion,ka(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const yR=["get","getKey","getAll","getAllKeys","count"],vR=["put","add","delete","clear"],Lm=new Map;function l_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Lm.get(e))return Lm.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=vR.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||yR.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Lm.set(e,u),u}dR(r=>({...r,get:(e,t,a)=>l_(e,t)||r.get(e,t,a),has:(e,t)=>!!l_(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ER(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function ER(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zm="@firebase/app",u_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Pp("@firebase/app"),bR="@firebase/app-compat",TR="@firebase/analytics-compat",wR="@firebase/analytics",SR="@firebase/app-check-compat",AR="@firebase/app-check",RR="@firebase/auth",xR="@firebase/auth-compat",CR="@firebase/database",IR="@firebase/data-connect",DR="@firebase/database-compat",NR="@firebase/functions",OR="@firebase/functions-compat",MR="@firebase/installations",PR="@firebase/installations-compat",VR="@firebase/messaging",kR="@firebase/messaging-compat",LR="@firebase/performance",UR="@firebase/performance-compat",jR="@firebase/remote-config",zR="@firebase/remote-config-compat",BR="@firebase/storage",HR="@firebase/storage-compat",FR="@firebase/firestore",qR="@firebase/vertexai",GR="@firebase/firestore-compat",KR="firebase",$R="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="[DEFAULT]",QR={[Zm]:"fire-core",[bR]:"fire-core-compat",[wR]:"fire-analytics",[TR]:"fire-analytics-compat",[AR]:"fire-app-check",[SR]:"fire-app-check-compat",[RR]:"fire-auth",[xR]:"fire-auth-compat",[CR]:"fire-rtdb",[IR]:"fire-data-connect",[DR]:"fire-rtdb-compat",[NR]:"fire-fn",[OR]:"fire-fn-compat",[MR]:"fire-iid",[PR]:"fire-iid-compat",[VR]:"fire-fcm",[kR]:"fire-fcm-compat",[LR]:"fire-perf",[UR]:"fire-perf-compat",[jR]:"fire-rc",[zR]:"fire-rc-compat",[BR]:"fire-gcs",[HR]:"fire-gcs-compat",[FR]:"fire-fst",[GR]:"fire-fst-compat",[qR]:"fire-vertex","fire-js":"fire-js",[KR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Map,YR=new Map,ep=new Map;function c_(r,e){try{r.container.addComponent(e)}catch(t){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function qo(r){const e=r.name;if(ep.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,r);for(const t of Ph.values())c_(t,r);for(const t of YR.values())c_(t,r);return!0}function kp(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Er(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},La=new Pu("app","Firebase",XR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw La.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=$R;function h1(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Jm,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw La.create("bad-app-name",{appName:String(o)});if(t||(t=o1()),!t)throw La.create("no-options");const u=Ph.get(o);if(u){if(Ps(t,u.options)&&Ps(a,u.config))return u;throw La.create("duplicate-app",{appName:o})}const h=new rR(o);for(const p of ep.values())h.addComponent(p);const d=new WR(t,a,h);return Ph.set(o,d),d}function f1(r=Jm){const e=Ph.get(r);if(!e&&r===Jm&&o1())return h1();if(!e)throw La.create("no-app",{appName:r});return e}function Ua(r,e,t){var a;let o=(a=QR[r])!==null&&a!==void 0?a:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(d.join(" "));return}qo(new Vs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="firebase-heartbeat-database",JR=1,Su="firebase-heartbeat-store";let Um=null;function d1(){return Um||(Um=gR(ZR,JR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Su)}catch(t){console.warn(t)}}}}).catch(r=>{throw La.create("idb-open",{originalErrorMessage:r.message})})),Um}async function ex(r){try{const t=(await d1()).transaction(Su),a=await t.objectStore(Su).get(m1(r));return await t.done,a}catch(e){if(e instanceof Zi)Ki.warn(e.message);else{const t=La.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ki.warn(t.message)}}}async function h_(r,e){try{const a=(await d1()).transaction(Su,"readwrite");await a.objectStore(Su).put(e,m1(r)),await a.done}catch(t){if(t instanceof Zi)Ki.warn(t.message);else{const a=La.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ki.warn(a.message)}}}function m1(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=1024,nx=30;class rx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ax(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=f_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>nx){const h=sx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ki.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=f_(),{heartbeatsToSend:a,unsentEntries:o}=ix(this._heartbeatsCache.heartbeats),u=Mh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Ki.warn(t),""}}}function f_(){return new Date().toISOString().substring(0,10)}function ix(r,e=tx){const t=[];let a=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),d_(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),d_(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class ax{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GA()?KA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ex(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return h_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return h_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function d_(r){return Mh(JSON.stringify({version:2,heartbeats:r})).length}function sx(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let a=1;a<r.length;a++)r[a].date<t&&(t=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(r){qo(new Vs("platform-logger",e=>new _R(e),"PRIVATE")),qo(new Vs("heartbeat",e=>new rx(e),"PRIVATE")),Ua(Zm,u_,r),Ua(Zm,u_,"esm2017"),Ua("fire-js","")}ox("");function Lp(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t}function p1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lx=p1,g1=new Pu("auth","Firebase",p1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Pp("@firebase/auth");function ux(r,...e){Vh.logLevel<=Ze.WARN&&Vh.warn(`Auth (${tl}): ${r}`,...e)}function _h(r,...e){Vh.logLevel<=Ze.ERROR&&Vh.error(`Auth (${tl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(r,...e){throw Up(r,...e)}function ni(r,...e){return Up(r,...e)}function y1(r,e,t){const a=Object.assign(Object.assign({},lx()),{[e]:t});return new Pu("auth","Firebase",a).create(e,{appName:r.name})}function qi(r){return y1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Up(r,...e){if(typeof r!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(t,...a)}return g1.create(r,...e)}function Pe(r,e,...t){if(!r)throw Up(e,...t)}function Bi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw _h(e),new Error(e)}function $i(r,e){r||Bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function cx(){return m_()==="http:"||m_()==="https:"}function m_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cx()||BA()||"connection"in navigator)?navigator.onLine:!0}function fx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,$i(t>e,"Short delay should be less than long delay!"),this.isMobile=UA()||HA()}get(){return hx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(r,e){$i(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new ku(3e4,6e4);function Ji(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ci(r,e,t,a,o={}){return _1(r,o,async()=>{let u={},h={};a&&(e==="GET"?h=a:u={body:JSON.stringify(a)});const d=Vu(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return zA()||(g.referrerPolicy="no-referrer"),v1.fetch()(E1(r,r.config.apiHost,t,d),g)})}async function _1(r,e,t){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},dx),e);try{const o=new gx(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw uh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw uh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw uh(r,"user-disabled",h);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw y1(r,E,g);Pr(r,E)}}catch(o){if(o instanceof Zi)throw o;Pr(r,"network-request-failed",{message:String(o)})}}async function Lu(r,e,t,a,o={}){const u=await ci(r,e,t,a,o);return"mfaPendingCredential"in u&&Pr(r,"multi-factor-auth-required",{_serverResponse:u}),u}function E1(r,e,t,a){const o=`${e}${t}?${a}`;return r.config.emulator?jp(r.config,o):`${r.config.apiScheme}://${o}`}function px(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(ni(this.auth,"network-request-failed")),mx.get())})}}function uh(r,e,t){const a={appName:r.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=ni(r,e,a);return o.customData._tokenResponse=t,o}function p_(r){return r!==void 0&&r.enterprise!==void 0}class yx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return px(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vx(r,e){return ci(r,"GET","/v2/recaptchaConfig",Ji(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(r,e){return ci(r,"POST","/v1/accounts:delete",e)}async function b1(r,e){return ci(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ex(r,e=!1){const t=pn(r),a=await t.getIdToken(e),o=zp(a);Pe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:gu(jm(o.auth_time)),issuedAtTime:gu(jm(o.iat)),expirationTime:gu(jm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function jm(r){return Number(r)*1e3}function zp(r){const[e,t,a]=r.split(".");if(e===void 0||t===void 0||a===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const o=a1(t);return o?JSON.parse(o):(_h("Failed to decode base64 JWT payload"),null)}catch(o){return _h("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function g_(r){const e=zp(r);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(r,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof Zi&&bx(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function bx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(r){var e;const t=r.auth,a=await r.getIdToken(),o=await Go(r,b1(t,{idToken:a}));Pe(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?T1(u.providerUserInfo):[],d=Sx(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(d!=null&&d.length),E=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new np(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,T)}async function wx(r){const e=pn(r);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Sx(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function T1(r){return r.map(e=>{var{providerId:t}=e,a=Lp(e,["providerId"]);return{providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(r,e){const t=await _1(r,{},async()=>{const a=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=E1(r,o,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",v1.fetch()(h,{method:"POST",headers:d,body:a})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Rx(r,e){return ci(r,"POST","/v2/accounts:revokeToken",Ji(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=g_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:u}=await Ax(e,t);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:u}=t,h=new zo;return a&&(Pe(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(Pe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Pe(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(r,e){Pe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Hi{constructor(e){var{uid:t,auth:a,stsTokenManager:o}=e,u=Lp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new np(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Go(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ex(this,e)}reload(){return wx(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await kh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(qi(this.auth));const e=await this.getIdToken();return await Go(this,_x(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var a,o,u,h,d,p,g,E;const T=(a=t.displayName)!==null&&a!==void 0?a:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,C=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,P=(h=t.photoURL)!==null&&h!==void 0?h:void 0,$=(d=t.tenantId)!==null&&d!==void 0?d:void 0,j=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,X=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ee=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Z,emailVerified:oe,isAnonymous:V,providerData:ue,stsTokenManager:M}=t;Pe(Z&&M,e,"internal-error");const x=zo.fromJSON(this.name,M);Pe(typeof Z=="string",e,"internal-error"),xa(T,e.name),xa(S,e.name),Pe(typeof oe=="boolean",e,"internal-error"),Pe(typeof V=="boolean",e,"internal-error"),xa(C,e.name),xa(P,e.name),xa($,e.name),xa(j,e.name),xa(X,e.name),xa(ee,e.name);const R=new Hi({uid:Z,auth:e,email:S,emailVerified:oe,displayName:T,isAnonymous:V,photoURL:P,phoneNumber:C,tenantId:$,stsTokenManager:x,createdAt:X,lastLoginAt:ee});return ue&&Array.isArray(ue)&&(R.providerData=ue.map(I=>Object.assign({},I))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,t,a=!1){const o=new zo;o.updateFromServerResponse(t);const u=new Hi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await kh(u),u}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];Pe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?T1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new zo;d.updateFromIdToken(a);const p=new Hi({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;function Fi(r){$i(r instanceof Function,"Expected a class definition");let e=y_.get(r);return e?($i(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,y_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}w1.type="NONE";const v_=w1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(r,e,t){return`firebase:${r}:${e}:${t}`}class Bo{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Eh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Bo(Fi(v_),e,a);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Fi(v_);const h=Eh(a,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(h);if(E){const T=Hi._fromJSON(e,E);g!==u&&(d=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Bo(u,e,a):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Bo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(x1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I1(e))return"Blackberry";if(D1(e))return"Webos";if(A1(e))return"Safari";if((e.includes("chrome/")||R1(e))&&!e.includes("edge/"))return"Chrome";if(C1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function S1(r=Dn()){return/firefox\//i.test(r)}function A1(r=Dn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R1(r=Dn()){return/crios\//i.test(r)}function x1(r=Dn()){return/iemobile/i.test(r)}function C1(r=Dn()){return/android/i.test(r)}function I1(r=Dn()){return/blackberry/i.test(r)}function D1(r=Dn()){return/webos/i.test(r)}function Bp(r=Dn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function xx(r=Dn()){var e;return Bp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Cx(){return FA()&&document.documentMode===10}function N1(r=Dn()){return Bp(r)||C1(r)||D1(r)||I1(r)||/windows phone/i.test(r)||x1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(r,e=[]){let t;switch(r){case"Browser":t=__(Dn());break;case"Worker":t=`${__(Dn())}-${r}`;break;default:t=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${tl}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(r,e={}){return ci(r,"GET","/v2/passwordPolicy",Ji(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=6;class Ox{constructor(e){var t,a,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:Nx,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,a,o,u,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E_(this),this.idTokenSubscription=new E_(this),this.beforeStateQueue=new Ix(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fi(t)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await b1(this,{idToken:e}),a=await Hi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Er(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(qi(this));const t=e?pn(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Dx(this),t=new Ox(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pu("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await Rx(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fi(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[Fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ux(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xa(r){return pn(r)}class E_{constructor(e){this.auth=e,this.observer=null,this.addObserver=WA(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Px(r){uf=r}function M1(r){return uf.loadJS(r)}function Vx(){return uf.recaptchaEnterpriseScript}function kx(){return uf.gapiScript}function Lx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Ux{constructor(){this.enterprise=new jx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class jx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zx="recaptcha-enterprise",P1="NO_RECAPTCHA";class Bx{constructor(e){this.type=zx,this.auth=Xa(e)}async verify(e="verify",t=!1){async function a(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{vx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new yx(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;p_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(P1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ux().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{a(this.auth).then(d=>{if(!t&&p_(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Vx();p.length!==0&&(p+=d),M1(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function b_(r,e,t,a=!1,o=!1){const u=new Bx(r);let h;if(o)h=P1;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Lh(r,e,t,a,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await b_(r,e,t,t==="getOobCode");return a(r,h)}else return a(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await b_(r,e,t,t==="getOobCode");return a(r,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(r,e){const t=kp(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Ps(u,e??{}))return o;Pr(o,"already-initialized")}return t.initialize({options:e})}function Fx(r,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(Fi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function qx(r,e,t){const a=Xa(r);Pe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=V1(e),{host:h,port:d}=Gx(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Pe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Pe(Ps(g,a.config.emulator)&&Ps(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Kx()}function V1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Gx(r){const e=V1(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:T_(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:T_(h)}}}function T_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Kx(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,t){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}async function $x(r,e){return ci(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(r,e){return Lu(r,"POST","/v1/accounts:signInWithPassword",Ji(r,e))}async function k1(r,e){return ci(r,"POST","/v1/accounts:sendOobCode",Ji(r,e))}async function Yx(r,e){return k1(r,e)}async function Xx(r,e){return k1(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(r,e){return Lu(r,"POST","/v1/accounts:signInWithEmailLink",Ji(r,e))}async function Zx(r,e){return Lu(r,"POST","/v1/accounts:signInWithEmailLink",Ji(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends Hp{constructor(e,t,a,o=null){super("password",a),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Au(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new Au(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lh(e,t,"signInWithPassword",Qx);case"emailLink":return Wx(e,{email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lh(e,a,"signUpPassword",$x);case"emailLink":return Zx(e,{idToken:t,email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(r,e){return Lu(r,"POST","/v1/accounts:signInWithIdp",Ji(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="http://localhost";class ks extends Hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=t,u=Lp(t,["providerId","signInMethod"]);if(!a||!o)return null;const h=new ks(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Ho(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Ho(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ho(e,t)}buildRequest(){const e={requestUri:Jx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tC(r){const e=cu(hu(r)).link,t=e?cu(hu(e)).deep_link_id:null,a=cu(hu(r)).deep_link_id;return(a?cu(hu(a)).link:null)||a||t||e||r}class Fp{constructor(e){var t,a,o,u,h,d;const p=cu(hu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(a=p.oobCode)!==null&&a!==void 0?a:null,T=eC((o=p.mode)!==null&&o!==void 0?o:null);Pe(g&&E&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=tC(e);try{return new Fp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.providerId=nl.PROVIDER_ID}static credential(e,t){return Au._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=Fp.parseLink(t);return Pe(a,"argument-error"),Au._fromEmailAndCode(e,a.code,a.tenantId)}}nl.PROVIDER_ID="password";nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends L1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Uu{constructor(){super("facebook.com")}static credential(e){return ks._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Da.credential(e.oauthAccessToken)}catch{return null}}}Da.FACEBOOK_SIGN_IN_METHOD="facebook.com";Da.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ks._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return Na.credential(t,a)}catch{return null}}}Na.GOOGLE_SIGN_IN_METHOD="google.com";Na.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Uu{constructor(){super("github.com")}static credential(e){return ks._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.GITHUB_SIGN_IN_METHOD="github.com";Oa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Uu{constructor(){super("twitter.com")}static credential(e,t){return ks._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return Ma.credential(t,a)}catch{return null}}}Ma.TWITTER_SIGN_IN_METHOD="twitter.com";Ma.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(r,e){return Lu(r,"POST","/v1/accounts:signUp",Ji(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const u=await Hi._fromIdTokenResponse(e,a,o),h=w_(a);return new Ls({user:u,providerId:h,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=w_(a);return new Ls({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function w_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends Zi{constructor(e,t,a,o){var u;super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new Uh(e,t,a,o)}}function U1(r,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(r,u,e,a):u})}async function rC(r,e,t=!1){const a=await Go(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ls._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(r,e,t=!1){const{auth:a}=r;if(Er(a.app))return Promise.reject(qi(a));const o="reauthenticate";try{const u=await Go(r,U1(a,o,e,r),t);Pe(u.idToken,a,"internal-error");const h=zp(u.idToken);Pe(h,a,"internal-error");const{sub:d}=h;return Pe(r.uid===d,a,"user-mismatch"),Ls._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Pr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1(r,e,t=!1){if(Er(r.app))return Promise.reject(qi(r));const a="signIn",o=await U1(r,a,e),u=await Ls._fromIdTokenResponse(r,a,o);return t||await r._updateCurrentUser(u.user),u}async function aC(r,e){return j1(Xa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(r){const e=Xa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function B1(r,e,t){const a=Xa(r);await Lh(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Xx)}async function sC(r,e,t){if(Er(r.app))return Promise.reject(qi(r));const a=Xa(r),h=await Lh(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&z1(r),p}),d=await Ls._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(d.user),d}function oC(r,e,t){return Er(r.app)?Promise.reject(qi(r)):aC(pn(r),nl.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&z1(r),a})}async function lC(r,e){const t=pn(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await Yx(t.auth,o);u!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(r,e){return ci(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const a=pn(r),u={idToken:await a.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Go(a,uC(a.auth,u));a.displayName=h.displayName||null,a.photoURL=h.photoUrl||null;const d=a.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=a.displayName,d.photoURL=a.photoURL),await a._updateTokensIfNecessary(h)}function cC(r,e,t,a){return pn(r).onIdTokenChanged(e,t,a)}function hC(r,e,t){return pn(r).beforeAuthStateChanged(e,t)}function fC(r,e,t,a){return pn(r).onAuthStateChanged(e,t,a)}function dC(r){return pn(r).signOut()}async function mC(r){return pn(r).delete()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=1e3,gC=10;class q1 extends F1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!t&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);Cx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,gC):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},pC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}q1.type="LOCAL";const yC=q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1 extends F1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}G1.type="SESSION";const K1=G1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new cf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await vC(d);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=qp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function EC(r){ri().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function bC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function wC(){return $1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="firebaseLocalStorageDb",SC=1,zh="firebaseLocalStorage",Y1="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hf(r,e){return r.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function AC(){const r=indexedDB.deleteDatabase(Q1);return new ju(r).toPromise()}function rp(){const r=indexedDB.open(Q1,SC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(zh,{keyPath:Y1})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(zh)?e(a):(a.close(),await AC(),e(await rp()))})})}async function S_(r,e,t){const a=hf(r,!0).put({[Y1]:e,value:t});return new ju(a).toPromise()}async function RC(r,e){const t=hf(r,!1).get(e),a=await new ju(t).toPromise();return a===void 0?null:a.value}function A_(r,e){const t=hf(r,!0).delete(e);return new ju(t).toPromise()}const xC=800,CC=3;class X1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>CC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(wC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await bC(),!this.activeServiceWorker)return;this.sender=new _C(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((t=a[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rp();return await S_(e,jh,"1"),await A_(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>S_(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>RC(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>A_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=hf(o,!1).getAll();return new ju(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X1.type="LOCAL";const IC=X1;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(r,e){return e?Fi(e):(Pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends Hp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function NC(r){return j1(r.auth,new Gp(r),r.bypassAuthState)}function OC(r){const{auth:e,user:t}=r;return Pe(t,e,"internal-error"),iC(t,new Gp(r),r.bypassAuthState)}async function MC(r){const{auth:e,user:t}=r;return Pe(t,e,"internal-error"),rC(t,new Gp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NC;case"linkViaPopup":case"linkViaRedirect":return MC;case"reauthViaPopup":case"reauthViaRedirect":return OC;default:Pr(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new ku(2e3,1e4);class jo extends W1{constructor(e,t,a,o,u){super(e,t,o,u),this.provider=a,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if(!((a=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PC.get())};e()}}jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="pendingRedirect",bh=new Map;class kC extends W1{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const a=await LC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LC(r,e){const t=zC(e),a=jC(r);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function UC(r,e){bh.set(r._key(),e)}function jC(r){return Fi(r._redirectPersistence)}function zC(r){return Eh(VC,r.config.apiKey,r.name)}async function BC(r,e,t=!1){if(Er(r.app))return Promise.reject(qi(r));const a=Xa(r),o=DC(a,e),h=await new kC(a,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=10*60*1e3;class FC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!Z1(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";t.onError(ni(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HC&&this.cachedEventUids.clear(),this.cachedEventUids.has(R_(e))}saveEventToCache(e){this.cachedEventUids.add(R_(e)),this.lastProcessedEventTime=Date.now()}}function R_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Z1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(r,e={}){return ci(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$C=/^https?/;async function QC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await GC(r);for(const t of e)try{if(YC(t))return}catch{}Pr(r,"unauthorized-domain")}function YC(r){const e=tp(),{protocol:t,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&a===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===a}if(!$C.test(t))return!1;if(KC.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new ku(3e4,6e4);function x_(){const r=ri().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function WC(r){return new Promise((e,t)=>{var a,o,u;function h(){x_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x_(),t(ni(r,"network-request-failed"))},timeout:XC.get()})}if(!((o=(a=ri().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ri().gapi)===null||u===void 0)&&u.load)h();else{const d=Lx("iframefcb");return ri()[d]=()=>{gapi.load?h():t(ni(r,"network-request-failed"))},M1(`${kx()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Th=null,e})}let Th=null;function ZC(r){return Th=Th||WC(r),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new ku(5e3,15e3),e4="__/auth/iframe",t4="emulator/auth/iframe",n4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i4(r){const e=r.config;Pe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?jp(e,t4):`https://${r.config.authDomain}/${e4}`,a={apiKey:e.apiKey,appName:r.name,v:tl},o=r4.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${t}?${Vu(a).slice(1)}`}async function a4(r){const e=await ZC(r),t=ri().gapi;return Pe(t,r,"internal-error"),e.open({where:document.body,url:i4(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n4,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=ni(r,"network-request-failed"),d=ri().setTimeout(()=>{u(h)},JC.get());function p(){ri().clearTimeout(d),o(a)}a.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o4=500,l4=600,u4="_blank",c4="http://localhost";class C_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h4(r,e,t,a=o4,o=l4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p=Object.assign(Object.assign({},s4),{width:a.toString(),height:o.toString(),top:u,left:h}),g=Dn().toLowerCase();t&&(d=R1(g)?u4:t),S1(g)&&(e=e||c4,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[C,P])=>`${S}${C}=${P},`,"");if(xx(g)&&d!=="_self")return f4(e||"",d),new C_(null);const T=window.open(e||"",d,E);Pe(T,r,"popup-blocked");try{T.focus()}catch{}return new C_(T)}function f4(r,e){const t=document.createElement("a");t.href=r,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="__/auth/handler",m4="emulator/auth/handler",p4=encodeURIComponent("fac");async function I_(r,e,t,a,o,u){Pe(r.config.authDomain,r,"auth-domain-config-required"),Pe(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:a,v:tl,eventId:o};if(e instanceof L1){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",XA(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Uu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const p=await r._getAppCheckToken(),g=p?`#${p4}=${encodeURIComponent(p)}`:"";return`${g4(r)}?${Vu(d).slice(1)}${g}`}function g4({config:r}){return r.emulator?jp(r,m4):`https://${r.authDomain}/${d4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class y4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K1,this._completeRedirectFn=BC,this._overrideRedirectResult=UC}async _openPopup(e,t,a,o){var u;$i((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await I_(e,t,a,tp(),o);return h4(e,h,qp())}async _openRedirect(e,t,a,o){await this._originValidation(e);const u=await I_(e,t,a,tp(),o);return EC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):($i(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await a4(e),a=new FC(e);return t.register("authEvent",o=>(Pe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zm,{type:zm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[zm];h!==void 0&&t(!!h),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=QC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return N1()||A1()||Bp()}}const v4=y4;var D_="@firebase/auth",N_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b4(r){qo(new Vs("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;Pe(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O1(r)},g=new Mx(a,o,u,p);return Fx(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),qo(new Vs("auth-internal",e=>{const t=Xa(e.getProvider("auth").getImmediate());return(a=>new _4(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ua(D_,N_,E4(r)),Ua(D_,N_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=5*60,w4=l1("authIdTokenMaxAge")||T4;let O_=null;const S4=r=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>w4)return;const o=t==null?void 0:t.token;O_!==o&&(O_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function A4(r=f1()){const e=kp(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Hx(r,{popupRedirectResolver:v4,persistence:[IC,yC,K1]}),a=l1("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=S4(u.toString());hC(t,h,()=>h(t.currentUser)),cC(t,d=>h(d))}}const o=s1("auth");return o&&qx(t,`http://${o}`),t}function R4(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}Px({loadJS(r){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=ni("internal-error");u.customData=o,t(u)},a.type="text/javascript",a.charset="UTF-8",R4().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b4("Browser");var x4="firebase",C4="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ua(x4,C4,"app");var M_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ja,J1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,x){function R(){}R.prototype=x.prototype,M.D=x.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(I,U,H){for(var N=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)N[pt-2]=arguments[pt];return x.prototype[U].apply(I,N)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,x,R){R||(R=0);var I=Array(16);if(typeof x=="string")for(var U=0;16>U;++U)I[U]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(U=0;16>U;++U)I[U]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=M.g[0],R=M.g[1],U=M.g[2];var H=M.g[3],N=x+(H^R&(U^H))+I[0]+3614090360&4294967295;x=R+(N<<7&4294967295|N>>>25),N=H+(U^x&(R^U))+I[1]+3905402710&4294967295,H=x+(N<<12&4294967295|N>>>20),N=U+(R^H&(x^R))+I[2]+606105819&4294967295,U=H+(N<<17&4294967295|N>>>15),N=R+(x^U&(H^x))+I[3]+3250441966&4294967295,R=U+(N<<22&4294967295|N>>>10),N=x+(H^R&(U^H))+I[4]+4118548399&4294967295,x=R+(N<<7&4294967295|N>>>25),N=H+(U^x&(R^U))+I[5]+1200080426&4294967295,H=x+(N<<12&4294967295|N>>>20),N=U+(R^H&(x^R))+I[6]+2821735955&4294967295,U=H+(N<<17&4294967295|N>>>15),N=R+(x^U&(H^x))+I[7]+4249261313&4294967295,R=U+(N<<22&4294967295|N>>>10),N=x+(H^R&(U^H))+I[8]+1770035416&4294967295,x=R+(N<<7&4294967295|N>>>25),N=H+(U^x&(R^U))+I[9]+2336552879&4294967295,H=x+(N<<12&4294967295|N>>>20),N=U+(R^H&(x^R))+I[10]+4294925233&4294967295,U=H+(N<<17&4294967295|N>>>15),N=R+(x^U&(H^x))+I[11]+2304563134&4294967295,R=U+(N<<22&4294967295|N>>>10),N=x+(H^R&(U^H))+I[12]+1804603682&4294967295,x=R+(N<<7&4294967295|N>>>25),N=H+(U^x&(R^U))+I[13]+4254626195&4294967295,H=x+(N<<12&4294967295|N>>>20),N=U+(R^H&(x^R))+I[14]+2792965006&4294967295,U=H+(N<<17&4294967295|N>>>15),N=R+(x^U&(H^x))+I[15]+1236535329&4294967295,R=U+(N<<22&4294967295|N>>>10),N=x+(U^H&(R^U))+I[1]+4129170786&4294967295,x=R+(N<<5&4294967295|N>>>27),N=H+(R^U&(x^R))+I[6]+3225465664&4294967295,H=x+(N<<9&4294967295|N>>>23),N=U+(x^R&(H^x))+I[11]+643717713&4294967295,U=H+(N<<14&4294967295|N>>>18),N=R+(H^x&(U^H))+I[0]+3921069994&4294967295,R=U+(N<<20&4294967295|N>>>12),N=x+(U^H&(R^U))+I[5]+3593408605&4294967295,x=R+(N<<5&4294967295|N>>>27),N=H+(R^U&(x^R))+I[10]+38016083&4294967295,H=x+(N<<9&4294967295|N>>>23),N=U+(x^R&(H^x))+I[15]+3634488961&4294967295,U=H+(N<<14&4294967295|N>>>18),N=R+(H^x&(U^H))+I[4]+3889429448&4294967295,R=U+(N<<20&4294967295|N>>>12),N=x+(U^H&(R^U))+I[9]+568446438&4294967295,x=R+(N<<5&4294967295|N>>>27),N=H+(R^U&(x^R))+I[14]+3275163606&4294967295,H=x+(N<<9&4294967295|N>>>23),N=U+(x^R&(H^x))+I[3]+4107603335&4294967295,U=H+(N<<14&4294967295|N>>>18),N=R+(H^x&(U^H))+I[8]+1163531501&4294967295,R=U+(N<<20&4294967295|N>>>12),N=x+(U^H&(R^U))+I[13]+2850285829&4294967295,x=R+(N<<5&4294967295|N>>>27),N=H+(R^U&(x^R))+I[2]+4243563512&4294967295,H=x+(N<<9&4294967295|N>>>23),N=U+(x^R&(H^x))+I[7]+1735328473&4294967295,U=H+(N<<14&4294967295|N>>>18),N=R+(H^x&(U^H))+I[12]+2368359562&4294967295,R=U+(N<<20&4294967295|N>>>12),N=x+(R^U^H)+I[5]+4294588738&4294967295,x=R+(N<<4&4294967295|N>>>28),N=H+(x^R^U)+I[8]+2272392833&4294967295,H=x+(N<<11&4294967295|N>>>21),N=U+(H^x^R)+I[11]+1839030562&4294967295,U=H+(N<<16&4294967295|N>>>16),N=R+(U^H^x)+I[14]+4259657740&4294967295,R=U+(N<<23&4294967295|N>>>9),N=x+(R^U^H)+I[1]+2763975236&4294967295,x=R+(N<<4&4294967295|N>>>28),N=H+(x^R^U)+I[4]+1272893353&4294967295,H=x+(N<<11&4294967295|N>>>21),N=U+(H^x^R)+I[7]+4139469664&4294967295,U=H+(N<<16&4294967295|N>>>16),N=R+(U^H^x)+I[10]+3200236656&4294967295,R=U+(N<<23&4294967295|N>>>9),N=x+(R^U^H)+I[13]+681279174&4294967295,x=R+(N<<4&4294967295|N>>>28),N=H+(x^R^U)+I[0]+3936430074&4294967295,H=x+(N<<11&4294967295|N>>>21),N=U+(H^x^R)+I[3]+3572445317&4294967295,U=H+(N<<16&4294967295|N>>>16),N=R+(U^H^x)+I[6]+76029189&4294967295,R=U+(N<<23&4294967295|N>>>9),N=x+(R^U^H)+I[9]+3654602809&4294967295,x=R+(N<<4&4294967295|N>>>28),N=H+(x^R^U)+I[12]+3873151461&4294967295,H=x+(N<<11&4294967295|N>>>21),N=U+(H^x^R)+I[15]+530742520&4294967295,U=H+(N<<16&4294967295|N>>>16),N=R+(U^H^x)+I[2]+3299628645&4294967295,R=U+(N<<23&4294967295|N>>>9),N=x+(U^(R|~H))+I[0]+4096336452&4294967295,x=R+(N<<6&4294967295|N>>>26),N=H+(R^(x|~U))+I[7]+1126891415&4294967295,H=x+(N<<10&4294967295|N>>>22),N=U+(x^(H|~R))+I[14]+2878612391&4294967295,U=H+(N<<15&4294967295|N>>>17),N=R+(H^(U|~x))+I[5]+4237533241&4294967295,R=U+(N<<21&4294967295|N>>>11),N=x+(U^(R|~H))+I[12]+1700485571&4294967295,x=R+(N<<6&4294967295|N>>>26),N=H+(R^(x|~U))+I[3]+2399980690&4294967295,H=x+(N<<10&4294967295|N>>>22),N=U+(x^(H|~R))+I[10]+4293915773&4294967295,U=H+(N<<15&4294967295|N>>>17),N=R+(H^(U|~x))+I[1]+2240044497&4294967295,R=U+(N<<21&4294967295|N>>>11),N=x+(U^(R|~H))+I[8]+1873313359&4294967295,x=R+(N<<6&4294967295|N>>>26),N=H+(R^(x|~U))+I[15]+4264355552&4294967295,H=x+(N<<10&4294967295|N>>>22),N=U+(x^(H|~R))+I[6]+2734768916&4294967295,U=H+(N<<15&4294967295|N>>>17),N=R+(H^(U|~x))+I[13]+1309151649&4294967295,R=U+(N<<21&4294967295|N>>>11),N=x+(U^(R|~H))+I[4]+4149444226&4294967295,x=R+(N<<6&4294967295|N>>>26),N=H+(R^(x|~U))+I[11]+3174756917&4294967295,H=x+(N<<10&4294967295|N>>>22),N=U+(x^(H|~R))+I[2]+718787259&4294967295,U=H+(N<<15&4294967295|N>>>17),N=R+(H^(U|~x))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+x&4294967295,M.g[1]=M.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+H&4294967295}a.prototype.u=function(M,x){x===void 0&&(x=M.length);for(var R=x-this.blockSize,I=this.B,U=this.h,H=0;H<x;){if(U==0)for(;H<=R;)o(this,M,H),H+=this.blockSize;if(typeof M=="string"){for(;H<x;)if(I[U++]=M.charCodeAt(H++),U==this.blockSize){o(this,I),U=0;break}}else for(;H<x;)if(I[U++]=M[H++],U==this.blockSize){o(this,I),U=0;break}}this.h=U,this.o+=x},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var x=1;x<M.length-8;++x)M[x]=0;var R=8*this.o;for(x=M.length-8;x<M.length;++x)M[x]=R&255,R/=256;for(this.u(M),M=Array(16),x=R=0;4>x;++x)for(var I=0;32>I;I+=8)M[R++]=this.g[x]>>>I&255;return M};function u(M,x){var R=d;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=x(M)}function h(M,x){this.h=x;for(var R=[],I=!0,U=M.length-1;0<=U;U--){var H=M[U]|0;I&&H==x||(R[U]=H,I=!1)}this.g=R}var d={};function p(M){return-128<=M&&128>M?u(M,function(x){return new h([x|0],0>x?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return j(g(-M));for(var x=[],R=1,I=0;M>=R;I++)x[I]=M/R|0,R*=4294967296;return new h(x,0)}function E(M,x){if(M.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M.charAt(0)=="-")return j(E(M.substring(1),x));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(x,8)),I=T,U=0;U<M.length;U+=8){var H=Math.min(8,M.length-U),N=parseInt(M.substring(U,U+H),x);8>H?(H=g(Math.pow(x,H)),I=I.j(H).add(g(N))):(I=I.j(R),I=I.add(g(N)))}return I}var T=p(0),S=p(1),C=p(16777216);r=h.prototype,r.m=function(){if($(this))return-j(this).m();for(var M=0,x=1,R=0;R<this.g.length;R++){var I=this.i(R);M+=(0<=I?I:4294967296+I)*x,x*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(P(this))return"0";if($(this))return"-"+j(this).toString(M);for(var x=g(Math.pow(M,6)),R=this,I="";;){var U=oe(R,x).g;R=X(R,U.j(x));var H=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=U,P(R))return H+I;for(;6>H.length;)H="0"+H;I=H+I}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function P(M){if(M.h!=0)return!1;for(var x=0;x<M.g.length;x++)if(M.g[x]!=0)return!1;return!0}function $(M){return M.h==-1}r.l=function(M){return M=X(this,M),$(M)?-1:P(M)?0:1};function j(M){for(var x=M.g.length,R=[],I=0;I<x;I++)R[I]=~M.g[I];return new h(R,~M.h).add(S)}r.abs=function(){return $(this)?j(this):this},r.add=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],I=0,U=0;U<=x;U++){var H=I+(this.i(U)&65535)+(M.i(U)&65535),N=(H>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);I=N>>>16,H&=65535,N&=65535,R[U]=N<<16|H}return new h(R,R[R.length-1]&-2147483648?-1:0)};function X(M,x){return M.add(j(x))}r.j=function(M){if(P(this)||P(M))return T;if($(this))return $(M)?j(this).j(j(M)):j(j(this).j(M));if($(M))return j(this.j(j(M)));if(0>this.l(C)&&0>M.l(C))return g(this.m()*M.m());for(var x=this.g.length+M.g.length,R=[],I=0;I<2*x;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var U=0;U<M.g.length;U++){var H=this.i(I)>>>16,N=this.i(I)&65535,pt=M.i(U)>>>16,Ue=M.i(U)&65535;R[2*I+2*U]+=N*Ue,ee(R,2*I+2*U),R[2*I+2*U+1]+=H*Ue,ee(R,2*I+2*U+1),R[2*I+2*U+1]+=N*pt,ee(R,2*I+2*U+1),R[2*I+2*U+2]+=H*pt,ee(R,2*I+2*U+2)}for(I=0;I<x;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=x;I<2*x;I++)R[I]=0;return new h(R,0)};function ee(M,x){for(;(M[x]&65535)!=M[x];)M[x+1]+=M[x]>>>16,M[x]&=65535,x++}function Z(M,x){this.g=M,this.h=x}function oe(M,x){if(P(x))throw Error("division by zero");if(P(M))return new Z(T,T);if($(M))return x=oe(j(M),x),new Z(j(x.g),j(x.h));if($(x))return x=oe(M,j(x)),new Z(j(x.g),x.h);if(30<M.g.length){if($(M)||$(x))throw Error("slowDivide_ only works with positive integers.");for(var R=S,I=x;0>=I.l(M);)R=V(R),I=V(I);var U=ue(R,1),H=ue(I,1);for(I=ue(I,2),R=ue(R,2);!P(I);){var N=H.add(I);0>=N.l(M)&&(U=U.add(R),H=N),I=ue(I,1),R=ue(R,1)}return x=X(M,U.j(x)),new Z(U,x)}for(U=T;0<=M.l(x);){for(R=Math.max(1,Math.floor(M.m()/x.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),H=g(R),N=H.j(x);$(N)||0<N.l(M);)R-=I,H=g(R),N=H.j(x);P(H)&&(H=S),U=U.add(H),M=X(M,N)}return new Z(U,M)}r.A=function(M){return oe(this,M).h},r.and=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],I=0;I<x;I++)R[I]=this.i(I)&M.i(I);return new h(R,this.h&M.h)},r.or=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],I=0;I<x;I++)R[I]=this.i(I)|M.i(I);return new h(R,this.h|M.h)},r.xor=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],I=0;I<x;I++)R[I]=this.i(I)^M.i(I);return new h(R,this.h^M.h)};function V(M){for(var x=M.g.length+1,R=[],I=0;I<x;I++)R[I]=M.i(I)<<1|M.i(I-1)>>>31;return new h(R,M.h)}function ue(M,x){var R=x>>5;x%=32;for(var I=M.g.length-R,U=[],H=0;H<I;H++)U[H]=0<x?M.i(H+R)>>>x|M.i(H+R+1)<<32-x:M.i(H+R);return new h(U,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,J1=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ja=h}).apply(typeof M_<"u"?M_:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eb,fu,tb,wh,ip,nb,rb,ib;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=t(this);function o(c,y){if(y)e:{var v=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var G=c[A];if(!(G in v))break e;v=v[G]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,G={next:function(){if(!A&&v<c.length){var W=v++;return{value:y(W,c[W]),done:!1}}return A=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,A),c.apply(y,G)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,S.apply(null,arguments)}function C(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function P(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,G,W){for(var he=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)he[nt-2]=arguments[nt];return y.prototype[G].apply(A,he)}}function $(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function j(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const G=c.length||0,W=A.length||0;c.length=G+W;for(let he=0;he<W;he++)c[G+he]=A[he]}else c.push(A)}}class X{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ee(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var V=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ue(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function x(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let v,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(v in A)c[v]=A[v];for(let W=0;W<R.length;W++)v=R[W],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function U(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function H(c){d.setTimeout(()=>{throw c},0)}function N(){var c=ke;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class pt{constructor(){this.h=this.g=null}add(y,v){const A=Ue.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ue=new X(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,Ee=!1,ke=new pt,k=()=>{const c=d.Promise.resolve(void 0);Re=()=>{c.then(ae)}};var ae=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){H(v)}var y=Ue;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Ee=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function De(c,y){if(fe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(V){e:{try{oe(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}P(De,fe);var Le={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),We=0;function Fe(c,y,v,A,G){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=G,this.key=++We,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ut(c){this.src=c,this.g={},this.h=0}Ut.prototype.add=function(c,y,v,A,G){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var he=Ct(c,y,A,G);return-1<he?(y=c[he],v||(y.fa=!1)):(y=new Fe(y,this.src,W,!!A,G),y.fa=v,c.push(y)),y};function Un(c,y){var v=y.type;if(v in c.g){var A=c.g[v],G=Array.prototype.indexOf.call(A,y,void 0),W;(W=0<=G)&&Array.prototype.splice.call(A,G,1),W&&(Qe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ct(c,y,v,A){for(var G=0;G<c.length;++G){var W=c[G];if(!W.da&&W.listener==y&&W.capture==!!v&&W.ha==A)return G}return-1}var qn="closure_lm_"+(1e6*Math.random()|0),je={};function qt(c,y,v,A,G){if(Array.isArray(y)){for(var W=0;W<y.length;W++)qt(c,y[W],v,A,G);return null}return v=Gn(v),c&&c[_t]?c.K(y,v,g(A)?!!A.capture:!1,G):Lr(c,y,v,!1,A,G)}function Lr(c,y,v,A,G,W){if(!y)throw Error("Invalid event type");var he=g(G)?!!G.capture:!!G,nt=ea(c);if(nt||(c[qn]=nt=new Ut(c)),v=nt.add(y,v,A,he,W),v.proxy)return v;if(A=wr(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)de||(G=he),G===void 0&&(G=!1),c.addEventListener(y.toString(),A,G);else if(c.attachEvent)c.attachEvent(jn(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function wr(){function c(v){return y.call(c.src,c.listener,v)}const y=mi;return c}function Sr(c,y,v,A,G){if(Array.isArray(y))for(var W=0;W<y.length;W++)Sr(c,y[W],v,A,G);else A=g(A)?!!A.capture:!!A,v=Gn(v),c&&c[_t]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],v=Ct(W,v,A,G),-1<v&&(Qe(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=ea(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ct(y,v,A,G)),(v=-1<c?y[c]:null)&&di(v))}function di(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[_t])Un(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(jn(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=ea(y))?(Un(v,c),v.h==0&&(v.src=null,y[qn]=null)):Qe(c)}}}function jn(c){return c in je?je[c]:je[c]="on"+c}function mi(c,y){if(c.da)c=!0;else{y=new De(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&di(c),c=v.call(A,y)}return c}function ea(c){return c=c[qn],c instanceof Ut?c:null}var rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gn(c){return typeof c=="function"?c:(c[rn]||(c[rn]=function(y){return c.handleEvent(y)}),c[rn])}function gt(){ge.call(this),this.i=new Ut(this),this.M=this,this.F=null}P(gt,ge),gt.prototype[_t]=!0,gt.prototype.removeEventListener=function(c,y,v,A){Sr(this,c,y,v,A)};function jt(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new fe(y,c);else if(y instanceof fe)y.target=y.target||c;else{var G=y;y=new fe(A,c),I(y,G)}if(G=!0,v)for(var W=v.length-1;0<=W;W--){var he=y.g=v[W];G=Kn(he,A,!0,y)&&G}if(he=y.g=c,G=Kn(he,A,!0,y)&&G,G=Kn(he,A,!1,y)&&G,v)for(W=0;W<v.length;W++)he=y.g=v[W],G=Kn(he,A,!1,y)&&G}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)Qe(v[A]);delete c.g[y],c.h--}}this.F=null},gt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},gt.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Kn(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,W=0;W<y.length;++W){var he=y[W];if(he&&!he.da&&he.capture==v){var nt=he.listener,Xt=he.ha||he.src;he.fa&&Un(c.i,he),G=nt.call(Xt,A)!==!1&&G}}return G&&!A.defaultPrevented}function $s(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function zn(c){c.g=$s(()=>{c.g=null,c.i&&(c.i=!1,zn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Qs extends ge{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(c){ge.call(this),this.h=c,this.g={}}P(Ur,ge);var Ar=[];function an(c){ue(c.g,function(y,v){this.g.hasOwnProperty(v)&&di(y)},c),c.g={}}Ur.prototype.N=function(){Ur.aa.N.call(this),an(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ta=d.JSON.stringify,Nn=d.JSON.parse,sn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function pi(){}pi.prototype.h=null;function Ys(c){return c.h||(c.h=c.i())}function Za(){}var tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rr(){fe.call(this,"d")}P(Rr,fe);function Sn(){fe.call(this,"c")}P(Sn,fe);var gn={},jr=null;function na(){return jr=jr||new gt}gn.La="serverreachability";function L(c){fe.call(this,gn.La,c)}P(L,fe);function F(c){const y=na();jt(y,new L(y))}gn.STAT_EVENT="statevent";function Y(c,y){fe.call(this,gn.STAT_EVENT,c),this.stat=y}P(Y,fe);function ne(c){const y=na();jt(y,new Y(y,c))}gn.Ma="timingevent";function me(c,y){fe.call(this,gn.Ma,c),this.size=y}P(me,fe);function xe(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function Te(c,y,v,A,G,W){c.info(function(){if(c.g)if(W)for(var he="",nt=W.split("&"),Xt=0;Xt<nt.length;Xt++){var rt=nt[Xt].split("=");if(1<rt.length){var un=rt[0];rt=rt[1];var Wt=un.split("_");he=2<=Wt.length&&Wt[1]=="type"?he+(un+"="+rt+"&"):he+(un+"=redacted&")}}else he=null;else he=W;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+y+`
`+v+`
`+he})}function we(c,y,v,A,G,W,he){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+y+`
`+v+`
`+W+" "+he})}function pe(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+_e(c,v)+(A?" "+A:"")})}function ve(c,y){c.info(function(){return"TIMEOUT: "+y})}Ae.prototype.info=function(){};function _e(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var G=A[1];if(Array.isArray(G)&&!(1>G.length)){var W=G[0];if(W!="noop"&&W!="stop"&&W!="close")for(var he=1;he<G.length;he++)G[he]=""}}}}return ta(v)}catch{return y}}var Ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ot={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rt;function Et(){}P(Et,pi),Et.prototype.g=function(){return new XMLHttpRequest},Et.prototype.i=function(){return{}},Rt=new Et;function st(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new Ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var On={},$n={};function zt(c,y,v){c.L=1,c.v=ns(Ot(y)),c.m=v,c.P=!0,Gt(c,null)}function Gt(c,y){c.F=Date.now(),ht(c),c.A=Ot(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),_i(v.i,"t",A),c.C=0,v=c.j.J,c.h=new At,c.g=sc(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Qs(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(Ar[0]=G.toString()),G=Ar);for(var W=0;W<G.length;W++){var he=qt(v,G[W],A||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),F(),Te(c.i,c.u,c.A,c.l,c.R,c.m)}st.prototype.ca=function(c){c=c.target;const y=this.M;y&&lr(c)==3?y.j():this.Y(c)},st.prototype.Y=function(c){try{if(c==this.g)e:{const Wt=lr(this.g);var y=this.g.Ba();const wi=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||Zu(this.g)))){this.J||Wt!=4||y==7||(y==8||0>=wi?F(3):F(2)),xr(this);var v=this.g.Z();this.X=v;t:if(nr(this)){var A=Zu(this.g);c="";var G=A.length,W=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ft(this),Ge(this);var he="";break t}this.h.i=new d.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(W&&y==G-1)});A.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=v==200,we(this.i,this.u,this.A,this.l,this.R,Wt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Xt=this.g;if((nt=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(nt)){var rt=nt;break t}}rt=null}if(v=rt)pe(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,on(this,v);else{this.o=!1,this.s=3,ne(12),ft(this),Ge(this);break e}}if(this.P){v=!0;let yn;for(;!this.J&&this.C<he.length;)if(yn=Bn(this,he),yn==$n){Wt==4&&(this.s=4,ne(14),v=!1),pe(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==On){this.s=4,ne(15),pe(this.i,this.l,he,"[Invalid Chunk]"),v=!1;break}else pe(this.i,this.l,yn,null),on(this,yn);if(nr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||he.length!=0||this.h.h||(this.s=1,ne(16),v=!1),this.o=this.o&&v,!v)pe(this.i,this.l,he,"[Invalid Chunked Response]"),ft(this),Ge(this);else if(0<he.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),us(un),un.M=!0,ne(11))}}else pe(this.i,this.l,he,null),on(this,he);Wt==4&&ft(this),this.o&&!this.J&&(Wt==4?rc(this.j,this):(this.o=!1,ht(this)))}else Of(this.g),v==400&&0<he.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),ft(this),Ge(this)}}}catch{}finally{}};function nr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Bn(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?$n:(v=Number(y.substring(v,A)),isNaN(v)?On:(A+=1,A+v>y.length?$n:(y=y.slice(A,A+v),c.C=A+v,y)))}st.prototype.cancel=function(){this.J=!0,ft(this)};function ht(c){c.S=Date.now()+c.I,zr(c,c.I)}function zr(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xe(S(c.ba,c),y)}function xr(c){c.B&&(d.clearTimeout(c.B),c.B=null)}st.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ve(this.i,this.A),this.L!=2&&(F(),ne(17)),ft(this),this.s=2,Ge(this)):zr(this,this.S-c)};function Ge(c){c.j.G==0||c.J||rc(c.j,c)}function ft(c){xr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,an(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function on(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Br(v.h,c))){if(!c.K&&Br(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ao(v),ro(v);else break e;pl(v),ne(18)}}else v.za=G[1],0<v.za-v.T&&37500>G[2]&&v.F&&v.v==0&&!v.C&&(v.C=xe(S(v.Za,v),6e3));if(1>=Ja(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ti(v,11)}else if((c.K||v.g==c)&&ao(v),!ee(y))for(G=v.Da.g.parse(y),y=0;y<G.length;y++){let rt=G[y];if(v.T=rt[0],rt=rt[1],v.G==2)if(rt[0]=="c"){v.K=rt[1],v.ia=rt[2];const un=rt[3];un!=null&&(v.la=un,v.j.info("VER="+v.la));const Wt=rt[4];Wt!=null&&(v.Aa=Wt,v.j.info("SVER="+v.Aa));const wi=rt[5];wi!=null&&typeof wi=="number"&&0<wi&&(A=1.5*wi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const yn=c.g;if(yn){const Qr=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var W=A.h;W.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ra(W,W.h),W.h=null))}if(A.D){const yl=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(A.ya=yl,lt(A.I,A.D,yl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var he=c;if(A.qa=ac(A,A.J?A.ia:null,A.W),he.K){ir(A.h,he);var nt=he,Xt=A.L;Xt&&(nt.I=Xt),nt.B&&(xr(nt),ht(nt)),A.g=he}else tc(A);0<v.i.length&&io(v)}else rt[0]!="stop"&&rt[0]!="close"||Ti(v,7);else v.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Ti(v,7):dl(v):rt[0]!="noop"&&v.l&&v.l.ta(rt),v.v=0)}}F(4)}catch{}}var gi=class{constructor(c,y){this.g=c,this.map=y}};function Tt(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ja(c){return c.h?1:c.g?c.g.size:0}function Br(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ra(c,y){c.g?c.g.add(y):c.h=y}function ir(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Tt.prototype.cancel=function(){if(this.i=Mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Mn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return $(c.i)}function Qu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function Cf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function es(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Cf(c),A=Qu(c),G=A.length,W=0;W<G;W++)y.call(void 0,A[W],v&&v[W],c)}var ol=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xs(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),G=null;if(0<=A){var W=c[v].substring(0,A);G=c[v].substring(A+1)}else W=c[v];y(W,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function yi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yi){this.h=c.h,ia(this,c.j),this.o=c.o,this.g=c.g,ts(this,c.s),this.l=c.l;var y=c.i,v=new Hr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ws(this,v),this.m=c.m}else c&&(y=String(c).match(ol))?(this.h=!1,ia(this,y[1]||"",!0),this.o=aa(y[2]||""),this.g=aa(y[3]||"",!0),ts(this,y[4]),this.l=aa(y[5]||"",!0),Ws(this,y[6]||"",!0),this.m=aa(y[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}yi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ar(y,ll,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ar(y,ll,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ar(v,v.charAt(0)=="/"?ul:Yu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ar(v,Nf)),c.join("")};function Ot(c){return new yi(c)}function ia(c,y,v){c.j=v?aa(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ts(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ws(c,y,v){y instanceof Hr?(c.i=y,cl(c.i,c.h)):(v||(y=ar(y,Df)),c.i=new Hr(y,c.h))}function lt(c,y,v){c.i.set(y,v)}function ns(c){return lt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function aa(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ar(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,If),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function If(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ll=/[#\/\?@]/g,Yu=/[#\?:]/g,ul=/[#\?]/g,Df=/[#\?@]/g,Nf=/#/g;function Hr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function sr(c){c.g||(c.g=new Map,c.h=0,c.i&&Xs(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Hr.prototype,r.add=function(c,y){sr(this),this.i=null,c=Ei(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Zs(c,y){sr(c),y=Ei(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function vi(c,y){return sr(c),y=Ei(c,y),c.g.has(y)}r.forEach=function(c,y){sr(this),this.g.forEach(function(v,A){v.forEach(function(G){c.call(y,G,A,this)},this)},this)},r.na=function(){sr(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const G=c[A];for(let W=0;W<G.length;W++)v.push(y[A])}return v},r.V=function(c){sr(this);let y=[];if(typeof c=="string")vi(this,c)&&(y=y.concat(this.g.get(Ei(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return sr(this),this.i=null,c=Ei(this,c),vi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function _i(c,y,v){Zs(c,y),0<v.length&&(c.i=null,c.g.set(Ei(c,y),$(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const W=encodeURIComponent(String(A)),he=this.V(A);for(A=0;A<he.length;A++){var G=W;he[A]!==""&&(G+="="+encodeURIComponent(String(he[A]))),c.push(G)}}return this.i=c.join("&")};function Ei(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function cl(c,y){y&&!c.j&&(sr(c),c.i=null,c.g.forEach(function(v,A){var G=A.toLowerCase();A!=G&&(Zs(this,A),_i(this,G,v))},c)),c.j=y}function Xu(c,y){const v=new Ae;if(d.Image){const A=new Image;A.onload=C(or,v,"TestLoadImage: loaded",!0,y,A),A.onerror=C(or,v,"TestLoadImage: error",!1,y,A),A.onabort=C(or,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=C(or,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function rs(c,y){const v=new Ae,A=new AbortController,G=setTimeout(()=>{A.abort(),or(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(W=>{clearTimeout(G),W.ok?or(v,"TestPingServer: ok",!0,y):or(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),or(v,"TestPingServer: error",!1,y)})}function or(c,y,v,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(v)}catch{}}function is(){this.g=new sn}function Fr(c,y,v){const A=v||"";try{es(c,function(G,W){let he=G;g(G)&&(he=ta(G)),y.push(A+W+"="+encodeURIComponent(he))})}catch(G){throw y.push(A+"type="+encodeURIComponent("_badmap")),G}}function sa(c){this.l=c.Ub||null,this.j=c.eb||!1}P(sa,pi),sa.prototype.g=function(){return new bi(this.l,this.j)},sa.prototype.i=function(c){return function(){return c}}({});function bi(c,y){gt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(bi,gt),r=bi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Gr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function hl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?qr(this):Gr(this),this.readyState==3&&hl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,qr(this))},r.Qa=function(c){this.g&&(this.response=c,qr(this))},r.ga=function(){this.g&&qr(this)};function qr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Gr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Gr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function fl(c){let y="";return ue(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function ln(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=fl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):lt(c,y,v))}function dt(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(dt,gt);var Js=/^https?$/i,as=["POST","PUT"];r=dt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rt.g(),this.v=this.o?Ys(this.o):Ys(Rt),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){Wu(this,W);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)v.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())v.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),G=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(as,y,void 0))||A||G||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,he]of v)this.g.setRequestHeader(W,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){Wu(this,W)}};function Wu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,eo(c),Kr(c)}function eo(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,jt(this,"complete"),jt(this,"abort"),Kr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kr(this,!0)),dt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?to(this):this.bb())},r.bb=function(){to(this)};function to(c){if(c.h&&typeof h<"u"&&(!c.v[1]||lr(c)!=4||c.Z()!=2)){if(c.u&&lr(c)==4)$s(c.Ea,0,c);else if(jt(c,"readystatechange"),lr(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=he===0){var G=String(c.D).match(ol)[1]||null;!G&&d.self&&d.self.location&&(G=d.self.location.protocol.slice(0,-1)),A=!Js.test(G?G.toLowerCase():"")}v=A}if(v)jt(c,"complete"),jt(c,"success");else{c.m=6;try{var W=2<lr(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",eo(c)}}finally{Kr(c)}}}}function Kr(c,y){if(c.g){ss(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||jt(c,"ready");try{v.onreadystatechange=A}catch{}}}function ss(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function lr(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Nn(y)}};function Zu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Of(c){const y={};c=(c.g&&2<=lr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ee(c[A]))continue;var v=U(c[A]);const G=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=y[G]||[];y[G]=W,W.push(v)}M(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function no(c){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=os("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=os("baseRetryDelayMs",5e3,c),this.cb=os("retryDelaySeedMs",1e4,c),this.Wa=os("forwardChannelMaxRetries",2,c),this.wa=os("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Tt(c&&c.concurrentRequestLimit),this.Da=new is,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=no.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,A){ne(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=ac(this,null,this.W),io(this)};function dl(c){if(Ju(c),c.G==3){var y=c.U++,v=Ot(c.I);if(lt(v,"SID",c.K),lt(v,"RID",y),lt(v,"TYPE","terminate"),ls(c,v),y=new st(c,c.j,y),y.L=2,y.v=ns(Ot(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=sc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ht(y)}ic(c)}function ro(c){c.g&&(us(c),c.g.cancel(),c.g=null)}function Ju(c){ro(c),c.u&&(d.clearTimeout(c.u),c.u=null),ao(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function io(c){if(!rr(c.h)&&!c.s){c.s=!0;var y=c.Ga;Re||k(),Ee||(Re(),Ee=!0),ke.add(y,c),c.B=0}}function Mf(c,y){return Ja(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xe(S(c.Ga,c,y),gl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new st(this,this.j,c);let W=this.o;if(this.S&&(W?(W=x(W),I(W,this.S)):W=this.S),this.m!==null||this.O||(G.H=W,W=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ec(this,G,y),v=Ot(this.I),lt(v,"RID",c),lt(v,"CVER",22),this.D&&lt(v,"X-HTTP-Session-Id",this.D),ls(this,v),W&&(this.O?y="headers="+encodeURIComponent(String(fl(W)))+"&"+y:this.m&&ln(v,this.m,W)),ra(this.h,G),this.Ua&&lt(v,"TYPE","init"),this.P?(lt(v,"$req",y),lt(v,"SID","null"),G.T=!0,zt(G,v,null)):zt(G,v,y),this.G=2}}else this.G==3&&(c?ml(this,c):this.i.length==0||rr(this.h)||ml(this))};function ml(c,y){var v;y?v=y.l:v=c.U++;const A=Ot(c.I);lt(A,"SID",c.K),lt(A,"RID",v),lt(A,"AID",c.T),ls(c,A),c.m&&c.o&&ln(A,c.m,c.o),v=new st(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ec(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ra(c.h,v),zt(v,A,y)}function ls(c,y){c.H&&ue(c.H,function(v,A){lt(y,A,v)}),c.l&&es({},function(v,A){lt(y,A,v)})}function ec(c,y,v){v=Math.min(c.i.length,v);var A=c.l?S(c.l.Na,c.l,c):null;e:{var G=c.i;let W=-1;for(;;){const he=["count="+v];W==-1?0<v?(W=G[0].g,he.push("ofs="+W)):W=0:he.push("ofs="+W);let nt=!0;for(let Xt=0;Xt<v;Xt++){let rt=G[Xt].g;const un=G[Xt].map;if(rt-=W,0>rt)W=Math.max(0,G[Xt].g-100),nt=!1;else try{Fr(un,he,"req"+rt+"_")}catch{A&&A(un)}}if(nt){A=he.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function tc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Re||k(),Ee||(Re(),Ee=!0),ke.add(y,c),c.v=0}}function pl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xe(S(c.Fa,c),gl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,nc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xe(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),ro(this),nc(this))};function us(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function nc(c){c.g=new st(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Ot(c.qa);lt(y,"RID","rpc"),lt(y,"SID",c.K),lt(y,"AID",c.T),lt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&lt(y,"TO",c.ja),lt(y,"TYPE","xmlhttp"),ls(c,y),c.m&&c.o&&ln(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ns(Ot(y)),v.m=null,v.P=!0,Gt(v,c)}r.Za=function(){this.C!=null&&(this.C=null,ro(this),pl(this),ne(19))};function ao(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function rc(c,y){var v=null;if(c.g==y){ao(c),us(c),c.g=null;var A=2}else if(Br(c.h,y))v=y.D,ir(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var G=c.B;A=na(),jt(A,new me(A,v)),io(c)}else tc(c);else if(G=y.s,G==3||G==0&&0<y.X||!(A==1&&Mf(c,y)||A==2&&pl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),G){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function gl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Ti(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),A=c.Xa;const G=!A;A=new yi(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ia(A,"https"),ns(A),G?Xu(A.toString(),v):rs(A.toString(),v)}else ne(2);c.G=0,c.l&&c.l.sa(y),ic(c),Ju(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function ic(c){if(c.G=0,c.ka=[],c.l){const y=Mn(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function ac(c,y,v){var A=v instanceof yi?Ot(v):new yi(v);if(A.g!="")y&&(A.g=y+"."+A.g),ts(A,A.s);else{var G=d.location;A=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var W=new yi(null);A&&ia(W,A),y&&(W.g=y),G&&ts(W,G),v&&(W.l=v),A=W}return v=c.D,y=c.ya,v&&y&&lt(A,v,y),lt(A,"VER",c.la),ls(c,A),A}function sc(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new dt(new sa({eb:v})):new dt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}r=oc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function so(){}so.prototype.g=function(c,y){return new Pn(c,y)};function Pn(c,y){gt.call(this),this.g=new no(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ee(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ee(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new $r(this)}P(Pn,gt),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){dl(this.g)},Pn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=ta(c),c=v);y.i.push(new gi(y.Ya++,c)),y.G==3&&io(y)},Pn.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,Pn.aa.N.call(this)};function lc(c){Rr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(lc,Rr);function uc(){Sn.call(this),this.status=1}P(uc,Sn);function $r(c){this.g=c}P($r,oc),$r.prototype.ua=function(){jt(this.g,"a")},$r.prototype.ta=function(c){jt(this.g,new lc(c))},$r.prototype.sa=function(c){jt(this.g,new uc)},$r.prototype.ra=function(){jt(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,ib=function(){return new so},rb=function(){return na()},nb=gn,ip={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ne.NO_ERROR=0,Ne.TIMEOUT=8,Ne.HTTP_ERROR=6,wh=Ne,ot.COMPLETE="complete",tb=ot,Za.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",gt.prototype.listen=gt.prototype.K,fu=Za,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,eb=dt}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});const P_="@firebase/firestore",V_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Pp("@firebase/firestore");function Vo(){return Us.logLevel}function ye(r,...e){if(Us.logLevel<=Ze.DEBUG){const t=e.map(Kp);Us.debug(`Firestore (${rl}): ${r}`,...t)}}function Qi(r,...e){if(Us.logLevel<=Ze.ERROR){const t=e.map(Kp);Us.error(`Firestore (${rl}): ${r}`,...t)}}function Ko(r,...e){if(Us.logLevel<=Ze.WARN){const t=e.map(Kp);Us.warn(`Firestore (${rl}): ${r}`,...t)}}function Kp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(r="Unexpected state"){const e=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: `+r;throw Qi(e),new Error(e)}function mt(r,e){r||Ve()}function He(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Zi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Cn.UNAUTHENTICATED))}shutdown(){}}class D4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class N4{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mt(this.o===void 0);let a=this.i;const o=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let u=new za;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new za,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new za)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(mt(typeof a.accessToken=="string"),new ab(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string"),new Cn(e)}}class O4{constructor(e,t,a){this.l=e,this.h=t,this.P=a,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class M4{constructor(e,t,a){this.l=e,this.h=t,this.P=a}getToken(){return Promise.resolve(new O4(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P4{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Er(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){mt(this.o===void 0);const a=u=>{u.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ye("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new k_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt(typeof t.token=="string"),this.R=t.token,new k_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<r;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=V4(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<t&&(a+=e.charAt(o[u]%62))}return a}}function $e(r,e){return r<e?-1:r>e?1:0}function ap(r,e){let t=0;for(;t<r.length&&t<e.length;){const a=r.codePointAt(t),o=e.codePointAt(t);if(a!==o){if(a<128&&o<128)return $e(a,o);{const u=sb(),h=k4(u.encode(L_(r,t)),u.encode(L_(e,t)));return h!==0?h:$e(a,o)}}t+=a>65535?2:1}return $e(r.length,e.length)}function L_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function k4(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return $e(r[t],e[t]);return $e(r.length,e.length)}function $o(r,e,t){return r.length===e.length&&r.every((a,o)=>t(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=-62135596800,j_=1e6;class tn{static now(){return tn.fromMillis(Date.now())}static fromDate(e){return tn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*j_);return new tn(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<U_)throw new Ie(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j_}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-U_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new tn(0,0))}static max(){return new ze(new tn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="__name__";class ei{constructor(e,t,a){t===void 0?t=0:t>e.length&&Ve(),a===void 0?a=e.length-t:a>e.length-t&&Ve(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const u=ei.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return $e(e.length,t.length)}static compareSegments(e,t){const a=ei.isNumericId(e),o=ei.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?ei.extractNumericId(e).compare(ei.extractNumericId(t)):ap(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ja.fromString(e.substring(4,e.length-2))}}class xt extends ei{construct(e,t,a){return new xt(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ie(le.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(o=>o.length>0))}return new xt(t)}static emptyPath(){return new xt([])}}const L4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends ei{construct(e,t,a){return new Tn(e,t,a)}static isValidIdentifier(e){return L4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z_}static keyField(){return new Tn([z_])}static fromServerFormat(e){const t=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Ie(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Ie(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ie(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(a+=d,o++):(u(),o++)}if(u(),h)throw new Ie(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(t)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(xt.fromString(e))}static fromName(e){return new Oe(xt.fromString(e).popFirst(5))}static empty(){return new Oe(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=-1;function U4(r,e){const t=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=ze.fromTimestamp(a===1e9?new tn(t+1,0):new tn(t,a));return new Fa(o,Oe.empty(),e)}function j4(r){return new Fa(r.readTime,r.key,Ru)}class Fa{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new Fa(ze.min(),Oe.empty(),Ru)}static max(){return new Fa(ze.max(),Oe.empty(),Ru)}}function z4(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Oe.comparator(r.documentKey,e.documentKey),t!==0?t:$e(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(r){if(r.code!==le.FAILED_PRECONDITION||r.message!==B4)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(a,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,a)=>{t(e)})}static reject(e){return new ie((t,a)=>{a(e)})}static waitFor(e){return new ie((t,a)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},p=>a(p))}),h=!0,u===o&&t()})}static or(e){let t=ie.resolve(!1);for(const a of e)t=t.next(o=>o?ie.resolve(o):a());return t}static forEach(e,t){const a=[];return e.forEach((o,u)=>{a.push(t.call(this,o,u))}),this.waitFor(a)}static mapArray(e,t){return new ie((a,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++d,d===u&&a(h)},E=>o(E))}})}static doWhile(e,t){return new ie((a,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):a()};u()})}}function F4(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function al(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.oe(a),this._e=a=>t.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ff.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=-1;function df(r){return r==null}function Bh(r){return r===0&&1/r==-1/0}function q4(r){return typeof r=="number"&&Number.isInteger(r)&&!Bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="";function G4(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=B_(e)),e=K4(r.get(t),e);return B_(e)}function K4(r,e){let t=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case lb:t+="";break;default:t+=u}}return t}function B_(r){return r+lb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Hs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function ub(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,t){this.comparator=e,this.root=t||bn.EMPTY}insert(e,t){return new Nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?a(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,t,a,o,u){this.key=e,this.value=t,this.color=a??bn.RED,this.left=o??bn.EMPTY,this.right=u??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,u){return new bn(e??this.key,t??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,a),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return bn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,t,a,o,u){return this}insert(e,t,a){return new bn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new F_(this.data.getIterator())}getIteratorFrom(e){return new F_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class F_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new Mr([])}unionWith(e){let t=new nn(Tn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Mr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cb("Invalid base64 string: "+u):u}}(e);return new wn(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new wn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const $4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(r){if(mt(!!r),typeof r=="string"){let e=0;const t=$4.exec(r);if(mt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ht(r.seconds),nanos:Ht(r.nanos)}}function Ht(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ga(r){return typeof r=="string"?wn.fromBase64String(r):wn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="server_timestamp",fb="__type__",db="__previous_value__",mb="__local_write_time__";function Qp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[fb])===null||t===void 0?void 0:t.stringValue)===hb}function mf(r){const e=r.mapValue.fields[db];return Qp(e)?mf(e):e}function xu(r){const e=qa(r.mapValue.fields[mb].timestampValue);return new tn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,t,a,o,u,h,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Hh="(default)";class Cu{constructor(e,t){this.projectId=e,this.database=t||Hh}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===Hh}isEqual(e){return e instanceof Cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="__type__",Y4="__max__",fh={mapValue:{}},gb="__vector__",Fh="value";function Ka(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qp(r)?4:W4(r)?9007199254740991:X4(r)?10:11:Ve()}function oi(r,e){if(r===e)return!0;const t=Ka(r);if(t!==Ka(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return xu(r).isEqual(xu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=qa(o.timestampValue),d=qa(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Ga(o.bytesValue).isEqual(Ga(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Ht(o.geoPointValue.latitude)===Ht(u.geoPointValue.latitude)&&Ht(o.geoPointValue.longitude)===Ht(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ht(o.integerValue)===Ht(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ht(o.doubleValue),d=Ht(u.doubleValue);return h===d?Bh(h)===Bh(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return $o(r.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(H_(h)!==H_(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!oi(h[p],d[p])))return!1;return!0}(r,e);default:return Ve()}}function Iu(r,e){return(r.values||[]).find(t=>oi(t,e))!==void 0}function Qo(r,e){if(r===e)return 0;const t=Ka(r),a=Ka(e);if(t!==a)return $e(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(r.booleanValue,e.booleanValue);case 2:return function(u,h){const d=Ht(u.integerValue||u.doubleValue),p=Ht(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return q_(r.timestampValue,e.timestampValue);case 4:return q_(xu(r),xu(e));case 5:return ap(r.stringValue,e.stringValue);case 6:return function(u,h){const d=Ga(u),p=Ga(h);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=$e(d[g],p[g]);if(E!==0)return E}return $e(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const d=$e(Ht(u.latitude),Ht(h.latitude));return d!==0?d:$e(Ht(u.longitude),Ht(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return G_(r.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,g,E;const T=u.fields||{},S=h.fields||{},C=(d=T[Fh])===null||d===void 0?void 0:d.arrayValue,P=(p=S[Fh])===null||p===void 0?void 0:p.arrayValue,$=$e(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:G_(C,P)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===fh.mapValue&&h===fh.mapValue)return 0;if(u===fh.mapValue)return 1;if(h===fh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const S=ap(p[T],E[T]);if(S!==0)return S;const C=Qo(d[p[T]],g[E[T]]);if(C!==0)return C}return $e(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Ve()}}function q_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return $e(r,e);const t=qa(r),a=qa(e),o=$e(t.seconds,a.seconds);return o!==0?o:$e(t.nanos,a.nanos)}function G_(r,e){const t=r.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const u=Qo(t[o],a[o]);if(u)return u}return $e(t.length,a.length)}function Yo(r){return sp(r)}function sp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const a=qa(t);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ga(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Oe.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let a="[",o=!0;for(const u of t.values||[])o?o=!1:a+=",",a+=sp(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(t){const a=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${sp(t.fields[h])}`;return o+"}"}(r.mapValue):Ve()}function Sh(r){switch(Ka(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(r);return e?16+Sh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ga(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Sh(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Hs(a.fields,(u,h)=>{o+=u.length+Sh(h)}),o}(r.mapValue);default:throw Ve()}}function op(r){return!!r&&"integerValue"in r}function Yp(r){return!!r&&"arrayValue"in r}function K_(r){return!!r&&"nullValue"in r}function $_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ah(r){return!!r&&"mapValue"in r}function X4(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[pb])===null||t===void 0?void 0:t.stringValue)===gb}function yu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Hs(r.mapValue.fields,(t,a)=>e.mapValue.fields[t]=yu(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function W4(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Y4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Ah(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(t)}setAll(e){let t=Tn.emptyPath(),a={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,a,o),a={},o=[],t=d.popLast()}h?a[d.lastSegment()]=yu(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,a,o)}delete(e){const t=this.field(e.popLast());Ah(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];Ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){Hs(t,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new br(yu(this.value))}}function yb(r){const e=[];return Hs(r.fields,(t,a)=>{const o=new Tn([t]);if(Ah(a)){const u=yb(a.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,t,a,o,u,h,d){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new In(e,0,ze.min(),ze.min(),ze.min(),br.empty(),0)}static newFoundDocument(e,t,a,o){return new In(e,1,t,ze.min(),a,o,0)}static newNoDocument(e,t){return new In(e,2,t,ze.min(),ze.min(),br.empty(),0)}static newUnknownDocument(e,t){return new In(e,3,t,ze.min(),ze.min(),br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t){this.position=e,this.inclusive=t}}function Q_(r,e,t){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?a=Oe.comparator(Oe.fromName(h.referenceValue),t.key):a=Qo(h,t.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Y_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!oi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Z4(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{}class en extends vb{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new eI(e,t,a):t==="array-contains"?new rI(e,a):t==="in"?new iI(e,a):t==="not-in"?new aI(e,a):t==="array-contains-any"?new sI(e,a):new en(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new tI(e,a):new nI(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Qo(t,this.value)):t!==null&&Ka(this.value)===Ka(t)&&this.matchesComparison(Qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends vb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new li(e,t)}matches(e){return _b(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function _b(r){return r.op==="and"}function Eb(r){return J4(r)&&_b(r)}function J4(r){for(const e of r.filters)if(e instanceof li)return!1;return!0}function lp(r){if(r instanceof en)return r.field.canonicalString()+r.op.toString()+Yo(r.value);if(Eb(r))return r.filters.map(e=>lp(e)).join(",");{const e=r.filters.map(t=>lp(t)).join(",");return`${r.op}(${e})`}}function bb(r,e){return r instanceof en?function(a,o){return o instanceof en&&a.op===o.op&&a.field.isEqual(o.field)&&oi(a.value,o.value)}(r,e):r instanceof li?function(a,o){return o instanceof li&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,d)=>u&&bb(h,o.filters[d]),!0):!1}(r,e):void Ve()}function Tb(r){return r instanceof en?function(t){return`${t.field.canonicalString()} ${t.op} ${Yo(t.value)}`}(r):r instanceof li?function(t){return t.op.toString()+" {"+t.getFilters().map(Tb).join(" ,")+"}"}(r):"Filter"}class eI extends en{constructor(e,t,a){super(e,t,a),this.key=Oe.fromName(a.referenceValue)}matches(e){const t=Oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class tI extends en{constructor(e,t){super(e,"in",t),this.keys=wb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nI extends en{constructor(e,t){super(e,"not-in",t),this.keys=wb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wb(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(a=>Oe.fromName(a.referenceValue))}class rI extends en{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yp(t)&&Iu(t.arrayValue,this.value)}}class iI extends en{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Iu(this.value.arrayValue,t)}}class aI extends en{constructor(e,t){super(e,"not-in",t)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Iu(this.value.arrayValue,t)}}class sI extends en{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>Iu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,t=null,a=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function X_(r,e=null,t=[],a=[],o=null,u=null,h=null){return new oI(r,e,t,a,o,u,h)}function Xp(r){const e=He(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>lp(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),df(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Yo(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Yo(a)).join(",")),e.le=t}return e.le}function Wp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Z4(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!bb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Y_(r.startAt,e.startAt)&&Y_(r.endAt,e.endAt)}function up(r){return Oe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t=null,a=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function lI(r,e,t,a,o,u,h,d){return new pf(r,e,t,a,o,u,h,d)}function Zp(r){return new pf(r)}function W_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uI(r){return r.collectionGroup!==null}function vu(r){const e=He(r);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new nn(Tn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Gh(u,a))}),t.has(Tn.keyField().canonicalString())||e.he.push(new Gh(Tn.keyField(),a))}return e.he}function ii(r){const e=He(r);return e.Pe||(e.Pe=cI(e,vu(r))),e.Pe}function cI(r,e){if(r.limitType==="F")return X_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Gh(o.field,u)});const t=r.endAt?new qh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new qh(r.startAt.position,r.startAt.inclusive):null;return X_(r.path,r.collectionGroup,e,r.filters,r.limit,t,a)}}function cp(r,e,t){return new pf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function gf(r,e){return Wp(ii(r),ii(e))&&r.limitType===e.limitType}function Sb(r){return`${Xp(ii(r))}|lt:${r.limitType}`}function ko(r){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(o=>Tb(o)).join(", ")}]`),df(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(o=>Yo(o)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(o=>Yo(o)).join(",")),`Target(${a})`}(ii(r))}; limitType=${r.limitType})`}function yf(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Oe.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of vu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(h,d,p){const g=Q_(h,d,p);return h.inclusive?g<=0:g<0}(a.startAt,vu(a),o)||a.endAt&&!function(h,d,p){const g=Q_(h,d,p);return h.inclusive?g>=0:g>0}(a.endAt,vu(a),o))}(r,e)}function hI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ab(r){return(e,t)=>{let a=!1;for(const o of vu(r)){const u=fI(o,e,t);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function fI(r,e,t){const a=r.field.isKeyField()?Oe.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Qo(p,g):Ve()}(r.field,e,t);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(t,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return ub(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new Nt(Oe.comparator);function Yi(){return dI}const Rb=new Nt(Oe.comparator);function du(...r){let e=Rb;for(const t of r)e=e.insert(t.key,t);return e}function xb(r){let e=Rb;return r.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function Ns(){return _u()}function Cb(){return _u()}function _u(){return new Fs(r=>r.toString(),(r,e)=>r.isEqual(e))}const mI=new Nt(Oe.comparator),pI=new nn(Oe.comparator);function et(...r){let e=pI;for(const t of r)e=e.add(t);return e}const gI=new nn($e);function yI(){return gI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function Ib(r){return{integerValue:""+r}}function vI(r,e){return q4(e)?Ib(e):Jp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this._=void 0}}function _I(r,e,t){return r instanceof Kh?function(o,u){const h={fields:{[fb]:{stringValue:hb},[mb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qp(u)&&(u=mf(u)),u&&(h.fields[db]=u),{mapValue:h}}(t,e):r instanceof Du?Nb(r,e):r instanceof Nu?Ob(r,e):function(o,u){const h=Db(o,u),d=Z_(h)+Z_(o.Ie);return op(h)&&op(o.Ie)?Ib(d):Jp(o.serializer,d)}(r,e)}function EI(r,e,t){return r instanceof Du?Nb(r,e):r instanceof Nu?Ob(r,e):t}function Db(r,e){return r instanceof $h?function(a){return op(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Kh extends vf{}class Du extends vf{constructor(e){super(),this.elements=e}}function Nb(r,e){const t=Mb(e);for(const a of r.elements)t.some(o=>oi(o,a))||t.push(a);return{arrayValue:{values:t}}}class Nu extends vf{constructor(e){super(),this.elements=e}}function Ob(r,e){let t=Mb(e);for(const a of r.elements)t=t.filter(o=>!oi(o,a));return{arrayValue:{values:t}}}class $h extends vf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Z_(r){return Ht(r.integerValue||r.doubleValue)}function Mb(r){return Yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function bI(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Du&&o instanceof Du||a instanceof Nu&&o instanceof Nu?$o(a.elements,o.elements,oi):a instanceof $h&&o instanceof $h?oi(a.Ie,o.Ie):a instanceof Kh&&o instanceof Kh}(r.transform,e.transform)}class TI{constructor(e,t){this.version=e,this.transformResults=t}}class ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _f{}function Pb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new eg(r.key,ai.none()):new zu(r.key,r.data,ai.none());{const t=r.data,a=br.empty();let o=new nn(Tn.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new qs(r.key,a,new Mr(o.toArray()),ai.none())}}function wI(r,e,t){r instanceof zu?function(o,u,h){const d=o.value.clone(),p=eE(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof qs?function(o,u,h){if(!Rh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=eE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Vb(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Eu(r,e,t,a){return r instanceof zu?function(u,h,d,p){if(!Rh(u.precondition,h))return d;const g=u.value.clone(),E=tE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,a):r instanceof qs?function(u,h,d,p){if(!Rh(u.precondition,h))return d;const g=tE(u.fieldTransforms,p,h),E=h.data;return E.setAll(Vb(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,e,t,a):function(u,h,d){return Rh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function SI(r,e){let t=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=Db(a.transform,o||null);u!=null&&(t===null&&(t=br.empty()),t.set(a.field,u))}return t||null}function J_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&$o(a,o,(u,h)=>bI(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class zu extends _f{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class qs extends _f{constructor(e,t,a,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Vb(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=r.data.field(t);e.set(t,a)}}),e}function eE(r,e,t){const a=new Map;mt(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,d=e.data.field(u.field);a.set(u.field,EI(h,d,t[o]))}return a}function tE(r,e,t){const a=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);a.set(o.field,_I(u,h,e))}return a}class eg extends _f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AI extends _f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&wI(u,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=Eu(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=Eu(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=Cb();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=Pb(h,d);p!==null&&a.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(ze.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),et())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,(t,a)=>J_(t,a))&&$o(this.baseMutations,e.baseMutations,(t,a)=>J_(t,a))}}class tg{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){mt(e.mutations.length===a.length);let o=function(){return mI}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new tg(e,t,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,at;function II(r){switch(r){case le.OK:return Ve();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ve()}}function kb(r){if(r===void 0)return Qi("GRPC error has no .code"),le.UNKNOWN;switch(r){case Yt.OK:return le.OK;case Yt.CANCELLED:return le.CANCELLED;case Yt.UNKNOWN:return le.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return le.INTERNAL;case Yt.UNAVAILABLE:return le.UNAVAILABLE;case Yt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Yt.NOT_FOUND:return le.NOT_FOUND;case Yt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Yt.ABORTED:return le.ABORTED;case Yt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Yt.DATA_LOSS:return le.DATA_LOSS;default:return Ve()}}(at=Yt||(Yt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new ja([4294967295,4294967295],0);function nE(r){const e=sb().encode(r),t=new J1;return t.update(e),new Uint8Array(t.digest())}function rE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ja([t,a],0),new ja([o,u],0)]}class ng{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new mu(`Invalid padding: ${t}`);if(a<0)throw new mu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new mu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ja.fromNumber(this.Ee)}Ae(e,t,a){let o=e.add(t.multiply(ja.fromNumber(a)));return o.compare(DI)===1&&(o=new ja([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=nE(e),[a,o]=rE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(a,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new ng(u,o,t);return a.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=nE(e),[a,o]=rE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(a,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t,a,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Ef(ze.min(),o,new Nt($e),Yi(),et())}}class Bu{constructor(e,t,a,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Bu(a,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t,a,o){this.me=e,this.removedTargetIds=t,this.key=a,this.fe=o}}class Lb{constructor(e,t){this.targetId=e,this.ge=t}}class Ub{constructor(e,t,a=wn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class iE{constructor(){this.pe=0,this.ye=aE(),this.we=wn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=et(),t=et(),a=et();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:Ve()}}),new Bu(this.we,this.Se,e,t,a)}Me(){this.be=!1,this.ye=aE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,mt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class NI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Yi(),this.$e=dh(),this.Ue=dh(),this.Ke=new Nt($e)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const a=this.He(t);switch(e.state){case 0:this.Je(t)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(t);break;case 3:this.Je(t)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),a.Ce(e.resumeToken));break;default:Ve()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((a,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,a=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(up(u))if(a===0){const h=new Oe(u.path);this.ze(t,h,In.newNoDocument(h,ze.min()))}else mt(a===1);else{const h=this.et(t);if(h!==a){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=Ga(a).toUint8Array()}catch(p){if(p instanceof cb)return Ko("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new ng(h,o,u)}catch(p){return Ko(p instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,a){return t.ge.count===a-this.st(e,t.targetId)?0:2}st(e,t){const a=this.ke.getRemoteKeysForTarget(t);let o=0;return a.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&up(d.target)){const p=new Oe(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,In.newNoDocument(p,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let a=et();this.Ue.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new Ef(e,t,this.Ke,this.Qe,a);return this.Qe=Yi(),this.$e=dh(),this.Ue=dh(),this.Ke=new Nt($e),o}Ge(e,t){if(!this.Je(e))return;const a=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,a),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),a&&(this.Qe=this.Qe.insert(t,a))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new iE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new nn($e),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new nn($e),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new iE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function dh(){return new Nt(Oe.comparator)}function aE(){return new Nt(Oe.comparator)}const OI={asc:"ASCENDING",desc:"DESCENDING"},MI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PI={and:"AND",or:"OR"};class VI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hp(r,e){return r.useProto3Json||df(e)?e:{value:e}}function Qh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kI(r,e){return Qh(r,e.toTimestamp())}function si(r){return mt(!!r),ze.fromTimestamp(function(t){const a=qa(t);return new tn(a.seconds,a.nanos)}(r))}function rg(r,e){return fp(r,e).canonicalString()}function fp(r,e){const t=function(o){return new xt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function zb(r){const e=xt.fromString(r);return mt(Gb(e)),e}function dp(r,e){return rg(r.databaseId,e.path)}function Bm(r,e){const t=zb(e);if(t.get(1)!==r.databaseId.projectId)throw new Ie(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ie(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Oe(Hb(t))}function Bb(r,e){return rg(r.databaseId,e)}function LI(r){const e=zb(r);return e.length===4?xt.emptyPath():Hb(e)}function mp(r){return new xt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Hb(r){return mt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function sE(r,e,t){return{name:dp(r,e),fields:t.value.mapValue.fields}}function UI(r,e){let t;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(mt(E===void 0||typeof E=="string"),wn.fromBase64String(E||"")):(mt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),wn.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?le.UNKNOWN:kb(g.code);return new Ie(E,g.message||"")}(h);t=new Ub(a,o,u,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Bm(r,a.document.name),u=si(a.document.updateTime),h=a.document.createTime?si(a.document.createTime):ze.min(),d=new br({mapValue:{fields:a.document.fields}}),p=In.newFoundDocument(o,u,h,d),g=a.targetIds||[],E=a.removedTargetIds||[];t=new xh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Bm(r,a.document),u=a.readTime?si(a.readTime):ze.min(),h=In.newNoDocument(o,u),d=a.removedTargetIds||[];t=new xh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Bm(r,a.document),u=a.removedTargetIds||[];t=new xh([],u,o,null)}else{if(!("filter"in e))return Ve();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new CI(o,u),d=a.targetId;t=new Lb(d,h)}}return t}function jI(r,e){let t;if(e instanceof zu)t={update:sE(r,e.key,e.value)};else if(e instanceof eg)t={delete:dp(r,e.key)};else if(e instanceof qs)t={update:sE(r,e.key,e.data),updateMask:QI(e.fieldMask)};else{if(!(e instanceof AI))return Ve();t={verify:dp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(u,h){const d=h.transform;if(d instanceof Kh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Du)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Nu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $h)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw Ve()}(0,a))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:kI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ve()}(r,e.precondition)),t}function zI(r,e){return r&&r.length>0?(mt(e!==void 0),r.map(t=>function(o,u){let h=o.updateTime?si(o.updateTime):si(u);return h.isEqual(ze.min())&&(h=si(u)),new TI(h,o.transformResults||[])}(t,e))):[]}function BI(r,e){return{documents:[Bb(r,e.path)]}}function HI(r,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=Bb(r,o);const u=function(g){if(g.length!==0)return qb(li.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:Lo(S.field),direction:GI(S.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=hp(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function FI(r){let e=LI(r.parent);const t=r.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){mt(a===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(T){const S=Fb(T);return S instanceof li&&Eb(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(S=>function(P){return new Gh(Uo(P.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(T){let S;return S=typeof T=="object"?T.value:T,df(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(T){const S=!!T.before,C=T.values||[];return new qh(C,S)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const S=!T.before,C=T.values||[];return new qh(C,S)}(t.endAt)),lI(e,o,h,u,d,"F",p,g)}function qI(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Fb(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=Uo(t.unaryFilter.field);return en.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Uo(t.unaryFilter.field);return en.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Uo(t.unaryFilter.field);return en.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Uo(t.unaryFilter.field);return en.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(r):r.fieldFilter!==void 0?function(t){return en.create(Uo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return li.create(t.compositeFilter.filters.map(a=>Fb(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve()}}(t.compositeFilter.op))}(r):Ve()}function GI(r){return OI[r]}function KI(r){return MI[r]}function $I(r){return PI[r]}function Lo(r){return{fieldPath:r.canonicalString()}}function Uo(r){return Tn.fromServerFormat(r.fieldPath)}function qb(r){return r instanceof en?function(t){if(t.op==="=="){if($_(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NAN"}};if(K_(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($_(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NAN"}};if(K_(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(t.field),op:KI(t.op),value:t.value}}}(r):r instanceof li?function(t){const a=t.getFilters().map(o=>qb(o));return a.length===1?a[0]:{compositeFilter:{op:$I(t.op),filters:a}}}(r):Ve()}function QI(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Gb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,t,a,o,u=ze.min(),h=ze.min(),d=wn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.Tt=e}}function XI(r){const e=FI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.Tn=new ZI}addToCollectionParentIndex(e,t){return this.Tn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Fa.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Fa.min())}updateCollectionGroup(e,t,a){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class ZI{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new nn(xt.comparator),u=!o.has(a);return this.index[t]=o.add(a),u}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new nn(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kb=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(Kb,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Xo(0)}static Kn(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="LruGarbageCollector",JI=1048576;function uE([r,e],[t,a]){const o=$e(r,t);return o===0?$e(e,a):o}class eD{constructor(e){this.Hn=e,this.buffer=new nn(uE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();uE(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tD{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ye(lE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){al(t)?ye(lE,"Ignoring IndexedDB error during garbage collection: ",t):await il(t)}await this.er(3e5)})}}class nD{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(ff.ae);const a=new eD(t);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.tr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(oE)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let a,o,u,h,d,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(a=T,d=Date.now(),this.removeTargets(e,a,t))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(T=>(g=Date.now(),Vo()<=Ze.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function rD(r,e){return new nD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.changes=new Fs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ie.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(a!==null&&Eu(a.mutation,o,Mr.empty(),tn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,et()).next(()=>a))}getLocalViewOfDocuments(e,t,a=et()){const o=Ns();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,a).next(u=>{let h=du();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const a=Ns();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,et()))}populateOverlays(e,t,a){const o=[];return a.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,a,o){let u=Yi();const h=_u(),d=function(){return _u()}();return t.forEach((p,g)=>{const E=a.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof qs)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Eu(E.mutation,g,E.mutation.getFieldMask(),tn.now())):h.set(g.key,Mr.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var T;return d.set(g,new aD(E,(T=h.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const a=_u();let o=new Nt((h,d)=>h-d),u=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=a.get(p)||Mr.empty();E=d.applyToLocalView(g,E),a.set(p,E);const T=(o.get(d.batchId)||et()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,T=Cb();E.forEach(S=>{if(!u.has(S)){const C=Pb(t.get(S),a.get(S));C!==null&&T.set(S,C),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ie.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,o){return function(h){return Oe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-u.size):ie.resolve(Ns());let d=Ru,p=u;return h.next(g=>ie.forEach(g,(E,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,et())).next(E=>({batchId:d,changes:xb(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oe(t)).next(a=>{let o=du();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const u=t.collectionGroup;let h=du();return this.indexManager.getCollectionParents(e,u).next(d=>ie.forEach(d,p=>{const g=function(T,S){return new pf(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(E=>{E.forEach((T,S)=>{h=h.insert(T,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,In.newInvalidDocument(E)))});let d=du();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Eu(E.mutation,g,Mr.empty(),tn.now()),yf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ie.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:si(o.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:XI(o.bundledQuery),readTime:si(o.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.overlays=new Nt(Oe.comparator),this.Rr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const a=Ns();return ie.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((o,u)=>{this.Et(e,t,u)}),ie.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),ie.resolve()}getOverlaysForCollection(e,t,a){const o=Ns(),u=t.length+1,h=new Oe(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let u=new Nt((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let E=u.get(g.largestBatchId);E===null&&(E=Ns(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=Ns(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return ie.resolve(d)}Et(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new xI(t,a));let u=this.Rr.get(t);u===void 0&&(u=et(),this.Rr.set(t,u)),this.Rr.set(t,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.Vr=new nn(dn.mr),this.gr=new nn(dn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const a=new dn(e,t);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.wr(new dn(e,t))}Sr(e,t){e.forEach(a=>this.removeReference(a,t))}br(e){const t=new Oe(new xt([])),a=new dn(t,e),o=new dn(t,e+1),u=[];return this.gr.forEachInRange([a,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Oe(new xt([])),a=new dn(t,e),o=new dn(t,e+1);let u=et();return this.gr.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new dn(e,0),a=this.Vr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class dn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Oe.comparator(e.key,t.key)||$e(e.Cr,t.Cr)}static pr(e,t){return $e(e.Cr,t.Cr)||Oe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new nn(dn.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new RI(u,t,a,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new dn(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,t){return ie.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.Nr(a),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?$p:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new dn(t,0),o=new dn(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],h=>{const d=this.Or(h.Cr);u.push(d)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new nn($e);return t.forEach(o=>{const u=new dn(o,0),h=new dn(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{a=a.add(d.Cr)})}),ie.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let u=a;Oe.isDocumentKey(u)||(u=u.child(""));const h=new dn(new Oe(u),0);let d=new nn($e);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),ie.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){mt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return ie.forEach(t.mutations,o=>{const u=new dn(o.key,t.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,t){const a=new dn(t,0),o=this.Mr.firstAfterOrEqual(a);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.kr=e,this.docs=function(){return new Nt(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ie.resolve(a?a.document.mutableCopy():In.newInvalidDocument(t))}getEntries(e,t){let a=Yi();return t.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():In.newInvalidDocument(o))}),ie.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let u=Yi();const h=t.path,d=new Oe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||z4(j4(E),a)<=0||(o.has(E.key)||yf(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,t,a,o){Ve()}qr(e,t){return ie.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new fD(this)}getSize(e){return ie.resolve(this.size)}}class fD extends iD{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),ie.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.persistence=e,this.Qr=new Fs(t=>Xp(t),Wp),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.$r=0,this.Ur=new ig,this.targetCount=0,this.Kr=Xo.Un()}forEachTarget(e,t){return this.Qr.forEach((a,o)=>t(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.$r&&(this.$r=t),ie.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Xo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.zn(t),ie.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,a){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&a.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const a=this.Qr.get(t)||null;return ie.resolve(a)}addMatchingKeys(e,t,a){return this.Ur.yr(t,a),ie.resolve()}removeMatchingKeys(e,t,a){this.Ur.Sr(t,a);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const a=this.Ur.vr(t);return ie.resolve(a)}containsKey(e,t){return ie.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ff(0),this.zr=!1,this.zr=!0,this.jr=new uD,this.referenceDelegate=e(this),this.Hr=new dD(this),this.indexManager=new WI,this.remoteDocumentCache=function(o){return new hD(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new YI(t),this.Yr=new oD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.Wr[e.toKey()];return a||(a=new cD(t,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,a){ye("MemoryPersistence","Starting transaction:",e);const o=new mD(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return ie.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,t)))}}class mD extends H4{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.ti=new ig,this.ni=null}static ri(e){return new ag(e)}get ii(){if(this.ni)return this.ni;throw Ve()}addReference(e,t,a){return this.ti.addReference(a,t),this.ii.delete(a.toString()),ie.resolve()}removeReference(e,t,a){return this.ti.removeReference(a,t),this.ii.add(a.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ie.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,a=>{const o=Oe.fromPath(a);return this.si(e,o).next(u=>{u||t.removeEntry(o,ze.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(a=>{a?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ie.or([()=>ie.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Yh{constructor(e,t){this.persistence=e,this.oi=new Fs(a=>G4(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=rD(this,t)}static ri(e,t){return new Yh(e,t)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(o=>a+o))}sr(e){let t=0;return this.rr(e,a=>{t++}).next(()=>t)}rr(e,t){return ie.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(u=>u?ie.resolve():t(o)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(a++,u.removeEntry(h,ze.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.oi.set(a,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,a){return this.oi.set(a,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sh(e.data.value)),t}ar(e,t,a){return ie.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ie.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.Hi=a,this.Ji=o}static Yi(e,t){let a=et(),o=et();for(const u of t.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new sg(e,t.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return qA()?8:F4(Dn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,a,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new pD;return this._s(e,t,h).next(d=>{if(u.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>u.result)}us(e,t,a,o){return a.documentReadCount<this.es?(Vo()<=Ze.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(Vo()<=Ze.DEBUG&&ye("QueryEngine","Query:",ko(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(Vo()<=Ze.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(t))):ie.resolve())}rs(e,t){if(W_(t))return ie.resolve(null);let a=ii(t);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=cp(t,null,"F"),a=ii(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const h=et(...u);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.cs(t,d);return this.ls(t,g,h,p.readTime)?this.rs(e,cp(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,a,o){return W_(t)||o.isEqual(ze.min())?ie.resolve(null):this.ns.getDocuments(e,a).next(u=>{const h=this.cs(t,u);return this.ls(t,h,a,o)?ie.resolve(null):(Vo()<=Ze.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ko(t)),this.hs(e,h,t,U4(o,Ru)).next(d=>d))})}cs(e,t){let a=new nn(Ab(e));return t.forEach((o,u)=>{yf(e,u)&&(a=a.add(u))}),a}ls(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,a){return Vo()<=Ze.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",ko(t)),this.ns.getDocumentsMatchingQuery(e,t,Fa.min(),a)}hs(e,t,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="LocalStore",yD=3e8;class vD{constructor(e,t,a,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Nt($e),this.Is=new Fs(u=>Xp(u),Wp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function _D(r,e,t,a){return new vD(r,e,t,a)}async function Qb(r,e){const t=He(r);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],d=[];let p=et();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(a,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function ED(r,e){const t=He(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const T=g.batch,S=T.keys();let C=ie.resolve();return S.forEach(P=>{C=C.next(()=>E.getEntry(p,P)).next($=>{const j=g.docVersions.get(P);mt(j!==null),$.version.compareTo(j)<0&&(T.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,a,e,u).next(()=>u.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let p=et();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(a,o))})}function Yb(r){const e=He(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function bD(r,e){const t=He(r),a=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((E,T)=>{const S=o.get(T);if(!S)return;d.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,T)));let C=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(wn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,a)),o=o.insert(T,C),function($,j,X){return $.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=yD?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(S,C,E)&&d.push(t.Hr.updateTargetData(u,C))});let p=Yi(),g=et();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(TD(u,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!a.isEqual(ze.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(T=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));d.push(E)}return ie.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ts=o,u))}function TD(r,e,t){let a=et(),o=et();return t.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let h=Yi();return t.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(ze.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):ye(og,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function wD(r,e){const t=He(r);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=$p),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function SD(r,e){const t=He(r);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return t.Hr.getTargetData(a,e).next(u=>u?(o=u,ie.resolve(o)):t.Hr.allocateTargetId(a).next(h=>(o=new Va(e,h,"TargetPurposeListen",a.currentSequenceNumber),t.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=t.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(a.targetId,a),t.Is.set(e,a.targetId)),a})}async function pp(r,e,t){const a=He(r),o=a.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!al(h))throw h;ye(og,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function cE(r,e,t){const a=He(r);let o=ze.min(),u=et();return a.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const T=He(p),S=T.Is.get(E);return S!==void 0?ie.resolve(T.Ts.get(S)):T.Hr.getTargetData(g,E)}(a,h,ii(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(h,e,t?o:ze.min(),t?u:et())).next(d=>(AD(a,hI(e),d),{documents:d,gs:u})))}function AD(r,e,t){let a=r.Es.get(e)||ze.min();t.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Es.set(e,a)}class hE{constructor(){this.activeTargetIds=yI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RD{constructor(){this.ho=new hE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,a){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new hE,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="ConnectivityMonitor";class dE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ye(fE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ye(fE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function gp(){return mh===null?mh=function(){return 268435456+Math.round(2147483648*Math.random())}():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="RestConnection",CD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ID{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Hh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,t,a,o,u){const h=gp(),d=this.bo(e,t.toUriEncodedString());ye(Hm,`Sending RPC '${e}' ${h}:`,d,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,d,p,a).then(g=>(ye(Hm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw Ko(Hm,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",a),g})}Co(e,t,a,o,u,h){return this.So(e,t,a,o,u)}Do(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const a=CD[e];return`${this.po}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class ND extends ID{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,a,o){const u=gp();return new Promise((h,d)=>{const p=new eb;p.setWithCredentials(!0),p.listenOnce(tb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case wh.NO_ERROR:const E=p.getResponseJson();ye(xn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case wh.TIMEOUT:ye(xn,`RPC '${e}' ${u} timed out`),d(new Ie(le.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const T=p.getStatus();if(ye(xn,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const C=S==null?void 0:S.error;if(C&&C.status&&C.message){const P=function(j){const X=j.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(X)>=0?X:le.UNKNOWN}(C.status);d(new Ie(P,C.message))}else d(new Ie(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Ie(le.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{ye(xn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ye(xn,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,a,15)})}Wo(e,t,a){const o=gp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=ib(),d=rb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,a),p.encodeInitMessageHeaders=!0;const E=u.join("");ye(xn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);let S=!1,C=!1;const P=new DD({Fo:j=>{C?ye(xn,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(S||(ye(xn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ye(xn,`RPC '${e}' stream ${o} sending:`,j),T.send(j))},Mo:()=>T.close()}),$=(j,X,ee)=>{j.listen(X,Z=>{try{ee(Z)}catch(oe){setTimeout(()=>{throw oe},0)}})};return $(T,fu.EventType.OPEN,()=>{C||(ye(xn,`RPC '${e}' stream ${o} transport opened.`),P.Qo())}),$(T,fu.EventType.CLOSE,()=>{C||(C=!0,ye(xn,`RPC '${e}' stream ${o} transport closed`),P.Uo())}),$(T,fu.EventType.ERROR,j=>{C||(C=!0,Ko(xn,`RPC '${e}' stream ${o} transport errored:`,j),P.Uo(new Ie(le.UNAVAILABLE,"The operation could not be completed")))}),$(T,fu.EventType.MESSAGE,j=>{var X;if(!C){const ee=j.data[0];mt(!!ee);const Z=ee,oe=(Z==null?void 0:Z.error)||((X=Z[0])===null||X===void 0?void 0:X.error);if(oe){ye(xn,`RPC '${e}' stream ${o} received error:`,oe);const V=oe.status;let ue=function(R){const I=Yt[R];if(I!==void 0)return kb(I)}(V),M=oe.message;ue===void 0&&(ue=le.INTERNAL,M="Unknown error status: "+V+" with message "+oe.message),C=!0,P.Uo(new Ie(ue,M)),T.close()}else ye(xn,`RPC '${e}' stream ${o} received:`,ee),P.Ko(ee)}}),$(d,nb.STAT_EVENT,j=>{j.stat===ip.PROXY?ye(xn,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===ip.NOPROXY&&ye(xn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function Fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(r){return new VI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t,a=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-a);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="PersistentStream";class Wb{constructor(e,t,a,o,u,h,d,p){this.Ti=e,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Xb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Qi(t.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===t&&this.V_(a,o)},a=>{e(()=>{const o=new Ie(le.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,t){const a=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ye(mE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ye(mE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OD extends Wb{constructor(e,t,a,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=UI(this.serializer,e),a=function(u){if(!("targetChange"in u))return ze.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?ze.min():h.readTime?si(h.readTime):ze.min()}(e);return this.listener.p_(t,a)}y_(e){const t={};t.database=mp(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=up(p)?{documents:BI(u,p)}:{query:HI(u,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=jb(u,h.resumeToken);const g=hp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(ze.min())>0){d.readTime=Qh(u,h.snapshotVersion.toTimestamp());const g=hp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const a=qI(this.serializer,e);a&&(t.labels=a),this.I_(t)}w_(e){const t={};t.database=mp(this.serializer),t.removeTarget=e,this.I_(t)}}class MD extends Wb{constructor(e,t,a,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return mt(!!e.streamToken),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=zI(e.writeResults,e.commitTime),a=si(e.commitTime);return this.listener.v_(a,t)}C_(){const e={};e.database=mp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>jI(this.serializer,a))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{}class VD extends PD{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ie(le.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,fp(t,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(le.UNKNOWN,u.toString())})}Co(e,t,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,fp(t,a),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ie(le.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class kD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qi(t),this.N_=!1):ye("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="RemoteStore";class LD{constructor(e,t,a,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{a.enqueueAndForget(async()=>{Gs(this)&&(ye(js,"Restarting streams for network reachability change."),await async function(p){const g=He(p);g.W_.add(4),await Hu(g),g.j_.set("Unknown"),g.W_.delete(4),await Tf(g)}(this))})}),this.j_=new kD(a,o)}}async function Tf(r){if(Gs(r))for(const e of r.G_)await e(!0)}async function Hu(r){for(const e of r.G_)await e(!1)}function Zb(r,e){const t=He(r);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),hg(t)?cg(t):sl(t).c_()&&ug(t,e))}function lg(r,e){const t=He(r),a=sl(t);t.K_.delete(e),a.c_()&&Jb(t,e),t.K_.size===0&&(a.c_()?a.P_():Gs(t)&&t.j_.set("Unknown"))}function ug(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sl(r).y_(e)}function Jb(r,e){r.H_.Ne(e),sl(r).w_(e)}function cg(r){r.H_=new NI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),sl(r).start(),r.j_.B_()}function hg(r){return Gs(r)&&!sl(r).u_()&&r.K_.size>0}function Gs(r){return He(r).W_.size===0}function eT(r){r.H_=void 0}async function UD(r){r.j_.set("Online")}async function jD(r){r.K_.forEach((e,t)=>{ug(r,e)})}async function zD(r,e){eT(r),hg(r)?(r.j_.q_(e),cg(r)):r.j_.set("Unknown")}async function BD(r,e,t){if(r.j_.set("Online"),e instanceof Ub&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.K_.delete(d),o.H_.removeTarget(d))}(r,e)}catch(a){ye(js,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Xh(r,a)}else if(e instanceof xh?r.H_.We(e):e instanceof Lb?r.H_.Ze(e):r.H_.je(e),!t.isEqual(ze.min()))try{const a=await Yb(r.localStore);t.compareTo(a)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(wn.EMPTY_BYTE_STRING,E.snapshotVersion)),Jb(u,p);const T=new Va(E.target,p,g,E.sequenceNumber);ug(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(a){ye(js,"Failed to raise snapshot:",a),await Xh(r,a)}}async function Xh(r,e,t){if(!al(e))throw e;r.W_.add(1),await Hu(r),r.j_.set("Offline"),t||(t=()=>Yb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye(js,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Tf(r)})}function tT(r,e){return e().catch(t=>Xh(r,t,e))}async function wf(r){const e=He(r),t=$a(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:$p;for(;HD(e);)try{const o=await wD(e.localStore,a);if(o===null){e.U_.length===0&&t.P_();break}a=o.batchId,FD(e,o)}catch(o){await Xh(e,o)}nT(e)&&rT(e)}function HD(r){return Gs(r)&&r.U_.length<10}function FD(r,e){r.U_.push(e);const t=$a(r);t.c_()&&t.S_&&t.b_(e.mutations)}function nT(r){return Gs(r)&&!$a(r).u_()&&r.U_.length>0}function rT(r){$a(r).start()}async function qD(r){$a(r).C_()}async function GD(r){const e=$a(r);for(const t of r.U_)e.b_(t.mutations)}async function KD(r,e,t){const a=r.U_.shift(),o=tg.from(a,e,t);await tT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await wf(r)}async function $D(r,e){e&&$a(r).S_&&await async function(a,o){if(function(h){return II(h)&&h!==le.ABORTED}(o.code)){const u=a.U_.shift();$a(a).h_(),await tT(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await wf(a)}}(r,e),nT(r)&&rT(r)}async function pE(r,e){const t=He(r);t.asyncQueue.verifyOperationInProgress(),ye(js,"RemoteStore received new credentials");const a=Gs(t);t.W_.add(3),await Hu(t),a&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Tf(t)}async function QD(r,e){const t=He(r);e?(t.W_.delete(2),await Tf(t)):e||(t.W_.add(2),await Hu(t),t.j_.set("Unknown"))}function sl(r){return r.J_||(r.J_=function(t,a,o){const u=He(t);return u.M_(),new OD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:UD.bind(null,r),No:jD.bind(null,r),Lo:zD.bind(null,r),p_:BD.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),hg(r)?cg(r):r.j_.set("Unknown")):(await r.J_.stop(),eT(r))})),r.J_}function $a(r){return r.Y_||(r.Y_=function(t,a,o){const u=He(t);return u.M_(),new MD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:qD.bind(null,r),Lo:$D.bind(null,r),D_:GD.bind(null,r),v_:KD.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await wf(r)):(await r.Y_.stop(),r.U_.length>0&&(ye(js,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t,a,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,u){const h=Date.now()+a,d=new fg(e,t,h,o,u);return d.start(a),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(r,e){if(Qi("AsyncQueue",`${e}: ${r}`),al(r))return new Ie(le.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Oe.comparator(t.key,a.key):(t,a)=>Oe.comparator(t.key,a.key),this.keyedMap=du(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new Fo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.Z_=new Nt(Oe.comparator)}track(e){const t=e.doc.key,a=this.Z_.get(t);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(t):e.type===1&&a.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ve():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,a)=>{e.push(a)}),e}}class Wo{constructor(e,t,a,o,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Wo(e,t,Fo.emptySet(t),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class XD{constructor(){this.queries=yE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,a){const o=He(t),u=o.queries;o.queries=yE(),u.forEach((h,d)=>{for(const p of d.ta)p.onError(a)})})(this,new Ie(le.ABORTED,"Firestore shutting down"))}}function yE(){return new Fs(r=>Sb(r),gf)}async function iT(r,e){const t=He(r);let a=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(a=2):(u=new YD,a=e.ra()?0:1);try{switch(a){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=dg(h,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&mg(t)}async function aT(r,e){const t=He(r),a=e.query;let o=3;const u=t.queries.get(a);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function WD(r,e){const t=He(r);let a=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(a=!0);h.ea=o}}a&&mg(t)}function ZD(r,e,t){const a=He(r),o=a.queries.get(e);if(o)for(const u of o.ta)u.onError(t);a.queries.delete(e)}function mg(r){r.ia.forEach(e=>{e.next()})}var yp,vE;(vE=yp||(yp={}))._a="default",vE.Cache="cache";class sT{constructor(e,t,a){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Wo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const a=t!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.key=e}}class lT{constructor(e){this.key=e}}class JD{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=et(),this.mutatedKeys=et(),this.ya=Ab(e),this.wa=new Fo(this.ya)}get Sa(){return this.fa}ba(e,t){const a=t?t.Da:new gE,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const S=o.get(E),C=yf(this.query,T)?T:null,P=!!S&&this.mutatedKeys.has(S.key),$=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let j=!1;S&&C?S.data.isEqual(C.data)?P!==$&&(a.track({type:3,doc:C}),j=!0):this.va(S,C)||(a.track({type:2,doc:C}),j=!0,(p&&this.ya(C,p)>0||g&&this.ya(C,g)<0)&&(d=!0)):!S&&C?(a.track({type:0,doc:C}),j=!0):S&&!C&&(a.track({type:1,doc:S}),j=!0,(p||g)&&(d=!0)),j&&(C?(h=h.add(C),u=$?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{wa:h,Da:a,ls:d,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,T)=>function(C,P){const $=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return $(C)-$(P)}(E.type,T.type)||this.ya(E.doc,T.doc)),this.Ca(a),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new Wo(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new gE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=et(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const t=[];return e.forEach(a=>{this.pa.has(a)||t.push(new lT(a))}),this.pa.forEach(a=>{e.has(a)||t.push(new oT(a))}),t}Oa(e){this.fa=e.gs,this.pa=et();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Wo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const pg="SyncEngine";class eN{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class tN{constructor(e){this.key=e,this.Ba=!1}}class nN{constructor(e,t,a,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Fs(d=>Sb(d),gf),this.qa=new Map,this.Qa=new Set,this.$a=new Nt(Oe.comparator),this.Ua=new Map,this.Ka=new ig,this.Wa={},this.Ga=new Map,this.za=Xo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function rN(r,e,t=!0){const a=mT(r);let o;const u=a.ka.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await uT(a,e,t,!0),o}async function iN(r,e){const t=mT(r);await uT(t,e,!0,!1)}async function uT(r,e,t,a){const o=await SD(r.localStore,ii(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let d;return a&&(d=await aN(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Zb(r.remoteStore,o),d}async function aN(r,e,t,a,o){r.Ha=(T,S,C)=>async function($,j,X,ee){let Z=j.view.ba(X);Z.ls&&(Z=await cE($.localStore,j.query,!1).then(({documents:M})=>j.view.ba(M,Z)));const oe=ee&&ee.targetChanges.get(j.targetId),V=ee&&ee.targetMismatches.get(j.targetId)!=null,ue=j.view.applyChanges(Z,$.isPrimaryClient,oe,V);return EE($,j.targetId,ue.Ma),ue.snapshot}(r,T,S,C);const u=await cE(r.localStore,e,!0),h=new JD(e,u.gs),d=h.ba(u.documents),p=Bu.createSynthesizedTargetChangeForCurrentChange(t,a&&r.onlineState!=="Offline",o),g=h.applyChanges(d,r.isPrimaryClient,p);EE(r,t,g.Ma);const E=new eN(e,t,h);return r.ka.set(e,E),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),g.snapshot}async function sN(r,e,t){const a=He(r),o=a.ka.get(e),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(h=>!gf(h,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),t&&lg(a.remoteStore,o.targetId),vp(a,o.targetId)}).catch(il)):(vp(a,o.targetId),await pp(a.localStore,o.targetId,!0))}async function oN(r,e){const t=He(r),a=t.ka.get(e),o=t.qa.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),lg(t.remoteStore,a.targetId))}async function lN(r,e,t){const a=pN(r);try{const o=await function(h,d){const p=He(h),g=tn.now(),E=d.reduce((C,P)=>C.add(P.key),et());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let P=Yi(),$=et();return p.ds.getEntries(C,E).next(j=>{P=j,P.forEach((X,ee)=>{ee.isValidDocument()||($=$.add(X))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,P)).next(j=>{T=j;const X=[];for(const ee of d){const Z=SI(ee,T.get(ee.key).overlayedDocument);Z!=null&&X.push(new qs(ee.key,Z,yb(Z.value.mapValue),ai.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,X,d)}).next(j=>{S=j;const X=j.applyToLocalDocumentSet(T,$);return p.documentOverlayCache.saveOverlays(C,j.batchId,X)})}).then(()=>({batchId:S.batchId,changes:xb(T)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new Nt($e)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(a,o.batchId,t),await Fu(a,o.changes),await wf(a.remoteStore)}catch(o){const u=dg(o,"Failed to persist write");t.reject(u)}}async function cT(r,e){const t=He(r);try{const a=await bD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ua.get(u);h&&(mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?mt(h.Ba):o.removedDocuments.size>0&&(mt(h.Ba),h.Ba=!1))}),await Fu(t,a,e)}catch(a){await il(a)}}function _E(r,e,t){const a=He(r);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.ka.forEach((u,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=He(h);p.onlineState=d;let g=!1;p.queries.forEach((E,T)=>{for(const S of T.ta)S.sa(d)&&(g=!0)}),g&&mg(p)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function uN(r,e,t){const a=He(r);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Ua.get(e),u=o&&o.key;if(u){let h=new Nt(Oe.comparator);h=h.insert(u,In.newNoDocument(u,ze.min()));const d=et().add(u),p=new Ef(ze.min(),new Map,new Nt($e),h,d);await cT(a,p),a.$a=a.$a.remove(u),a.Ua.delete(e),gg(a)}else await pp(a.localStore,e,!1).then(()=>vp(a,e,t)).catch(il)}async function cN(r,e){const t=He(r),a=e.batch.batchId;try{const o=await ED(t.localStore,e);fT(t,a,null),hT(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Fu(t,o)}catch(o){await il(o)}}async function hN(r,e,t){const a=He(r);try{const o=await function(h,d){const p=He(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>(mt(T!==null),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(a.localStore,e);fT(a,e,t),hT(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Fu(a,o)}catch(o){await il(o)}}function hT(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function fT(r,e,t){const a=He(r);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function vp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.qa.get(e))r.ka.delete(a),t&&r.La.Ja(a,t);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(a=>{r.Ka.containsKey(a)||dT(r,a)})}function dT(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(lg(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ua.delete(t),gg(r))}function EE(r,e,t){for(const a of t)a instanceof oT?(r.Ka.addReference(a.key,e),fN(r,a)):a instanceof lT?(ye(pg,"Document no longer in limbo: "+a.key),r.Ka.removeReference(a.key,e),r.Ka.containsKey(a.key)||dT(r,a.key)):Ve()}function fN(r,e){const t=e.key,a=t.path.canonicalString();r.$a.get(t)||r.Qa.has(a)||(ye(pg,"New document in limbo: "+t),r.Qa.add(a),gg(r))}function gg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new Oe(xt.fromString(e)),a=r.za.next();r.Ua.set(a,new tN(t)),r.$a=r.$a.insert(t,a),Zb(r.remoteStore,new Va(ii(Zp(t.path)),a,"TargetPurposeLimboResolution",ff.ae))}}async function Fu(r,e,t){const a=He(r),o=[],u=[],h=[];a.ka.isEmpty()||(a.ka.forEach((d,p)=>{h.push(a.Ha(p,e,t).then(g=>{var E;if((g||t)&&a.isPrimaryClient){const T=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=sg.Yi(p.targetId,g);u.push(T)}}))}),await Promise.all(h),a.La.p_(o),await async function(p,g){const E=He(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ie.forEach(g,S=>ie.forEach(S.Hi,C=>E.persistence.referenceDelegate.addReference(T,S.targetId,C)).next(()=>ie.forEach(S.Ji,C=>E.persistence.referenceDelegate.removeReference(T,S.targetId,C)))))}catch(T){if(!al(T))throw T;ye(og,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const C=E.Ts.get(S),P=C.snapshotVersion,$=C.withLastLimboFreeSnapshotVersion(P);E.Ts=E.Ts.insert(S,$)}}}(a.localStore,u))}async function dN(r,e){const t=He(r);if(!t.currentUser.isEqual(e)){ye(pg,"User change. New user:",e.toKey());const a=await Qb(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(d=>{d.forEach(p=>{p.reject(new Ie(le.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Fu(t,a.Rs)}}function mN(r,e){const t=He(r),a=t.Ua.get(e);if(a&&a.Ba)return et().add(a.key);{let o=et();const u=t.qa.get(e);if(!u)return o;for(const h of u){const d=t.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function mT(r){const e=He(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=cT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uN.bind(null,e),e.La.p_=WD.bind(null,e.eventManager),e.La.Ja=ZD.bind(null,e.eventManager),e}function pN(r){const e=He(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hN.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return _D(this.persistence,new gD,e.initialUser,this.serializer)}Xa(e){return new $b(ag.ri,this.serializer)}Za(e){return new RD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class gN extends Wh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){mt(this.persistence.referenceDelegate instanceof Yh);const a=this.persistence.referenceDelegate.garbageCollector;return new tD(a,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new $b(a=>Yh.ri(a,t),this.serializer)}}class _p{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>_E(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=dN.bind(null,this.syncEngine),await QD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XD}()}createDatastore(e){const t=bf(e.databaseInfo.databaseId),a=function(u){return new ND(u)}(e.databaseInfo);return function(u,h,d,p){return new VD(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,o,u,h,d){return new LD(a,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>_E(this.syncEngine,t,0),function(){return dE.D()?new dE:new xD}())}createSyncEngine(e,t){return function(o,u,h,d,p,g,E){const T=new nN(o,u,h,d,p,g);return E&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=He(o);ye(js,"RemoteStore shutting down."),u.W_.add(5),await Hu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="FirestoreClient";class yN{constructor(e,t,a,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=o,this.user=Cn.UNAUTHENTICATED,this.clientId=ob.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{ye(Qa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(ye(Qa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=dg(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function qm(r,e){r.asyncQueue.verifyOperationInProgress(),ye(Qa,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let a=t.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await Qb(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function bE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await vN(r);ye(Qa,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(a=>pE(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>pE(e.remoteStore,o)),r._onlineComponents=e}async function vN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye(Qa,"Using user provided OfflineComponentProvider");try{await qm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ko("Error using user provided cache. Falling back to memory cache: "+t),await qm(r,new Wh)}}else ye(Qa,"Using default OfflineComponentProvider"),await qm(r,new gN(void 0));return r._offlineComponents}async function gT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye(Qa,"Using user provided OnlineComponentProvider"),await bE(r,r._uninitializedComponentsProvider._online)):(ye(Qa,"Using default OnlineComponentProvider"),await bE(r,new _p))),r._onlineComponents}function _N(r){return gT(r).then(e=>e.syncEngine)}async function Ep(r){const e=await gT(r),t=e.eventManager;return t.onListen=rN.bind(null,e.syncEngine),t.onUnlisten=sN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=oN.bind(null,e.syncEngine),t}function EN(r,e,t={}){const a=new za;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const E=new pT({next:S=>{E.su(),h.enqueueAndForget(()=>aT(u,T)),S.fromCache&&p.source==="server"?g.reject(new Ie(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new sT(d,E,{includeMetadataChanges:!0,Ta:!0});return iT(u,T)}(await Ep(r),r.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(r,e,t){if(!t)throw new Ie(le.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function bN(r,e,t,a){if(e===!0&&a===!0)throw new Ie(le.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function wE(r){if(!Oe.isDocumentKey(r))throw new Ie(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function SE(r){if(Oe.isDocumentKey(r))throw new Ie(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function yg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ve()}function Gi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ie(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yg(r);throw new Ie(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firestore.googleapis.com",AE=!0;class RE{constructor(e){var t,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_T,this.ssl=AE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:AE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JI)throw new Ie(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ie(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ie(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ie(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new I4;switch(a.type){case"firstParty":return new M4(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ie(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=TE.get(t);a&&(ye("ComponentProvider","Removing Datastore"),TE.delete(t),a.terminate())}(this),Promise.resolve()}}function TN(r,e,t,a={}){var o;const u=(r=Gi(r,Sf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),d=`${e}:${t}`;u.host!==_T&&u.host!==d&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:a});if(!Ps(p,h)&&(r._setSettings(p),a.mockUserToken)){let g,E;if(typeof a.mockUserToken=="string")g=a.mockUserToken,E=Cn.MOCK_USER;else{g=LA(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new Ie(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Cn(T)}r._authCredentials=new D4(new ab(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new qu(this.firestore,e,this._query)}}class er{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class Ba extends qu{constructor(e,t,a){super(e,t,Zp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new Oe(e))}withConverter(e){return new Ba(this.firestore,e,this._path)}}function wN(r,e,...t){if(r=pn(r),vT("collection","path",e),r instanceof Sf){const a=xt.fromString(e,...t);return SE(a),new Ba(r,null,a)}{if(!(r instanceof er||r instanceof Ba))throw new Ie(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(xt.fromString(e,...t));return SE(a),new Ba(r.firestore,null,a)}}function Af(r,e,...t){if(r=pn(r),arguments.length===1&&(e=ob.newId()),vT("doc","path",e),r instanceof Sf){const a=xt.fromString(e,...t);return wE(a),new er(r,null,new Oe(a))}{if(!(r instanceof er||r instanceof Ba))throw new Ie(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(xt.fromString(e,...t));return wE(a),new er(r.firestore,r instanceof Ba?r.converter:null,new Oe(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="AsyncQueue";class CE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Xb(this,"async_queue_retry"),this.Su=()=>{const a=Fm();a&&ye(xE,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const t=Fm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Fm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new za;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!al(e))throw e;ye(xE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(a);throw Qi("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=t,t}enqueueAfterDelay(e,t,a){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=fg.createAndSchedule(this,e,t,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ve()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function IE(r){return function(t,a){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Zo extends Sf{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new CE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CE(e),this._firestoreClient=void 0,await e}}}function SN(r,e){const t=typeof r=="object"?r:f1(),a=typeof r=="string"?r:Hh,o=kp(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=VA("firestore");u&&TN(o,...u)}return o}function vg(r){if(r._terminated)throw new Ie(le.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||AN(r),r._firestoreClient}function AN(r){var e,t,a;const o=r._freezeSettings(),u=function(d,p,g,E){return new Q4(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,yT(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new yN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jo(wn.fromBase64String(e))}catch(t){throw new Ie(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jo(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ie(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=/^__.*__$/;class xN{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new zu(e,this.data,t,this.fieldTransforms)}}function bT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class Tg{constructor(e,t,a,o,u,h){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Tg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Uu(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Zh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(bT(this.Lu)&&RN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class CN{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||bf(e)}ju(e,t,a,o=!1){return new Tg({Lu:e,methodName:t,zu:a,path:Tn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IN(r){const e=r._freezeSettings(),t=bf(r._databaseId);return new CN(r._databaseId,!!e.ignoreUndefinedProperties,t)}function DN(r,e,t,a,o,u={}){const h=r.ju(u.merge||u.mergeFields?2:0,e,t,o);AT("Data must be an object, but it was:",h,a);const d=wT(a,h);let p,g;if(u.merge)p=new Mr(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const S=NN(e,T,t);if(!h.contains(S))throw new Ie(le.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);MN(E,S)||E.push(S)}p=new Mr(E),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new xN(new br(d),p,g)}function TT(r,e){if(ST(r=pn(r)))return AT("Unsupported field value:",e,r),wT(r,e);if(r instanceof ET)return function(a,o){if(!bT(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const d of a){let p=TT(d,o.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=pn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return vI(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=tn.fromDate(a);return{timestampValue:Qh(o.serializer,u)}}if(a instanceof tn){const u=new tn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,u)}}if(a instanceof Eg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Jo)return{bytesValue:jb(o.serializer,a._byteString)};if(a instanceof er){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:rg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof bg)return function(h,d){return{mapValue:{fields:{[pb]:{stringValue:gb},[Fh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Jp(d.serializer,g)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${yg(a)}`)}(r,e)}function wT(r,e){const t={};return ub(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(r,(a,o)=>{const u=TT(o,e.qu(a));u!=null&&(t[a]=u)}),{mapValue:{fields:t}}}function ST(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tn||r instanceof Eg||r instanceof Jo||r instanceof er||r instanceof ET||r instanceof bg)}function AT(r,e,t){if(!ST(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const a=yg(t);throw a==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+a)}}function NN(r,e,t){if((e=pn(e))instanceof _g)return e._internalPath;if(typeof e=="string")return RT(r,e);throw Zh("Field path arguments must be of type string or ",r,!1,void 0,t)}const ON=new RegExp("[~\\*/\\[\\]]");function RT(r,e,t){if(e.search(ON)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new _g(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Zh(r,e,t,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${o}`),p+=")"),new Ie(le.INVALID_ARGUMENT,d+r+p)}function MN(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t,a,o,u){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(CT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class PN extends xT{data(){return super.data()}}function CT(r,e){return typeof e=="string"?RT(r,e):e instanceof _g?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ie(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VN{convertValue(e,t="none"){switch(Ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Hs(e,(o,u)=>{a[o]=this.convertValue(u,t)}),a}convertVectorValue(e){var t,a,o;const u=(o=(a=(t=e.fields)===null||t===void 0?void 0:t[Fh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>Ht(h.doubleValue));return new bg(u)}convertGeoPoint(e){return new Eg(Ht(e.latitude),Ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=mf(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const t=qa(e);return new tn(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=xt.fromString(e);mt(Gb(a));const o=new Cu(a.get(1),a.get(3)),u=new Oe(a.popFirst(5));return o.isEqual(t)||Qi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(r,e,t){let a;return a=r?r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DT extends xT{constructor(e,t,a,o,u,h){super(e,t,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(CT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class Ch extends DT{data(e={}){return super.data(e)}}class NT{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new pu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Ch(this._firestore,this._userDataWriter,a.key,a,new pu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new Ch(o._firestore,o._userDataWriter,d.doc.key,d.doc,new pu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Ch(o._firestore,o._userDataWriter,d.doc.key,d.doc,new pu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:LN(d.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function LN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}class wg extends VN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function UN(r){r=Gi(r,qu);const e=Gi(r.firestore,Zo),t=vg(e),a=new wg(e);return IT(r._query),EN(t,r._query).then(o=>new NT(e,a,r,o))}function OT(r,e,t){r=Gi(r,er);const a=Gi(r.firestore,Zo),o=kN(r.converter,e);return MT(a,[DN(IN(a),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,ai.none())])}function jN(r){return MT(Gi(r.firestore,Zo),[new eg(r._key,ai.none())])}function zN(r,...e){var t,a,o;r=pn(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||IE(e[h])||(u=e[h],h++);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(IE(e[h])){const T=e[h];e[h]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[h+1]=(a=T.error)===null||a===void 0?void 0:a.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,E;if(r instanceof er)g=Gi(r.firestore,Zo),E=Zp(r._key.path),p={next:T=>{e[h]&&e[h](BN(g,r,T))},error:e[h+1],complete:e[h+2]};else{const T=Gi(r,qu);g=Gi(T.firestore,Zo),E=T._query;const S=new wg(g);p={next:C=>{e[h]&&e[h](new NT(g,S,T,C))},error:e[h+1],complete:e[h+2]},IT(r._query)}return function(S,C,P,$){const j=new pT($),X=new sT(C,j,P);return S.asyncQueue.enqueueAndForget(async()=>iT(await Ep(S),X)),()=>{j.su(),S.asyncQueue.enqueueAndForget(async()=>aT(await Ep(S),X))}}(vg(g),E,d,p)}function MT(r,e){return function(a,o){const u=new za;return a.asyncQueue.enqueueAndForget(async()=>lN(await _N(a),o,u)),u.promise}(vg(r),e)}function BN(r,e,t){const a=t.docs.get(e._key),o=new wg(r);return new DT(r,o,e._key,a,new pu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){rl=o})(tl),qo(new Vs("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),d=new Zo(new N4(a.getProvider("auth-internal")),new P4(h,a.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ie(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Ua(P_,V_,e),Ua(P_,V_,"esm2017")})();const HN={apiKey:"AIzaSyCNe3IfirYRNpG6j3Oz3u3tOUIGTliD7Zs",authDomain:"innovators-hub-music-53079.firebaseapp.com",projectId:"innovators-hub-music-53079",storageBucket:"innovators-hub-music-53079.firebasestorage.app",messagingSenderId:"942003823583",appId:"1:942003823583:web:2979ff4dced02e09de1a6a"},PT=h1(HN),zs=A4(PT),Gu=SN(PT),hi=O.createContext(),FN=r=>{let[e,t]=O.useState(null);return O.useEffect(()=>{fC(zs,a=>{(a==null?void 0:a.emailVerified)===!0?(t(a),window.localStorage.setItem("TOKEN",a.accessToken)):(t(null),window.localStorage.removeItem("TOKEN"))})},[zs]),b.jsx(hi.Provider,{value:{authUser:e,setAuthUser:t},children:r.children})};let qN={data:""},GN=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||qN,KN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,$N=/\/\*[^]*?\*\/|  +/g,DE=/\n+/g,Pa=(r,e)=>{let t="",a="",o="";for(let u in r){let h=r[u];u[0]=="@"?u[1]=="i"?t=u+" "+h+";":a+=u[1]=="f"?Pa(h,u):u+"{"+Pa(h,u[1]=="k"?"":e)+"}":typeof h=="object"?a+=Pa(h,e?e.replace(/([^,])+/g,d=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,d):d?d+" "+p:p)):u):h!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Pa.p?Pa.p(u,h):u+":"+h+";")}return t+(e&&o?e+"{"+o+"}":o)+a},ji={},VT=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+VT(r[t]);return e}return r},QN=(r,e,t,a,o)=>{let u=VT(r),h=ji[u]||(ji[u]=(p=>{let g=0,E=11;for(;g<p.length;)E=101*E+p.charCodeAt(g++)>>>0;return"go"+E})(u));if(!ji[h]){let p=u!==r?r:(g=>{let E,T,S=[{}];for(;E=KN.exec(g.replace($N,""));)E[4]?S.shift():E[3]?(T=E[3].replace(DE," ").trim(),S.unshift(S[0][T]=S[0][T]||{})):S[0][E[1]]=E[2].replace(DE," ").trim();return S[0]})(r);ji[h]=Pa(o?{["@keyframes "+h]:p}:p,t?"":"."+h)}let d=t&&ji.g?ji.g:null;return t&&(ji.g=ji[h]),((p,g,E,T)=>{T?g.data=g.data.replace(T,p):g.data.indexOf(p)===-1&&(g.data=E?p+g.data:g.data+p)})(ji[h],e,a,d),h},YN=(r,e,t)=>r.reduce((a,o,u)=>{let h=e[u];if(h&&h.call){let d=h(t),p=d&&d.props&&d.props.className||/^go/.test(d)&&d;h=p?"."+p:d&&typeof d=="object"?d.props?"":Pa(d,""):d===!1?"":d}return a+o+(h??"")},"");function Rf(r){let e=this||{},t=r.call?r(e.p):r;return QN(t.unshift?t.raw?YN(t,[].slice.call(arguments,1),e.p):t.reduce((a,o)=>Object.assign(a,o&&o.call?o(e.p):o),{}):t,GN(e.target),e.g,e.o,e.k)}let kT,bp,Tp;Rf.bind({g:1});let Xi=Rf.bind({k:1});function XN(r,e,t,a){Pa.p=e,kT=r,bp=t,Tp=a}function Wa(r,e){let t=this||{};return function(){let a=arguments;function o(u,h){let d=Object.assign({},u),p=d.className||o.className;t.p=Object.assign({theme:bp&&bp()},d),t.o=/ *go\d+/.test(p),d.className=Rf.apply(t,a)+(p?" "+p:"");let g=r;return r[0]&&(g=d.as||r,delete d.as),Tp&&g[0]&&Tp(d),kT(g,d)}return o}}var WN=r=>typeof r=="function",Jh=(r,e)=>WN(r)?r(e):r,ZN=(()=>{let r=0;return()=>(++r).toString()})(),LT=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),JN=20,UT=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,JN)};case 1:return{...r,toasts:r.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:t}=e;return UT(r,{type:r.toasts.find(u=>u.id===t.id)?1:0,toast:t});case 3:let{toastId:a}=e;return{...r,toasts:r.toasts.map(u=>u.id===a||a===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let o=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},Ih=[],Os={toasts:[],pausedAt:void 0},Ks=r=>{Os=UT(Os,r),Ih.forEach(e=>{e(Os)})},eO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},tO=(r={})=>{let[e,t]=O.useState(Os),a=O.useRef(Os);O.useEffect(()=>(a.current!==Os&&t(Os),Ih.push(t),()=>{let u=Ih.indexOf(t);u>-1&&Ih.splice(u,1)}),[]);let o=e.toasts.map(u=>{var h,d,p;return{...r,...r[u.type],...u,removeDelay:u.removeDelay||((h=r[u.type])==null?void 0:h.removeDelay)||(r==null?void 0:r.removeDelay),duration:u.duration||((d=r[u.type])==null?void 0:d.duration)||(r==null?void 0:r.duration)||eO[u.type],style:{...r.style,...(p=r[u.type])==null?void 0:p.style,...u.style}}});return{...e,toasts:o}},nO=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||ZN()}),Ku=r=>(e,t)=>{let a=nO(e,r,t);return Ks({type:2,toast:a}),a.id},Ln=(r,e)=>Ku("blank")(r,e);Ln.error=Ku("error");Ln.success=Ku("success");Ln.loading=Ku("loading");Ln.custom=Ku("custom");Ln.dismiss=r=>{Ks({type:3,toastId:r})};Ln.remove=r=>Ks({type:4,toastId:r});Ln.promise=(r,e,t)=>{let a=Ln.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(o=>{let u=e.success?Jh(e.success,o):void 0;return u?Ln.success(u,{id:a,...t,...t==null?void 0:t.success}):Ln.dismiss(a),o}).catch(o=>{let u=e.error?Jh(e.error,o):void 0;u?Ln.error(u,{id:a,...t,...t==null?void 0:t.error}):Ln.dismiss(a)}),r};var rO=(r,e)=>{Ks({type:1,toast:{id:r,height:e}})},iO=()=>{Ks({type:5,time:Date.now()})},bu=new Map,aO=1e3,sO=(r,e=aO)=>{if(bu.has(r))return;let t=setTimeout(()=>{bu.delete(r),Ks({type:4,toastId:r})},e);bu.set(r,t)},oO=r=>{let{toasts:e,pausedAt:t}=tO(r);O.useEffect(()=>{if(t)return;let u=Date.now(),h=e.map(d=>{if(d.duration===1/0)return;let p=(d.duration||0)+d.pauseDuration-(u-d.createdAt);if(p<0){d.visible&&Ln.dismiss(d.id);return}return setTimeout(()=>Ln.dismiss(d.id),p)});return()=>{h.forEach(d=>d&&clearTimeout(d))}},[e,t]);let a=O.useCallback(()=>{t&&Ks({type:6,time:Date.now()})},[t]),o=O.useCallback((u,h)=>{let{reverseOrder:d=!1,gutter:p=8,defaultPosition:g}=h||{},E=e.filter(C=>(C.position||g)===(u.position||g)&&C.height),T=E.findIndex(C=>C.id===u.id),S=E.filter((C,P)=>P<T&&C.visible).length;return E.filter(C=>C.visible).slice(...d?[S+1]:[0,S]).reduce((C,P)=>C+(P.height||0)+p,0)},[e]);return O.useEffect(()=>{e.forEach(u=>{if(u.dismissed)sO(u.id,u.removeDelay);else{let h=bu.get(u.id);h&&(clearTimeout(h),bu.delete(u.id))}})},[e]),{toasts:e,handlers:{updateHeight:rO,startPause:iO,endPause:a,calculateOffset:o}}},lO=Xi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,uO=Xi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cO=Xi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,hO=Wa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${uO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${cO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,fO=Xi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,dO=Wa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${fO} 1s linear infinite;
`,mO=Xi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,pO=Xi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,gO=Wa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${pO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,yO=Wa("div")`
  position: absolute;
`,vO=Wa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,_O=Xi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,EO=Wa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${_O} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,bO=({toast:r})=>{let{icon:e,type:t,iconTheme:a}=r;return e!==void 0?typeof e=="string"?O.createElement(EO,null,e):e:t==="blank"?null:O.createElement(vO,null,O.createElement(dO,{...a}),t!=="loading"&&O.createElement(yO,null,t==="error"?O.createElement(hO,{...a}):O.createElement(gO,{...a})))},TO=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wO=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,SO="0%{opacity:0;} 100%{opacity:1;}",AO="0%{opacity:1;} 100%{opacity:0;}",RO=Wa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,xO=Wa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,CO=(r,e)=>{let t=r.includes("top")?1:-1,[a,o]=LT()?[SO,AO]:[TO(t),wO(t)];return{animation:e?`${Xi(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Xi(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},IO=O.memo(({toast:r,position:e,style:t,children:a})=>{let o=r.height?CO(r.position||e||"top-center",r.visible):{opacity:0},u=O.createElement(bO,{toast:r}),h=O.createElement(xO,{...r.ariaProps},Jh(r.message,r));return O.createElement(RO,{className:r.className,style:{...o,...t,...r.style}},typeof a=="function"?a({icon:u,message:h}):O.createElement(O.Fragment,null,u,h))});XN(O.createElement);var DO=({id:r,className:e,style:t,onHeightUpdate:a,children:o})=>{let u=O.useCallback(h=>{if(h){let d=()=>{let p=h.getBoundingClientRect().height;a(r,p)};d(),new MutationObserver(d).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[r,a]);return O.createElement("div",{ref:u,className:e,style:t},o)},NO=(r,e)=>{let t=r.includes("top"),a=t?{top:0}:{bottom:0},o=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:LT()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...a,...o}},OO=Rf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ph=16,MO=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:a,children:o,containerStyle:u,containerClassName:h})=>{let{toasts:d,handlers:p}=oO(t);return O.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ph,left:ph,right:ph,bottom:ph,pointerEvents:"none",...u},className:h,onMouseEnter:p.startPause,onMouseLeave:p.endPause},d.map(g=>{let E=g.position||e,T=p.calculateOffset(g,{reverseOrder:r,gutter:a,defaultPosition:e}),S=NO(E,T);return O.createElement(DO,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?OO:"",style:S},g.type==="custom"?Jh(g.message,g):o?o(g):O.createElement(IO,{toast:g,position:E}))}))},Ft=Ln;let $u=O.createContext(),PO=r=>{let[e,t]=O.useState(null),[a,o]=O.useState(!0),{authUser:u}=O.useContext(hi);return O.useEffect(()=>{u&&(()=>{let d=Af(Gu,"user-profile",u==null?void 0:u.uid);zN(d,p=>{t(p.data())})})(),o(!1)},[u]),b.jsx($u.Provider,{value:{userProfile:e,setUserProfile:t,isLoading:a},children:r.children})};const fi=()=>b.jsx("div",{className:"h-[100vh] w-[100vw] fixed top-0 left-0 bg-black/75 flex justify-center items-center",children:b.jsx("div",{id:"container",children:b.jsxs("div",{className:"spinner",children:[b.jsx("div",{}),b.jsx("div",{}),b.jsx("div",{}),b.jsx("div",{}),b.jsx("div",{}),b.jsx("div",{})]})})});var jT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},NE=Ms.createContext&&Ms.createContext(jT),VO=["attr","size","title"];function kO(r,e){if(r==null)return{};var t=LO(r,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(t[a]=r[a])}return t}function LO(r,e){if(r==null)return{};var t={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;t[a]=r[a]}return t}function ef(){return ef=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},ef.apply(this,arguments)}function OE(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,a)}return t}function tf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(t),!0).forEach(function(a){UO(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):OE(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}function UO(r,e,t){return e=jO(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function jO(r){var e=zO(r,"string");return typeof e=="symbol"?e:e+""}function zO(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var a=t.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function zT(r){return r&&r.map((e,t)=>Ms.createElement(e.tag,tf({key:t},e.attr),zT(e.child)))}function Lt(r){return e=>Ms.createElement(BO,ef({attr:tf({},r.attr)},e),zT(r.child))}function BO(r){var e=t=>{var{attr:a,size:o,title:u}=r,h=kO(r,VO),d=o||t.size||"1em",p;return t.className&&(p=t.className),r.className&&(p=(p?p+" ":"")+r.className),Ms.createElement("svg",ef({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,h,{className:p,style:tf(tf({color:r.color||t.color},t.style),r.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&Ms.createElement("title",null,u),r.children)};return NE!==void 0?Ms.createElement(NE.Consumer,null,t=>e(t)):e(jT)}function HO(r){return Lt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(r)}function FO(r){return Lt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"g",attr:{fillRule:"evenodd"},child:[{tag:"circle",attr:{cx:"17",cy:"15.5",r:"1.12"},child:[]},{tag:"path",attr:{d:"M17 17.5c-.73 0-2.19.36-2.24 1.08.5.71 1.32 1.17 2.24 1.17s1.74-.46 2.24-1.17c-.05-.72-1.51-1.08-2.24-1.08z"},child:[]},{tag:"path",attr:{d:"M18 11.09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55A5.973 5.973 0 0 0 17 23c3.31 0 6-2.69 6-6 0-2.97-2.16-5.43-5-5.91zM11 17c0 .56.08 1.11.23 1.62-.24.11-.48.22-.73.3-3.17-1-5.5-4.24-5.5-7.74v-3.6l5.5-2.4 5.5 2.4v3.51c-2.84.48-5 2.94-5 5.91zm6 4c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"},child:[]}]}]})(r)}function qO(r){return Lt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 4v12H8V4h12m0-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 9.67 1.69 2.26 2.48-3.1L19 15H9zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"},child:[]}]})(r)}function GO(r){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M11.5 280.6l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2zm256 0l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2z"},child:[]}]})(r)}function wp(r){return Lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(r)}function Sp(r){return Lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(r)}function KO(r){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"},child:[]}]})(r)}function $O(r){return Lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(r)}function QO(r){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm-16 328c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v160zm112 0c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v160z"},child:[]}]})(r)}function YO(r){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"},child:[]}]})(r)}function XO(r){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(r)}function WO(r){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"},child:[]}]})(r)}function ZO(r){return Lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"},child:[]}]})(r)}function BT(r){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 13m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M13.45 11.55l2.05 -2.05"},child:[]},{tag:"path",attr:{d:"M6.4 20a9 9 0 1 1 11.2 0z"},child:[]}]})(r)}function JO(r){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"},child:[]},{tag:"path",attr:{d:"M9 12h12l-3 -3"},child:[]},{tag:"path",attr:{d:"M18 15l3 -3"},child:[]}]})(r)}const e6=()=>{let{authUser:r}=O.useContext(hi),{userProfile:e,isLoading:t}=O.useContext($u),a=ui();const o=async()=>{try{await dC(zs),Ft.success("Logged Out!"),a("/auth/login")}catch(u){Ft.error(u.message)}};return b.jsxs("aside",{children:[b.jsxs("ul",{className:"flex gap-10 font-semibold items-center ",children:[(e==null?void 0:e.role)==="admin"&&r&&b.jsx("li",{children:b.jsxs(kt,{to:"/admin",className:u=>{let{isActive:h}=u;return`px-2 py-3 rounded-lg cursor-pointer hover:bg-blue-700 flex gap-2 items-center  ${h&&"bg-blue-600"}`},children:[b.jsx(FO,{}),"Admin"]})}),b.jsx("li",{children:b.jsxs(kt,{to:"/",className:u=>{let{isActive:h}=u;return`px-2 py-3 rounded-lg cursor-pointer hover:bg-blue-700 flex gap-2 items-center ${h&&"bg-blue-600"}`},children:[b.jsx($O,{}),"Home"]})}),r?b.jsxs(b.Fragment,{children:[b.jsx("li",{children:b.jsxs("button",{className:"px-2 py-3 rounded-lg cursor-pointer hover:bg-blue-700 flex gap-2 items-center",onClick:o,children:[b.jsx(JO,{}),"Logout"]})}),b.jsx("li",{children:b.jsx(kt,{to:"/user-profile",children:b.jsx("img",{src:r.photoURL,alt:"",className:"h-[30px] w-[30px] rounded-full"})})})]}):b.jsxs(b.Fragment,{children:[b.jsx("li",{children:b.jsx(kt,{to:"auth/login",className:u=>{let{isActive:h}=u;return`px-2 py-3 rounded-lg cursor-pointer hover:bg-blue-700 ${h&&"bg-blue-600"}`},children:"Login"})}),b.jsx("li",{children:b.jsx(kt,{to:"auth/register",className:u=>{let{isActive:h}=u;return`px-2 py-3 rounded-lg cursor-pointer hover:bg-blue-700 ${h&&"bg-blue-600"}`},children:"Register"})})]})]}),t&&b.jsx(fi,{})]})},t6=()=>b.jsx("header",{className:"h-[65px] w-[100%] sticky top-0 bg-slate-700 shadow-xl-z-10 shadow-white ",children:b.jsxs("article",{className:"w-[95%] m-auto h-[100%] flex items-center justify-between",children:[b.jsx(RA,{}),b.jsx(e6,{})]})}),n6=()=>b.jsxs("div",{children:[b.jsx(t6,{}),b.jsx(sf,{})]}),r6=()=>b.jsx("div",{className:"h-[calc(100vh-65px)] sticky top-[70px] w-[20%] bg-slate-600 px-4 py-8 shrink-0",children:b.jsx("ul",{className:"text-4xl font-medium flex flex-col gap-15 m-5 cursor-pointer",children:b.jsx("li",{children:b.jsxs(kt,{to:"/",end:!0,className:r=>{let{isActive:e}=r;return`py-3 px-4 w-[100%] rounded-xl hover:bg-sky-600 flex items-center gap-5 ${e&&"hover: bg-sky-700"}`},children:[b.jsx(BT,{}),"Dashboard"]})})})}),xf=O.createContext();let i6=r=>{let[e,t]=O.useState([]),[a,o]=O.useState(!1);//!STATES FROM INSTRUCTOR, FROM NPM'S REACT-PRO-AUDIO-PLAYER LIBRARY, DO NOT TOUCH!
const[u,h]=O.useState([]),[d,p]=O.useState(!1),[g,E]=O.useState(null);return O.useEffect(()=>{(async()=>{try{o(!0);let S=wN(Gu,"album_collection"),P=(await UN(S)).docs.map($=>$.data());console.log(P),t(P)}catch(S){console.log(S)}finally{o(!1)}})()},[]),b.jsx(xf.Provider,{value:{albums:e,isLoading:a,songs:u,setSongs:h,isPlaying:d,setIsPlaying:p,currentSongIndex:g,setCurrentSongIndex:E},children:r.children})};function a6(r){return Lt({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.901 2.599c-1.463-1.597-3.565-2.599-5.901-2.599-4.418 0-8 3.582-8 8h1.5c0-3.59 2.91-6.5 6.5-6.5 1.922 0 3.649 0.835 4.839 2.161l-2.339 2.339h5.5v-5.5l-2.099 2.099z"},child:[]},{tag:"path",attr:{d:"M14.5 8c0 3.59-2.91 6.5-6.5 6.5-1.922 0-3.649-0.835-4.839-2.161l2.339-2.339h-5.5v5.5l2.099-2.099c1.463 1.597 3.565 2.599 5.901 2.599 4.418 0 8-3.582 8-8h-1.5z"},child:[]}]})(r)}const s6=({initialSongs:r=[],songs:e,onSongsChange:t,isPlaying:a,onPlayPauseChange:o,currentSongIndex:u,onSongChange:h,songUrlKey:d="src",songNameKey:p="name",songThumbnailKey:g="thumbnail",songSingerKey:E="singer"})=>{var Ut,Un,Ct,qn;const[T,S]=O.useState(r),C=e!==void 0?e:T,[P,$]=O.useState(!1),j=a!==void 0?a:P,[X,ee]=O.useState(0),Z=u!==void 0?u:X,[oe,V]=O.useState(0),[ue,M]=O.useState(0),[x,R]=O.useState(1),[I,U]=O.useState(!1),[H,N]=O.useState(!1),[pt,Ue]=O.useState(1),ce=O.useRef(new Audio);O.useEffect(()=>{var Sr;if(C.length===0)return;const je=ce.current;je.src=(Sr=C[Z])==null?void 0:Sr[d],je.load();const qt=()=>V(je.currentTime),Lr=()=>M(je.duration),wr=()=>ae();return je.addEventListener("loadedmetadata",Lr),je.addEventListener("timeupdate",qt),je.addEventListener("ended",wr),j&&je.play().catch(()=>console.error("Playback failed.")),()=>{je.removeEventListener("loadedmetadata",Lr),je.removeEventListener("timeupdate",qt),je.removeEventListener("ended",wr)}},[C,Z]),O.useEffect(()=>{const je=ce.current;j?je.play().catch(()=>console.error("Playback failed.")):je.pause()},[j]),O.useEffect(()=>{ce.current.volume=I?0:x},[x,I]),O.useEffect(()=>{ce.current.loop=H},[H]),O.useEffect(()=>{ce.current.playbackRate=pt},[pt]);const Re=je=>{const qt=parseFloat(je.target.value);ce.current.currentTime=qt,V(qt)},Ee=je=>{const qt=parseFloat(je.target.value);I&&U(!1),R(qt)},ke=je=>{u===void 0&&ee(je),h&&h(je)},k=je=>{a===void 0&&$(je),o&&o(je)},ae=()=>{const je=(Z+1)%C.length;ke(je),k(!0)},ge=()=>{const je=Z===0?C.length-1:Z-1;ke(je),k(!0)},fe=()=>U(je=>!je),de=()=>N(je=>!je),De=()=>k(!j),Le=()=>{ce.current.pause(),V(0),ce.current.currentTime=0,k(!1),u!==void 0&&h&&h(null)};if(C.length===0)return b.jsx("p",{children:"No songs available."});const _t=ue&&oe?oe/ue*100:0,We={background:`linear-gradient(to right, #e11d48 ${_t}%, #d1d5db ${_t}%)`},Fe=I?0:x*100,Qe={background:`linear-gradient(to right, #e11d48 ${Fe}%, #d1d5db ${Fe}%)`};return b.jsx("section",{className:"custom-audio-player",children:b.jsxs("div",{className:"audio-player",children:[b.jsxs("div",{className:"controls-wrapper",children:[b.jsx("div",{className:"left-controls",children:b.jsxs("div",{className:"song-details",children:[b.jsx("span",{className:"song-thumbnail",children:((Ut=C[Z])==null?void 0:Ut[g])&&b.jsx("img",{src:(Un=C[Z])==null?void 0:Un[g]})}),b.jsxs("div",{className:"song-detail",children:[b.jsx("span",{className:"song-title",children:(Ct=C[Z])==null?void 0:Ct[p]}),b.jsx("span",{className:"song-singer",children:(qn=C[Z])==null?void 0:qn[E]})]})]})}),b.jsxs("div",{className:"center-controls",children:[b.jsx("button",{onClick:ge,"aria-label":"Previous track",className:"btn playback-btn",children:b.jsx(GO,{})}),b.jsx("button",{onClick:De,"aria-label":j?"Pause":"Play",className:"btn playback-btn play-pause-btn",children:j?b.jsx(QO,{}):b.jsx(YO,{})}),b.jsx("button",{onClick:ae,"aria-label":"Next track",className:"btn playback-btn",children:b.jsx(KO,{})})]}),b.jsxs("div",{className:"right-controls",children:[b.jsx("button",{onClick:de,"aria-label":"Toggle loop",className:"btn loop-btn",children:H?b.jsx(a6,{}):b.jsx(XO,{})}),b.jsx("button",{onClick:fe,"aria-label":I?"Unmute":"Mute",className:"btn mute-btn",children:I?b.jsx(WO,{}):b.jsx(ZO,{})}),b.jsx("input",{type:"range",className:"volume-slider",min:"0",max:"1",step:"0.1",value:I?0:x,onChange:Ee,"aria-label":"Volume slider",style:Qe}),b.jsxs("select",{className:"playback-speed",value:pt,onChange:je=>Ue(parseFloat(je.target.value)),"aria-label":"Playback speed",children:[b.jsx("option",{value:"0.5",children:"0.5x"}),b.jsx("option",{value:"1",children:"1x"}),b.jsx("option",{value:"1.5",children:"1.5x"}),b.jsx("option",{value:"2",children:"2x"})]}),b.jsx("button",{onClick:Le,"aria-label":"Cancel playback",className:"btn cancel-btn",children:b.jsx(HO,{})})]})]}),b.jsxs("div",{className:"progress-wrapper",children:[b.jsxs("span",{className:"time",children:[Math.floor(oe/60),":",String(Math.floor(oe%60)).padStart(2,"0")]}),b.jsx("input",{type:"range",className:"progress-bar",min:"0",max:ue||1,value:oe,onChange:Re,"aria-label":"Seek slider",style:We}),b.jsxs("span",{className:"time",children:[Math.floor(ue/60),":",String(Math.floor(ue%60)).padStart(2,"0")]})]})]})})},o6=()=>{let{songs:r,setSongs:e,isPlaying:t,setIsPlaying:a,currentSongIndex:o,setCurrentSongIndex:u}=O.useContext(xf);return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex bg-slate-800 min-h-[calc(100vh-65px)]",children:[b.jsx(r6,{}),b.jsx(sf,{})]}),o!==null&&b.jsx("div",{className:"fixed bottom-0 w-full",children:b.jsx(s6,{songs:r,isPlaying:t,currentSongIndex:o,onPlayPauseChange:a,onSongChange:u,songUrlKey:"songURL",songNameKey:"songName",songThumbnailKey:"songThumbnail",songSingerKey:"songSingers"})})]})},l6=()=>{let[r,e]=O.useState(!1),[t,a]=O.useState(!1),o=ui(),{setAuthUser:u}=O.useContext(hi),[h,d]=O.useState({email:"",password:""}),{email:p,password:g}=h,E=S=>{let C=S.target.value,P=S.target.name;d({...h,[P]:C})};const T=async S=>{S.preventDefault();try{a(!0);let C=await oC(zs,p,g),{user:P}=C;console.log(P),P.emailVerified===!0?(Ft.success("Login Successful!"),u(P),o("/")):Ft.error("Please verify your email and get back here!")}catch(C){Ft.error(C.message)}finally{a(!1)}};return b.jsxs("section",{className:"h-[calc(100vh-65px)] w-[100%] bg-slate-900 flex items-center justify-center",children:[b.jsxs("div",{className:"w-[30%] bg-slate-700 p-5 rounded-2xl border border-dashed",children:[b.jsx("header",{children:b.jsx("h1",{className:"text-center text-3xl font-semibold",children:"Login Page"})}),b.jsx("main",{children:b.jsxs("form",{action:"",className:"flex flex-col gap-4 m-3",onSubmit:T,children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block p-2",children:"Email: "}),b.jsx("input",{type:"email",id:"email",className:"border-1 w-[100%] rounded-md px-2 h-10",placeholder:"Enter Email",onChange:E,name:"email",value:p})]}),b.jsxs("div",{className:"relative",children:[b.jsx("label",{htmlFor:"password",className:"block p-2",children:"Password: "}),b.jsx("input",{type:r?"text":"password",id:"password",className:"border-1 w-[100%] rounded-md px-2 h-10",placeholder:"Enter Password",onChange:E,name:"password",value:g}),r?b.jsx(Sp,{className:"absolute bottom-3 right-3",onClick:()=>e(!r)}):b.jsx(wp,{className:"absolute bottom-3 right-3",onClick:()=>e(!r)})]}),b.jsx("div",{className:"flex justify-center",children:b.jsx("button",{className:"bg-blue-400 w-[100%] mt-2 py-1 border-1 border-dotted rounded-2xl cursor-pointer",children:"Login!"})}),b.jsxs("div",{className:"mt-5 text-center",children:[b.jsx("h3",{className:"mt-2",children:"Don't have an account?"}),b.jsx(kt,{to:"/auth/register",className:"hover:text-blue-600 hover:underline",children:"Click here to Register!"})]}),b.jsx("div",{className:"mt-4 text-center",children:b.jsx(kt,{to:"/auth/forgot-password",className:"hover:text-blue-600 hover:underline ",children:"Forgot Password?! 😓"})})]})})]}),t&&b.jsx(fi,{})]})},u6=()=>{let[r,e]=O.useState(!1),[t,a]=O.useState(!1),o=ui(),[u,h]=O.useState(!1),[d,p]=O.useState({username:"",email:"",password:"",confirmpassword:""}),{username:g,email:E,password:T,confirmpassword:S}=d,C=$=>{let j=$.target.value,X=$.target.name;p({...d,[X]:j})},P=async $=>{$.preventDefault();try{if(h(!0),T!==S)Ft.error("Passwords don't match!"),p({...d,confirmpassword:""});else{let j=await sC(zs,E,T),{user:X}=j;console.log(X),await H1(X,{displayName:g,photoURL:"https://t4.ftcdn.net/jpg/02/29/75/83/360_F_229758328_7x8jwCwjtBMmC6rgFzLFhZoEpLobB6L8.jpg"}),lC(X),Ft("Verification link sent to: "+X),Ft.success("User Registered!"),o("/auth/login")}}catch(j){console.log(j.message),Ft.error("Error: "+j.message.slice(22,j.message.length-2)+"!")}finally{h(!1)}};return b.jsxs("section",{className:"h-[calc(100vh-65px)] w-[100%] bg-slate-900 flex items-center justify-center",children:[b.jsxs("div",{className:"w-[30%] bg-slate-700 p-5 rounded-2xl border border-dashed",children:[b.jsx("header",{children:b.jsx("h1",{className:"text-center text-3xl font-semibold",children:"Register Page"})}),b.jsx("main",{children:b.jsxs("form",{action:"",className:"flex flex-col gap-4 m-3",onSubmit:P,children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"username",className:"block p-2",children:"Username: "}),b.jsx("input",{type:"text",id:"username",className:"border-1 w-[100%] rounded-md px-2 h-10",placeholder:"Enter Username",onChange:C,name:"username",value:g})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block p-2",children:"Email: "}),b.jsx("input",{type:"email",id:"email",className:"border-1 w-[100%] rounded-md px-2 h-10",placeholder:"Enter Email",onChange:C,name:"email",value:E})]}),b.jsxs("div",{className:"relative",children:[b.jsx("label",{htmlFor:"password",className:"block p-2",children:"Password: "}),b.jsx("input",{type:r?"text":"password",id:"password",className:"border-1 w-[100%] rounded-md px-2 h-10",placeholder:"Enter Password",onChange:C,name:"password",value:T}),r?b.jsx(Sp,{className:"absolute bottom-3 right-3",onClick:()=>e(!r)}):b.jsx(wp,{className:"absolute bottom-3 right-3",onClick:()=>e(!r)})]}),b.jsxs("div",{className:"relative",children:[b.jsx("label",{htmlFor:"confpwd",className:"block p-2",children:"Confirm Password: "}),b.jsx("input",{type:"password",id:"confpwd",className:"border-1 w-[100%] rounded-md px-2 h-10",placeholder:"Confirm Previously Entered Password",onChange:C,name:"confirmpassword",value:S}),t?b.jsx(Sp,{className:"absolute bottom-3 right-3",onClick:()=>a(!t)}):b.jsx(wp,{className:"absolute bottom-3 right-3",onClick:()=>a(!t)})]}),b.jsx("div",{className:"flex justify-center",children:b.jsx("button",{className:"bg-blue-400 w-[100%] mt-2 py-1 border-1 border-dotted rounded-2xl cursor-pointer",children:"Register!"})}),b.jsxs("div",{className:"mt-5 text-center",children:[b.jsx("h3",{children:"Already have an account?"}),b.jsx(kt,{to:"/auth/login",className:"hover:text-blue-600 hover:underline",children:"Click here to Login!"})]})]})})]}),u&&b.jsx(fi,{})]})},c6=()=>b.jsx(b.Fragment,{children:b.jsx("div",{className:"bg-gray-800 h-[100vh] w-[100vw] flex flex-col justify-center items-center",children:b.jsxs("div",{className:"h-[500px] w-[700px] bg-black flex flex-col justify-center items-center rounded-[80%] border-3 border-dotted border-white relative",children:[b.jsx("section",{className:"text-[65px] text-sky-900 animate-pulse hover:animate-ping hover:cursor-pointer hover:text-white",children:b.jsx("h1",{children:"404!"})}),b.jsx("section",{className:"text-2xl",children:b.jsx("h1",{className:"text-gray-300",children:"Looks like you've headed West instead of East! 🧭 (Page Not Found!)"})}),b.jsx("section",{className:"p-5",children:b.jsx("h1",{className:"text-2xl underline decoration-gray-300 decoration-wavy border-1 border-dashed p-4 rounded-xl",children:b.jsx("i",{children:"Psst... Click the below button before you fall into the mighty black hole of darknesss!"})})}),b.jsx("div",{children:b.jsx(kt,{to:"/",children:b.jsx("button",{className:"m-8 p-10 bg-gray-600 text-gray-900 hover:bg-black-100 rounded-4xl border-2 border-white border-dotted hover:border-sky-500 hover:text-white cursor-pointer hover:underline hover:decoration-dotted animate-bounce",children:'Click to "Zoom" back East (Home!)'})})})]})})}),h6=()=>{let[r,e]=O.useState(""),[t,a]=O.useState(!1),o=ui(),u=d=>{e(d.target.value)},h=async d=>{d.preventDefault();try{a(!0),await B1(zs,r),Ft.success("Check your mail to reset password!"),o("/auth/login")}catch(p){Ft.error(p.message)}finally{a(!1)}};return b.jsxs("section",{className:"h-[calc(100vh-65px)] w-[100%] bg-slate-900 flex items-center justify-center",children:[b.jsxs("div",{className:"w-[30%] bg-slate-700 p-5 rounded-2xl border border-dashed",children:[b.jsx("header",{children:b.jsx("h1",{className:"text-center text-3xl font-semibold m-3",children:"Reset Password"})}),b.jsx("main",{children:b.jsxs("form",{action:"",className:"flex flex-col gap-4 m-7",onSubmit:h,children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block p-2",children:"Email: "}),b.jsx("input",{type:"email",id:"email",className:"border-1 w-[100%] rounded-md px-2 h-10",placeholder:"Enter Email",onChange:u,name:"email",value:r})]}),b.jsx("div",{className:"flex justify-center",children:b.jsx("button",{className:"bg-blue-400 w-[100%] mt-2 py-1 border-1 border-dotted rounded-2xl cursor-pointer hover:bg-blue-600",children:"Reset Password!"})}),b.jsx("div",{className:"mt-5 text-center",children:b.jsx(kt,{to:"/auth/login",className:"hover:text-black hover:underline block w-full bg-rose-600 hover:bg-rose-400 rounded-3xl p-2 border-1 border-dotted cursor-pointer",children:"Cancel!!"})})]})})]}),t&&b.jsx(fi,{})]})},f6=()=>{let{authUser:r}=O.useContext(hi),{userProfile:e,isLoading:t}=O.useContext($u);return b.jsxs("section",{className:"h-[100%] w-[100%] bg-sky-700 flex items-center justify-center",children:[b.jsxs("div",{className:"min-h-[450px] w-[45%] bg-slate-700 rounded-2xl p-7 flex flex-col gap-5",children:[b.jsxs("header",{className:"h-[120px] w-full bg-slate-600 rounded-t-xl flex items-center flex-col gap-2",children:[b.jsx("img",{src:r==null?void 0:r.photoURL,alt:"",className:"h-50 w-50 rounded-[50%] -mt-25"}),b.jsx("h1",{className:"text-2xl",children:r==null?void 0:r.displayName}),b.jsx("h1",{className:"text-2xl",children:r==null?void 0:r.email})]}),e?b.jsxs("div",{className:"flex flex-col gap-8 mt-5",children:[b.jsx("h2",{className:"text-center text-4xl font-semibold",children:"Personal Information"}),b.jsxs("article",{className:"flex flex-wrap gap-10 text-2xl",children:[b.jsxs("div",{className:"w-[48%] bg-sky-900 py-4 px-6 rounded-xl",children:[b.jsx("h3",{className:"font-semibold",children:"Phone Number:"}),b.jsx("p",{children:e==null?void 0:e.phoneNo})]}),b.jsxs("div",{className:"w-[48%] bg-sky-900 py-4 px-6 rounded-xl",children:[b.jsx("h3",{className:"font-semibold",children:"DOB:"}),b.jsx("p",{children:e==null?void 0:e.dateOfBirth})]}),b.jsxs("div",{className:"w-[48%] bg-sky-900 py-4 px-6 rounded-xl",children:[b.jsx("h3",{className:"font-semibold",children:"Languages:"}),b.jsx("p",{children:e==null?void 0:e.languages})]}),b.jsxs("div",{className:"w-[48%] bg-sky-900 py-4 px-6 rounded-xl",children:[b.jsx("h3",{className:"font-semibold",children:"Gender:"}),b.jsx("p",{children:e==null?void 0:e.gender})]}),b.jsxs("div",{className:"w-[100%] bg-sky-900 py-4 px-6 rounded-xl",children:[b.jsx("h3",{className:"font-semibold",children:"Address:"}),b.jsx("p",{children:e==null?void 0:e.address})]})]})]}):b.jsx(b.Fragment,{children:b.jsxs("div",{className:"h-[300px] w-full bg-slate-800 flex flex-col items-center justify-center gap-6 rounded-b-xl",children:[b.jsxs("h2",{className:"text-3xl text-center",children:["User data not found!",b.jsx("br",{}),b.jsx("br",{}),"Click the button below to add data."]}),b.jsx(kt,{to:"/user-profile/update-profile",className:"bg-sky-600 p-5 rounded-xl text-xl",children:"Add User Data"})]})})]}),t&&b.jsx(fi,{})]})},d6=()=>{let[r,e]=O.useState(!1),t=ui(),{authUser:a}=O.useContext(hi),{userProfile:o}=O.useContext($u),[u,h]=O.useState({phone:o==null?void 0:o.phoneNo,dob:o==null?void 0:o.dateOfBirth,lang:o==null?void 0:o.languages,gender:o==null?void 0:o.gender,address:o==null?void 0:o.address}),{phone:d,dob:p,lang:g,gender:E,address:T}=u,S=P=>{let $=P.target.name,j=P.target.value;h({...u,[$]:j})},C=async P=>{P.preventDefault();let{displayName:$,email:j,photoURL:X,uid:ee}=a,Z={name:$,email:j,photo:X,id:ee,phoneNo:d,dateOfBirth:p,gender:E,languages:g,address:T,role:"user"};try{e(!0),console.log(Z);let oe=Af(Gu,"user-profile",ee);await OT(oe,Z),Ft.success("Details added successfully!"),t("/user-profile")}catch(oe){Ft.error(oe.message)}finally{e(!1)}};return b.jsxs("section",{className:"h-[100%] w-[100%] bg-sky-700 flex items-center justify-center",children:[b.jsxs("div",{className:"min-h-[400px] w-[60%] bg-slate-700 rounded-2xl p-7 flex flex-col gap-10",children:[b.jsx("h2",{className:"text-center text-3xl",children:"Upload Profile Information"}),b.jsxs("form",{action:"",className:"mt-8 flex flex-col gap-15 m-20",onSubmit:C,children:[b.jsxs("section",{className:"flex gap-10 w-full",children:[b.jsxs("div",{className:"flex flex-col gap-2 w-[48%]",children:[b.jsx("label",{htmlFor:"phone",className:"block text-[18px]",children:"Phone Number:"}),b.jsx("input",{type:"tel",id:"phone",placeholder:"Enter Phone Number",name:"phone",value:d,className:"outline-none bg-white py-2 px-4 rounded-lg text-black",onChange:S})]}),b.jsxs("div",{className:"flex flex-col gap-2 w-[48%]",children:[b.jsx("label",{htmlFor:"dob",className:"block text-[18px]",children:"Date Of Birth:"}),b.jsx("input",{type:"date",id:"dob",name:"dob",value:p,className:"outline-none bg-white py-2 px-4 rounded-lg text-black",onChange:S})]})]}),b.jsxs("section",{className:"flex gap-10 w-full",children:[b.jsxs("div",{className:"flex flex-col gap-2 w-[48%]",children:[b.jsx("label",{htmlFor:"lang",className:"block text-[18px]",children:"Language:"}),b.jsx("input",{type:"text",id:"lang",placeholder:"Enter Languages",name:"lang",value:g,className:"outline-none bg-white py-2 px-4 rounded-lg text-black",onChange:S})]}),b.jsxs("div",{className:"flex flex-col gap-2 w-[48%]",children:[b.jsx("label",{className:"block text-[18px]",children:"Gender:"}),b.jsxs("div",{className:"flex gap-8 text-xl mt-3 ml-4",children:[b.jsx("input",{type:"radio",name:"gender",value:"Male",checked:E==="Male",onChange:S}),b.jsx("span",{children:"Male"}),b.jsx("input",{type:"radio",name:"gender",value:"Female",checked:E==="Female",onChange:S}),b.jsx("span",{children:"Female"}),b.jsx("input",{type:"radio",name:"gender",value:"Others",checked:E==="Others",onChange:S}),b.jsx("span",{children:"Others"})]})]})]}),b.jsxs("div",{className:"flex flex-col gap-2 ",children:[b.jsx("label",{htmlFor:"address",className:"block text-[18px]",children:"Address: "}),b.jsx("textarea",{id:"address",placeholder:"Enter Address",onChange:S,name:"address",value:T,className:"outline-none bg-white py-2 px-4 rounded-lg text-black"})]}),b.jsx("button",{className:"bg-gray-500 p-5 text-2xl rounded-xl cursor-pointer font-semibold border-1 border-dashed hover:bg-gray-800",children:"Submit"})]})]}),r&&b.jsx(fi,{})]})};function m6(r){return Lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M246.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 109.3 192 320c0 17.7 14.3 32 32 32s32-14.3 32-32l0-210.7 73.4 73.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-128-128zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 64c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 64c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-64z"},child:[]}]})(r)}function p6(r){return Lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l293.1 0c-3.1-8.8-3.7-18.4-1.4-27.8l15-60.1c2.8-11.3 8.6-21.5 16.8-29.7l40.3-40.3c-32.1-31-75.7-50.1-123.9-50.1l-91.4 0zm435.5-68.3c-15.6-15.6-40.9-15.6-56.6 0l-29.4 29.4 71 71 29.4-29.4c15.6-15.6 15.6-40.9 0-56.6l-14.4-14.4zM375.9 417c-4.1 4.1-7 9.2-8.4 14.9l-15 60.1c-1.4 5.5 .2 11.2 4.2 15.2s9.7 5.6 15.2 4.2l60.1-15c5.6-1.4 10.8-4.3 14.9-8.4L576.1 358.7l-71-71L375.9 417z"},child:[]}]})(r)}function g6(r){return Lt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 2H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm-6 2.5a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5zM19 15H9v-.25C9 12.901 11.254 11 14 11s5 1.901 5 3.75V15z"},child:[]},{tag:"path",attr:{d:"M4 8H2v12c0 1.103.897 2 2 2h12v-2H4V8z"},child:[]}]})(r)}function y6(r){return Lt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M256,72V184a16,16,0,0,1-16,16H16A16,16,0,0,1,0,184V72A16,16,0,0,1,16,56H240A16,16,0,0,1,256,72Z",opacity:"0.2"},child:[]},{tag:"path",attr:{d:"M48,56V200a8,8,0,0,1-16,0V56a8,8,0,0,1,16,0Zm92,54.5L120,117V96a8,8,0,0,0-16,0v21L84,110.5a8,8,0,0,0-5,15.22l20,6.49-12.34,17a8,8,0,1,0,12.94,9.4l12.34-17,12.34,17a8,8,0,1,0,12.94-9.4l-12.34-17,20-6.49A8,8,0,0,0,140,110.5ZM246,115.64A8,8,0,0,0,236,110.5L216,117V96a8,8,0,0,0-16,0v21l-20-6.49a8,8,0,0,0-4.95,15.22l20,6.49-12.34,17a8,8,0,1,0,12.94,9.4l12.34-17,12.34,17a8,8,0,1,0,12.94-9.4l-12.34-17,20-6.49A8,8,0,0,0,246,115.64Z"},child:[]}]})(r)}function v6(r){return Lt({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M888 784H664c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h224c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM373.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 0 1-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 0 0 8 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7zM824 484c0-109.4-87.9-198.3-196.9-200C516.3 282.3 424 373.2 424 484c0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 0 0-86.4 60.4C357 754.6 326 826.8 324 903.8a8 8 0 0 0 8 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5C505.8 707.7 563 684 624 684c110.4 0 200-89.5 200-200zm-109.5 90.5C690.3 598.7 658.2 612 624 612s-66.3-13.3-90.5-37.5a127.26 127.26 0 0 1-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4-.1 34.2-13.4 66.3-37.6 90.5z"},child:[]}]})(r)}const _6=()=>b.jsx("div",{className:"h-[100%] w-[20%] bg-slate-600 px-4 py-8 shrink-0",children:b.jsxs("ul",{className:"text-4xl font-medium flex flex-col gap-15 m-5 cursor-pointer",children:[b.jsx("li",{children:b.jsxs(kt,{to:"/user-profile",end:!0,className:r=>{let{isActive:e}=r;return`py-3 px-4 w-[100%] rounded-xl hover:bg-sky-600 flex items-center gap-5 ${e&&"hover: bg-sky-700"}`},children:[b.jsx(g6,{}),"My Account"]})}),b.jsx("li",{children:b.jsxs(kt,{to:"/user-profile/update-picture",className:r=>{let{isActive:e}=r;return`py-3 px-4 w-[100%] rounded-xl hover:bg-sky-600 flex items-center gap-5 ${e&&"hover: bg-sky-700"}`},children:[b.jsx(qO,{}),"Update Picture"]})}),b.jsx("li",{children:b.jsxs(kt,{to:"/user-profile/update-profile",className:r=>{let{isActive:e}=r;return`py-3 px-4 w-[100%] rounded-xl hover:bg-sky-600 flex items-center gap-5 ${e&&"hover: bg-sky-700"}`},children:[b.jsx(p6,{}),"Update Profile"]})}),b.jsx("li",{children:b.jsxs(kt,{to:"/user-profile/update-password",className:r=>{let{isActive:e}=r;return`py-3 px-4 w-[100%] rounded-xl hover:bg-sky-600 flex items-center gap-5 ${e&&"hover: bg-sky-700"}`},children:[b.jsx(y6,{}),"Update Password"]})}),b.jsx("li",{children:b.jsxs(kt,{to:"/user-profile/delete-account",className:r=>{let{isActive:e}=r;return`py-3 px-4 w-[100%] rounded-xl hover:bg-red-500 flex items-center gap-5 text-white ${e&&"hover: bg-red-700 text-white"}`},children:[b.jsx(v6,{}),"Delete Account"]})})]})}),E6=()=>b.jsxs("div",{className:"h-[calc(100vh-65px)] flex bg-slate-500",children:[b.jsx(_6,{}),b.jsx(sf,{})]}),b6=()=>{let[r,e]=O.useState(null),[t,a]=O.useState(null),{authUser:o}=O.useContext(hi),u=ui(),[h,d]=O.useState(!1);const p=E=>{console.log(E);let T=E.target.files[0];if(e(T),T){let S=URL.createObjectURL(T);console.log(S),a(S)}},g=async E=>{E.preventDefault();try{if(d(!0),r){const T=new FormData;T.append("file",r),T.append("upload_preset","Innovators Hub Music");let C=await(await fetch("https://api.cloudinary.com/v1_1/dz4q4vx88/image/upload",{method:"POST",body:T})).json();console.log(C),await H1(o,{photoURL:C.url}),Ft.success("Photo successfully updated!"),u("/user-profile")}else{Ft.error("Select a picture first!");return}}catch(T){Ft.error(T.message)}finally{d(!1)}};return b.jsxs("section",{className:"h-[100%] w-[100%] bg-sky-700 flex items-center justify-center",children:[b.jsxs("div",{className:"min-h-[300px] w-[35%] bg-slate-700 rounded-2xl p-7 flex flex-col gap-10",children:[b.jsx("h2",{className:"text-center text-3xl",children:"Upload Profile Picture"}),b.jsxs("form",{action:"",className:"flex flex-col text-2xl gap-15",onSubmit:g,children:[b.jsx("div",{className:"h-50 w-50 m-auto bg-gray-600 flex rounded-full",children:t?b.jsx("img",{src:t,alt:"",className:"h-full w-full rounded-full"}):b.jsx("div",{className:"h-full w-full flex items-center justify-center",children:"No file chosen"})}),b.jsx("label",{htmlFor:"pic",className:"block p-5 rounded-xl border-2 border-dotted text-center w-[100%] cursor-pointer",accept:"image/*",children:"Select a picture"}),b.jsx("input",{type:"file",id:"pic",className:"hidden",onChange:p}),b.jsxs("button",{className:"rounded-lg border-2 border-dashed p-3 w-full bg-blue-600 hover:bg-blue-800 cursor-pointer flex justify-center gap-8",children:[b.jsx(m6,{}),"Upload Photo"]})]})]}),h&&b.jsx(fi,{})]})},T6=()=>{let[r,e]=O.useState(""),[t,a]=O.useState(!1),o=ui(),u=d=>{e(d.target.value)},h=async d=>{d.preventDefault();try{a(!0),await B1(zs,r),Ft.success("Check your mail to reset password!"),o("/auth/login")}catch(p){Ft.error(p.message)}finally{a(!1)}};return b.jsxs("section",{className:"h-[calc(100vh-65px)] w-[100%] bg-sky-600 flex items-center justify-center",children:[b.jsxs("div",{className:"w-[30%] bg-slate-600 p-5 rounded-2xl border border-dashed",children:[b.jsx("header",{children:b.jsx("h1",{className:"text-center text-3xl font-semibold m-3",children:"Update Password"})}),b.jsx("main",{children:b.jsxs("form",{action:"",className:"flex flex-col gap-4 m-7 text-2xl",onSubmit:h,children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block p-2",children:"Email: "}),b.jsx("input",{type:"email",id:"email",className:"border-1 w-[100%] rounded-md px-2 h-10",placeholder:"Enter Email",onChange:u,name:"email",value:r})]}),b.jsx("div",{className:"flex justify-center",children:b.jsx("button",{className:"bg-[#008CBA] w-[100%] mt-2 py-1 border-1 border-dotted rounded-2xl cursor-pointer hover:bg-blue-600",children:"Update Password!"})}),b.jsx("div",{className:"mt-5 text-center",children:b.jsx(kt,{to:"/auth/login",className:"hover:text-black hover:underline block w-full bg-gray-300 font-semibold hover:bg-gray-200 rounded-3xl p-2 border-1 border-dotted cursor-pointer",children:"Cancel!!"})})]})})]}),t&&b.jsx(fi,{})]})},w6=()=>{let[r,e]=O.useState(""),{authUser:t}=O.useContext(hi),a=ui(),o=h=>{e(h.target.value)},u=async h=>{h.preventDefault();try{if(r.toLowerCase().trim()==="delete account"){let d=Af(Gu,"user-profile",t==null?void 0:t.uid);await mC(t),await jN(d),Ft.success("Account deleted Successfully"),a("/auth/register")}else Ft.error("Invalid input")}catch(d){Ft.error(d.message)}};return b.jsx("section",{className:"flex h-[100%] w-[100%] items-center justify-center",children:b.jsxs("article",{className:"min-h-[300px] w-[40%] bg-slate-900  rounded-xl p-4 ga",children:[b.jsx("h2",{className:"text-center text-2xl",children:"Delete Account"}),b.jsxs("form",{className:"mt-6 flex flex-col gap-4",onSubmit:u,children:[b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("h3",{children:"Are you sure you want to delete the Account?"}),b.jsx("h3",{children:"If yes, Enter delete account"})]}),b.jsx("input",{type:"text",placeholder:"Delete Account",value:r,name:"text",onChange:o,className:"outline-none w-full bg-white py-2 px-4 rounded-lg text-black"}),b.jsx("button",{className:"py-2 px-4 bg-red-500 rounded-lg cursor-pointer hover:bg-red-700",children:"Delete Account"})]})]})})};function S6(r){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M368 96H144a16 16 0 0 1 0-32h224a16 16 0 0 1 0 32zm32 48H112a16 16 0 0 1 0-32h288a16 16 0 0 1 0 32zm19.13 304H92.87A44.92 44.92 0 0 1 48 403.13V204.87A44.92 44.92 0 0 1 92.87 160h326.26A44.92 44.92 0 0 1 464 204.87v198.26A44.92 44.92 0 0 1 419.13 448z"},child:[]}]})(r)}const A6=()=>b.jsx("div",{className:"h-[calc(100vh-65px)] sticky top-[70px] w-[20%] bg-slate-600 px-4 py-8 shrink-0",children:b.jsxs("ul",{className:"text-4xl font-medium flex flex-col gap-15 m-5 cursor-pointer",children:[b.jsx("li",{children:b.jsxs(kt,{to:"/admin",end:!0,className:r=>{let{isActive:e}=r;return`py-3 px-4 w-[100%] rounded-xl hover:bg-sky-600 flex items-center gap-5 ${e&&"hover: bg-sky-700"}`},children:[b.jsx(BT,{}),"Dashboard"]})}),b.jsx("li",{children:b.jsxs(kt,{to:"/admin/add-albums",end:!0,className:r=>{let{isActive:e}=r;return`py-3 px-4 w-[100%] rounded-xl hover:bg-sky-600 flex items-center gap-5 ${e&&"hover: bg-sky-700"}`},children:[b.jsx(S6,{}),"Add Albums"]})})]})}),R6=()=>b.jsxs("div",{className:"flex bg-slate-800 min-h-[calc(100vh-65px)]",children:[b.jsx(A6,{}),b.jsx(sf,{})]}),x6=()=>b.jsx("div",{children:"AdminDashboard"}),C6=()=>{let[r,e]=O.useState(!1),[t,a]=O.useState({albumTitle:"",albumPoster:null,albumReleaseDate:"",albumLanguages:"",albumDescription:""}),{albumTitle:o,albumPoster:u,albumReleaseDate:h,albumLanguages:d,albumDescription:p}=t,g=Z=>{let oe=Z.target.value,V=Z.target.name;a({...t,[V]:oe})},E=Z=>{let oe=Z.target.files[0];a({...t,albumPoster:oe})},T={songName:"",songFile:null,songThumbnail:null,songSingers:"",songMood:"",songDirector:""},[S,C]=O.useState([T]),P=()=>{C([...S,{...T}])},$=Z=>{let oe=S.filter((V,ue)=>ue!==Z);C(oe)},j=(Z,oe)=>{let V=Z.target.value,ue=Z.target.name,M=[...S];M[oe][ue]=V,C(M)},X=(Z,oe)=>{let V=Z.target.files[0],ue=Z.target.name,M=[...S];M[oe][ue]=V,C(M)},ee=async Z=>{Z.preventDefault();try{e(!0);let oe=new FormData;oe.append("file",u),oe.append("upload_preset","Innovators Hub Music");let ue=await(await fetch("https://api.cloudinary.com/v1_1/dz4q4vx88/image/upload",{method:"POST",body:oe})).json();console.log(ue);let M=ue.asset_id,x=ue.url;console.log(ue);let R={albumID:M,albumTitle:o,albumPoster:x,albumReleaseDate:h,albumLanguages:d,albumDescription:p};console.log(R);let I=[];await Promise.all(S.map(async(N,pt)=>{let Ue=new FormData;Ue.append("file",N.songPoster),Ue.append("upload_preset","Innovators Hub Music");let Ee=(await(await fetch("https://api.cloudinary.com/v1_1/dz4q4vx88/image/upload",{method:"POST",body:Ue})).json()).url,ke=new FormData;ke.append("file",N.songFile),ke.append("upload_preset","Innovators Hub Music");let ae=await(await fetch("https://api.cloudinary.com/v1_1/dz4q4vx88/upload",{method:"POST",body:ke})).json(),ge=ae.url,fe=ae.format,de=ae.bytes,De=ae.asset_id,Le=ae.duration,_t={songID:De,songName:N.songName,songURL:ge,songThumbnail:Ee,songFormat:fe,songBytes:de,songDuration:Le,songSingers:N.songSingers,songMood:N.songMood,songDirector:N.songDirector};I.push(_t)}));let U={...R,songs:I};console.log(U);let H=Af(Gu,"album_collection",R.albumID);await OT(H,U)}catch(oe){console.log(oe)}finally{e(!1)}};return b.jsxs("section",{className:"h-[100%] w-[100%] bg-sky-700 flex p-12 justify-center",children:[b.jsxs("article",{className:"min-h-[900px] w-[80%] bg-slate-700 rounded-2xl p-7 flex flex-col gap-10",children:[b.jsx("h2",{className:"text-center text-3xl",children:"Add Albums!"}),b.jsxs("form",{action:"",onSubmit:ee,children:[b.jsx("h3",{className:"text-3xl",children:"Album Details"}),b.jsxs("article",{className:"mt-5 flex flex-wrap gap-8",children:[b.jsxs("div",{className:"flex flex-col gap-4 w-[48%]",children:[b.jsx("label",{htmlFor:"albumtitle",children:"Album Title"}),b.jsx("input",{type:"text",id:"albumtitle",placeholder:"Enter album title",value:o,name:"albumTitle",onChange:g,className:"outline-none bg-white py-3 px-4 rounded-xl text-black "})]}),b.jsxs("div",{className:"flex flex-col gap-4 w-[48%]",children:[b.jsx("label",{htmlFor:"albumposter",className:"",children:"Album Poster"}),b.jsx("input",{type:"file",id:"albumposter",name:"albumPoster",onChange:E,className:"outline-none bg-white py-3 px-4 rounded-xl text-black file:bg-slate-600 file:text-white file:px-2 file:rounded-lg"})]}),b.jsxs("div",{className:"flex flex-col gap-4 w-[48%]",children:[b.jsx("label",{htmlFor:"release",children:"Release Date"}),b.jsx("input",{type:"date",id:"release",placeholder:"Enter album title",value:h,onChange:g,name:"albumReleaseDate",className:"outline-none bg-white py-3 px-4 rounded-xl text-black"})]}),b.jsxs("div",{className:"flex flex-col gap-4 w-[48%]",children:[b.jsx("label",{htmlFor:"lang",children:"Languages"}),b.jsx("input",{type:"text",id:"lang",placeholder:"Enter languages",value:d,onChange:g,name:"albumLanguages",className:"outline-none bg-white py-3 px-4 rounded-xl text-black"})]}),b.jsxs("div",{className:"flex flex-col gap-4 w-[98%]",children:[b.jsx("label",{htmlFor:"albumdesc",children:"Album Description"}),b.jsx("textarea",{id:"albumdesc",placeholder:"Enter album description",value:p,onChange:g,name:"albumDescription",className:"outline-none bg-white py-3 px-4 rounded-xl text-black"})]})]}),b.jsx("h3",{className:"text-center text-3xl mt-10",children:"Song Details"}),b.jsx("article",{className:"mt-5 flex flex-col gap-7",children:S.map((Z,oe)=>b.jsxs("section",{className:"bg-slate-600 rounded-lg p-6",children:[b.jsxs("h4",{className:"text-xl text-center",children:["Song ",oe+1]}),b.jsxs("main",{className:"flex flex-wrap gap-6",children:[b.jsxs("div",{className:"flex flex-col gap-4 w-[32%]",children:[b.jsx("label",{htmlFor:"songname",children:"Song Name"}),b.jsx("input",{type:"text",id:"songname",name:"songName",value:Z.songName,onChange:V=>j(V,oe),placeholder:"Enter song title",className:"outline-none bg-white py-3 px-4 rounded-xl text-black "})]}),b.jsxs("div",{className:"flex flex-col gap-4 w-[32%]",children:[b.jsx("label",{htmlFor:"songfile",children:"Song File"}),b.jsx("input",{type:"file",id:"songfile",name:"songFile",onChange:V=>X(V,oe),className:"outline-none bg-white py-3 px-4 rounded-xl text-black  file:bg-slate-600 file:text-white file:px-2 file:rounded-lg "})]}),b.jsxs("div",{className:"flex flex-col gap-4 w-[32%]",children:[b.jsx("label",{htmlFor:"songposter",children:"Song Poster"}),b.jsx("input",{type:"file",id:"songposter",name:"songPoster",onChange:V=>X(V,oe),className:"outline-none bg-white py-3 px-4 rounded-xl text-black  file:bg-slate-600 file:text-white file:px-2 file:rounded-lg"})]}),b.jsxs("div",{className:"flex flex-col gap-4 w-[32%]",children:[b.jsx("label",{htmlFor:"singers",children:"Singers"}),b.jsx("input",{type:"text",id:"singers",name:"songSingers",value:Z.songSingers,onChange:V=>j(V,oe),placeholder:"Enter singers name",className:"outline-none bg-white py-3 px-4 rounded-xl text-black "})]}),b.jsxs("div",{className:"flex flex-col gap-4 w-[32%]",children:[b.jsx("label",{htmlFor:"mood",children:"Mood"}),b.jsx("input",{type:"text",id:"mood",name:"songMood",value:Z.songMood,onChange:V=>j(V,oe),placeholder:"Enter song's genre or mood",className:"outline-none bg-white py-3 px-4 rounded-xl text-black "})]}),b.jsxs("div",{className:"flex flex-col gap-4 w-[32%]",children:[b.jsx("label",{htmlFor:"musicdir",children:"Music Director"}),b.jsx("input",{type:"text",id:"musicdir",name:"songDirector",value:Z.songDirector,onChange:V=>j(V,oe),placeholder:"Enter Music Director's name",className:"outline-none bg-white py-3 px-4 rounded-xl text-black "})]}),b.jsxs("div",{className:"w-full flex justify-between items-center",children:[b.jsx("div",{children:S.length-1===oe&&b.jsx("input",{type:"button",value:"Add song",onClick:P,className:"bg-green-500 px-3 py-2 text-center rounded-lg hover:bg-black"})}),b.jsx("div",{children:S.length>1&&b.jsx("input",{type:"button",value:"Remove song",onClick:()=>$(oe),className:"bg-red-500 px-3 py-2 text-center rounded-lg hover:bg-black"})})]})]})]},oe))}),b.jsx("button",{className:"cursor-pointer w-[98%] mt-8 p-3 text-xl bg-sky-600 rounded-lg",children:"Upload Album"})]})]}),r&&b.jsx(fi,{})]})},I6=()=>{let{albums:r,isLoading:e}=O.useContext(xf);return console.log(r),b.jsxs("div",{className:"p-15 w-[80%]",children:[b.jsx("h1",{className:"text-4xl font-semibold",children:"Albums"}),b.jsx("section",{className:"mt-15 flex gap-10 overflow-x-auto scrollbar-hide",children:r.map(t=>b.jsxs(kt,{to:"/album-details",state:{album:t},className:"p-7 bg-sky-800 rounded-2xl shrink-0",children:[b.jsx("img",{src:t.albumPoster,alt:"",className:"h-[270px] w-[240px] rounded-lg"}),b.jsx("h2",{className:"text-2xl text-center font-semibold mt-5",children:t.albumTitle})]},t.albumID))}),e&&b.jsx(fi,{})]})},D6=()=>{let r=Wi();console.log(r);let{state:{album:e}}=r,{songs:t,setSongs:a,isPlaying:o,setIsPlaying:u,currentSongIndex:h,setCurrentSongIndex:d}=O.useContext(xf),p=E=>{a(e.songs),d(E),u(h===E?!o:!0)};const g=E=>{let T=Math.floor(E/60),S=Math.floor(E%60);return`${T}:${S.toString().padStart(2,"0")}`};return b.jsxs("section",{className:"p-15",children:[b.jsxs("article",{className:"flex gap-8 bg-sky-900 p-8 rounded-xl",children:[b.jsx("aside",{className:"shrink-0 bg-sky-700 p-8 rounded-xl",children:b.jsx("img",{src:e.albumPoster,alt:"",className:"h-[450px] w-[330px] rounded-xl"})}),b.jsxs("aside",{children:[b.jsx("h1",{className:"text-6xl font-semibold",children:e.albumTitle}),b.jsxs("ul",{className:"mt-15 flex flex-col gap-5 text-3xl",children:[b.jsxs("li",{className:"flex",children:[b.jsx("span",{className:"w-[150px]",children:"Title"}),b.jsx("span",{children:e.albumTitle})]}),b.jsxs("li",{className:"flex",children:[b.jsx("span",{className:"w-[150px]",children:"Number of tracks"}),b.jsx("span",{children:e.songs.length})]}),b.jsxs("li",{className:"flex",children:[b.jsx("span",{className:"w-[150px]",children:"Release Date"}),b.jsx("span",{children:e.albumReleaseDate})]}),b.jsxs("li",{className:"flex",children:[b.jsx("span",{className:"w-[150px]",children:"Languages"}),b.jsx("span",{children:e.albumLanguages})]}),b.jsxs("li",{className:"flex",children:[b.jsx("span",{className:"w-[150px] shrink-0",children:"Decription"}),b.jsx("span",{children:e.albumDescription})]})]})]})]}),b.jsxs("main",{className:`p-6 mt-7 bg-slate-900 rounded-xl ${h!==null&&"mb-[100px]"}`,children:[b.jsx("h1",{className:"text-5xl px-6 p-4 font-semibold",children:"Songs List"}),b.jsxs("table",{className:"w-full mt-16 text-left rounded-lg overflow-hidden",children:[b.jsx("thead",{className:"bg-slate-600 text-3xl text-center",children:b.jsxs("tr",{className:"border-2 border-slate-400",children:[b.jsx("th",{className:"px-4 py-5"}),b.jsx("th",{className:"px-2 py-4",children:"Track"}),b.jsx("th",{className:"px-2 py-4",children:"Song"}),b.jsx("th",{className:"px-2 py-4",children:"Singers"}),b.jsx("th",{className:"px-2 py-4",children:"Music Director"}),b.jsx("th",{className:"px-2 py-4",children:"Mood"}),b.jsx("th",{className:"px-2 py-4",children:"Duration"})]})}),b.jsx("tbody",{className:"w-full text-center text-2xl",children:e.songs.map((E,T)=>b.jsxs("tr",{className:"border-2 border-slate-700 hover:border-slate-200 cursor-pointer",onClick:()=>p(T),children:[b.jsx("td",{className:"py-3 text-center",children:T+1}),b.jsx("td",{className:"py-4 text-center flex justify-center",children:b.jsx("img",{src:E.songThumbnail,alt:"",className:"h-30 w-[50%] rounded-lg"})}),b.jsx("td",{children:E.songName}),b.jsx("td",{children:E.songSingers}),b.jsx("td",{children:E.songDirector}),b.jsx("td",{children:E.songMood}),b.jsx("td",{children:g(E.songDuration)})]}))})]})]})]})},Gm=r=>{let{authUser:e}=O.useContext(hi);return e?b.jsx(XE,{to:"/"}):r.children},zi=r=>{let{authUser:e}=O.useContext(hi);return e?r.children:b.jsx(XE,{to:"/auth/login"})},Km=()=>{let{userProfile:r}=O.useContext($u);return(r==null?void 0:r.role)==="admin"?props.children:b.jsx(Navigate,{to:"/"})},N6=fA([{path:"/",element:b.jsx(n6,{}),children:[{path:"/",element:b.jsx(o6,{}),children:[{index:!0,element:b.jsx(I6,{})},{path:"album-details",element:b.jsx(D6,{})}]},{path:"auth/login",element:b.jsx(Gm,{children:b.jsx(l6,{})})},{path:"auth/register",element:b.jsx(Gm,{children:b.jsx(u6,{})})},{path:"auth/forgot-password",element:b.jsx(Gm,{children:b.jsx(h6,{})})},{path:"admin",element:b.jsx(zi,{children:b.jsx(Km,{children:b.jsx(R6,{})})}),children:[{index:!0,element:b.jsx(zi,{children:b.jsx(Km,{children:b.jsx(x6,{})})})},{path:"add-albums",element:b.jsx(zi,{children:b.jsx(Km,{children:b.jsx(C6,{})})})}]},{path:"user-profile",element:b.jsx(zi,{children:b.jsx(E6,{})}),children:[{index:!0,element:b.jsx(zi,{children:b.jsx(f6,{})})},{path:"update-picture",element:b.jsx(zi,{children:b.jsx(b6,{})})},{path:"update-profile",element:b.jsx(zi,{children:b.jsx(d6,{})})},{path:"update-password",element:b.jsx(zi,{children:b.jsx(T6,{})})},{path:"delete-account",element:b.jsx(zi,{children:b.jsx(w6,{})})}]}]},{path:"*",element:b.jsx(c6,{})}]),O6=()=>b.jsxs("div",{children:[b.jsx(MO,{}),b.jsx(SA,{router:N6})]});bS.createRoot(document.getElementById("root")).render(b.jsx(FN,{children:b.jsx(PO,{children:b.jsx(i6,{children:b.jsx(O6,{})})})}));
